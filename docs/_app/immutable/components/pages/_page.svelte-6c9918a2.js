import{S as Ve,i as Je,s as Ke,k as G,e as $n,N as wv,l as q,h as C,n as S,F as N,G as we,O as tn,b as oe,q as xe,a as ce,m as K,r as Ae,c as fe,P as Fe,u as cn,Q as bv,E as Ge,f as re,g as $t,t as le,d as Dt,H as ye,I as ol,v as Oe,w as Re,D as dt,x as Me,R as xr,T as rs,y as Le,J as Ev,U as ll,K as Tv,L as xv,M as Av,o as ri,V as yt,W as je,X as We,Y as Ar,Z as al,_ as an,$ as kr,a0 as Ir,a1 as nc,p as vr,a2 as uf,a3 as kv,z as Iv,a4 as Sv,a5 as rc}from"../../chunks/paths-b5311ced.js";import{e as Qr,v as qo,u as is,b as wr,s as ei,w as Xn,a as Yr,c as br,d as Er,f as ss,i as Ov}from"../../chunks/misc-b41af6a7.js";import{c as Rv,i as Vo,a as ic,b as sc,d as Mv,I as cf,g as Lv,e as ln,s as lt,t as Cv,f as ff,h as ul,T as Bo,j as Uo,k as cl,C as Pv}from"../../chunks/ClickableWheel-4b60b43d.js";import{_ as ii}from"../../chunks/preload-helper-aa6bc0ce.js";function $v(i,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const a=Object.getOwnPropertyDescriptor(s,o);a&&Object.defineProperty(i,o,a.get?a:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}function oc(i,t,n){const s=i.slice();return s[5]=t[n],s}function lc(i){let t,n;return{c(){t=G("link"),this.h()},l(s){t=q(s,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){S(t,"rel","preload"),S(t,"href",n=i[5]),S(t,"as","font"),S(t,"type","font/woff2"),S(t,"crossorigin","")},m(s,o){oe(s,t,o)},p(s,o){o&16&&n!==(n=s[5])&&S(t,"href",n)},d(s){s&&C(t)}}}function Dv(i){let t,n,s,o,a,u,c,d,h,g,p,v,y,k,A,x,E,T,P,I,F,R,z,M,W,V;document.title=t=i[0];let Z=i[4],ue=[];for(let ie=0;ie<Z.length;ie+=1)ue[ie]=lc(oc(i,Z,ie));return{c(){n=G("meta"),s=G("meta"),o=G("meta"),a=G("meta"),u=G("meta"),c=G("meta"),d=G("meta"),h=G("meta"),g=G("meta"),p=G("meta"),y=G("meta"),k=G("meta"),A=G("meta"),x=G("meta"),E=G("meta"),T=G("meta"),P=G("meta"),I=G("meta"),F=G("meta"),z=G("meta"),M=G("link");for(let ie=0;ie<ue.length;ie+=1)ue[ie].c();V=$n(),this.h()},l(ie){const w=wv('[data-svelte="svelte-1htu80s"]',document.head);n=q(w,"META",{name:!0,content:!0}),s=q(w,"META",{name:!0,content:!0}),o=q(w,"META",{name:!0,content:!0}),a=q(w,"META",{property:!0,content:!0}),u=q(w,"META",{property:!0,content:!0}),c=q(w,"META",{property:!0,content:!0}),d=q(w,"META",{property:!0,content:!0}),h=q(w,"META",{property:!0,content:!0}),g=q(w,"META",{property:!0,content:!0}),p=q(w,"META",{property:!0,content:!0}),y=q(w,"META",{property:!0,content:!0}),k=q(w,"META",{property:!0,content:!0}),A=q(w,"META",{property:!0,content:!0}),x=q(w,"META",{name:!0,content:!0}),E=q(w,"META",{name:!0,content:!0}),T=q(w,"META",{name:!0,content:!0}),P=q(w,"META",{name:!0,content:!0}),I=q(w,"META",{name:!0,content:!0}),F=q(w,"META",{name:!0,content:!0}),z=q(w,"META",{name:!0,content:!0}),M=q(w,"LINK",{rel:!0,href:!0});for(let $=0;$<ue.length;$+=1)ue[$].l(w);V=$n(),w.forEach(C),this.h()},h(){S(n,"name","description"),S(n,"content",i[1]),S(s,"name","author"),S(s,"content","The Pudding"),S(o,"name","news_keywords"),S(o,"content",i[3]),S(a,"property","og:title"),S(a,"content",i[0]),S(u,"property","og:site_name"),S(u,"content","The Pudding"),S(c,"property","og:url"),S(c,"content",i[2]),S(d,"property","og:description"),S(d,"content",i[1]),S(h,"property","og:type"),S(h,"content","article"),S(g,"property","og:locale"),S(g,"content","en_US"),S(p,"property","og:image"),S(p,"content",v=i[2]+"/assets/social-facebook.jpg"),S(y,"property","og:image:type"),S(y,"content","image/jpeg"),S(k,"property","og:image:width"),S(k,"content","1200"),S(A,"property","og:image:height"),S(A,"content","600"),S(x,"name","twitter:card"),S(x,"content","summary_large_image"),S(E,"name","twitter:site"),S(E,"content","https://pudding.cool"),S(T,"name","twitter:creator"),S(T,"content","@puddingviz"),S(P,"name","twitter:title"),S(P,"content",i[0]),S(I,"name","twitter:description"),S(I,"content",i[1]),S(F,"name","twitter:image:src"),S(F,"content",R=i[2]+"/assets/social-twitter.jpg"),S(z,"name","robots"),S(z,"content","max-image-preview:large"),S(M,"rel","canonical"),S(M,"href",W=i[2]+"/")},m(ie,w){N(document.head,n),N(document.head,s),N(document.head,o),N(document.head,a),N(document.head,u),N(document.head,c),N(document.head,d),N(document.head,h),N(document.head,g),N(document.head,p),N(document.head,y),N(document.head,k),N(document.head,A),N(document.head,x),N(document.head,E),N(document.head,T),N(document.head,P),N(document.head,I),N(document.head,F),N(document.head,z),N(document.head,M);for(let $=0;$<ue.length;$+=1)ue[$].m(document.head,null);N(document.head,V)},p(ie,[w]){if(w&1&&t!==(t=ie[0])&&(document.title=t),w&2&&S(n,"content",ie[1]),w&8&&S(o,"content",ie[3]),w&1&&S(a,"content",ie[0]),w&4&&S(c,"content",ie[2]),w&2&&S(d,"content",ie[1]),w&4&&v!==(v=ie[2]+"/assets/social-facebook.jpg")&&S(p,"content",v),w&1&&S(P,"content",ie[0]),w&2&&S(I,"content",ie[1]),w&4&&R!==(R=ie[2]+"/assets/social-twitter.jpg")&&S(F,"content",R),w&4&&W!==(W=ie[2]+"/")&&S(M,"href",W),w&16){Z=ie[4];let $;for($=0;$<Z.length;$+=1){const U=oc(ie,Z,$);ue[$]?ue[$].p(U,w):(ue[$]=lc(U),ue[$].c(),ue[$].m(V.parentNode,V))}for(;$<ue.length;$+=1)ue[$].d(1);ue.length=Z.length}},i:we,o:we,d(ie){C(n),C(s),C(o),C(a),C(u),C(c),C(d),C(h),C(g),C(p),C(y),C(k),C(A),C(x),C(E),C(T),C(P),C(I),C(F),C(z),C(M),tn(ue,ie),C(V)}}}function Nv(i,t,n){let{title:s="Title TK"}=t,{description:o="Description TK"}=t,{url:a="https://pudding.cool"}=t,{keywords:u=""}=t,{preloadFont:c=[]}=t;return i.$$set=d=>{"title"in d&&n(0,s=d.title),"description"in d&&n(1,o=d.description),"url"in d&&n(2,a=d.url),"keywords"in d&&n(3,u=d.keywords),"preloadFont"in d&&n(4,c=d.preloadFont)},[s,o,a,u,c]}class Bv extends Ve{constructor(t){super(),Je(this,t,Nv,Dv,Ke,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function ac(i){let t,n=i[2][0]+"",s,o,a,u=i[2][1]+"",c;return{c(){t=G("span"),s=xe(n),o=ce(),a=G("span"),c=xe(u),this.h()},l(d){t=q(d,"SPAN",{class:!0});var h=K(t);s=Ae(h,n),h.forEach(C),o=fe(d),a=q(d,"SPAN",{class:!0});var g=K(a);c=Ae(g,u),g.forEach(C),this.h()},h(){S(t,"class","svelte-157h5as"),S(a,"class","svelte-157h5as")},m(d,h){oe(d,t,h),N(t,s),oe(d,o,h),oe(d,a,h),N(a,c)},p(d,h){h&4&&n!==(n=d[2][0]+"")&&cn(s,n),h&4&&u!==(u=d[2][1]+"")&&cn(c,u)},d(d){d&&C(t),d&&C(o),d&&C(a)}}}function Uv(i){let t,n,s,o,a,u,c,d,h=i[1]==="inner"&&ac(i);return{c(){t=G("div"),n=G("span"),s=xe(i[0]),o=ce(),a=G("button"),h&&h.c(),this.h()},l(g){t=q(g,"DIV",{class:!0});var p=K(t);n=q(p,"SPAN",{class:!0,id:!0});var v=K(n);s=Ae(v,i[0]),v.forEach(C),o=fe(p),a=q(p,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var y=K(a);h&&h.l(y),y.forEach(C),p.forEach(C),this.h()},h(){S(n,"class","label svelte-157h5as"),S(n,"id",i[4]),S(a,"role","switch"),S(a,"aria-checked",i[3]),S(a,"aria-labelledby",i[4]),S(a,"class","svelte-157h5as"),S(t,"class",u="toggle toggle--"+i[1]+" svelte-157h5as")},m(g,p){oe(g,t,p),N(t,n),N(n,s),N(t,o),N(t,a),h&&h.m(a,null),c||(d=Fe(a,"click",i[5]),c=!0)},p(g,[p]){p&1&&cn(s,g[0]),g[1]==="inner"?h?h.p(g,p):(h=ac(g),h.c(),h.m(a,null)):h&&(h.d(1),h=null),p&8&&S(a,"aria-checked",g[3]),p&2&&u!==(u="toggle toggle--"+g[1]+" svelte-157h5as")&&S(t,"class",u)},i:we,o:we,d(g){g&&C(t),h&&h.d(),c=!1,d()}}}function Fv(i,t,n){let{label:s}=t,{style:o="inner"}=t,{options:a=["on","off"]}=t,{value:u=a[0]}=t,c=u===a[0];const d=`toggle-${Math.floor(Math.random()*1e6)}`,h=g=>{const v=g.target.getAttribute("aria-checked");n(3,c=v!=="true"),n(6,u=c?a[0]:a[1])};return i.$$set=g=>{"label"in g&&n(0,s=g.label),"style"in g&&n(1,o=g.style),"options"in g&&n(2,a=g.options),"value"in g&&n(6,u=g.value)},[s,o,a,c,d,h,u]}class zv extends Ve{constructor(t){super(),Je(this,t,Fv,Uv,Ke,{label:0,style:1,options:2,value:6})}}const jv="Title tk",Wv="Description Tk",Hv="https://pudding.cool/2022/11/emotion-wheel",Gv="By <a href=# target=_blank>Abby VanMuijen</a> and <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",qv=[{id:"survey-basic"},{id:"show-you",text:["This is a story about emotions. Can I show you what I\u2019ve been learning?","Up until recently, I would always answer that question (\u201Chow are you doing?\u201D) with one of those 3 options."]},{id:"change",text:["But then that started to change."]},{id:"depression-anxiety",text:["I started to experience panic attacks, self harm, depression, and anxiety."]},{id:"therapy",text:["So I got my butt into therapy (where they don't let you off the hook with answers like this...)."]},{id:"try-wheel",text:['My therapist suggested I use a feelings wheel to help improve my "emotional vocabulary."',"I could choose words from the wheel to be more specific about how I was feeling and give that feeling a name."]},{id:"survey-words"},{id:"granularity",text:[`This kind of specificity of emotional vocabulary is what Susan David calls <a href="https://resources.soundstrue.com/transcript/susan-david-emotional-agility/" target="_blank">"emotional granularity."</a> When we can identify what we're feeling, we can identify what our body is telling us it needs. Pretty cool, eh?`]},{id:"color",text:["The other thing I thought was interesting about the wheel was that it organized the feelings by color and category. Although I didn't quite like the colors and categories on the wheels I found...","Colors can have very strong emotional associations - but they're different for everyone."]},{id:"survey-color"},{id:"blocks",text:["I started to do this every day - I'd write the words I was feeling and the color I associated with that feeling."]},{id:"inside-out",text:['I found a lot of my associations lined up with the colors & character designs from "Inside Out" - and studied their process.']},{id:"core",text:["It turns out, most scientists agree, there are at least 5 core emotions that track back to the way our bodies intuitively communicate our needs before we have language."]},{id:"fascinating",text:["FASCINATING."]},{id:"body",text:["So I added a new element to my practice - tracking how feelings showed up in my body and facial expressions.","When I feel frustrated, it looks like this: (not here currently but will show abby\u2019s drawing on the body diagram on the right)"]},{id:"survey-body"},{id:"body-color",text:["I started to notice some patterns in how the colors I was using lined up with how and where the feelings showed up in my body\u2026 there\u2019s so much here!"]},{id:"brene",text:["Bren\xE9 Brown says there are as many theories on emotions as there are emotions researchers - which seems right to me.","And while I'm more of an artist than a researcher, this work has helped me very deeply."]},{id:"final-wheel",text:["I ended up turning all of this into my own emotion wheel, and have used the <strong>words</strong>, the <strong>colors</strong>, and the <strong>somatic mapping</strong> to build a more visual vocabulary to understand and express how I'm doing each day and what I maybe needing to experience more joy (satisfied needs) in my life."]},{id:"same-way",text:["I could no longer answer the question \u201Chow are you doing?\u201D the same way."]},{id:"pause",text:["In difficult moments, I had learned how to pause\u2026 and ask what word is this? What color is it? Where is the feeling manifesting? What is my body telling me it needs?"]},{id:"identify-needs",text:["When I can identify my feelings, I can identify my needs. When I can identify my needs, I can take care of myself and ask those who care for me for help."]},{id:"visual-language",text:["And to keep on digging into different visual language for some of my toughest emotional experiences.","If you\u2019re interested in seeing some more of those drawings\u2013 check out these other rabbit holes: (they\u2019re juicy, promise!)"]},{id:"gallery"},{id:"closing",text:["Thanks for making it all the way to the end! Look how far we\u2019ve come! (show us from the beginning and one concrete sentence about how we now have visual language hooray!)","If you\u2019re interested in digging deeper, here are some of the resources that inspired me in this work."]}],qt={title:jv,description:Wv,url:Hv,byline:Gv,steps:qv};function uc(i,t,n){const s=i.slice();return s[1]=t[n],s}function cc(i,t,n){const s=i.slice();return s[4]=t[n],s}function fc(i){let t,n=i[4]+"";return{c(){t=G("p")},l(s){t=q(s,"P",{});var o=K(t);o.forEach(C)},m(s,o){oe(s,t,o),t.innerHTML=n},p:we,d(s){s&&C(t)}}}function hc(i){let t,n=i[1].text,s=[];for(let o=0;o<n.length;o+=1)s[o]=fc(cc(i,n,o));return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=$n()},l(o){for(let a=0;a<s.length;a+=1)s[a].l(o);t=$n()},m(o,a){for(let u=0;u<s.length;u+=1)s[u].m(o,a);oe(o,t,a)},p(o,a){if(a&1){n=o[1].text;let u;for(u=0;u<n.length;u+=1){const c=cc(o,n,u);s[u]?s[u].p(c,a):(s[u]=fc(c),s[u].c(),s[u].m(t.parentNode,t))}for(;u<s.length;u+=1)s[u].d(1);s.length=n.length}},d(o){tn(s,o),o&&C(t)}}}function Vv(i){let t,n,s=qt.title+"",o,a,u=qt.description+"",c,d,h=qt.byline+"",g,p=i[0],v=[];for(let y=0;y<p.length;y+=1)v[y]=hc(uc(i,p,y));return{c(){t=G("div"),n=G("h1"),o=ce(),a=G("div"),c=ce(),d=G("div"),g=ce();for(let y=0;y<v.length;y+=1)v[y].c();this.h()},l(y){t=q(y,"DIV",{class:!0});var k=K(t);n=q(k,"H1",{});var A=K(n);A.forEach(C),o=fe(k),a=q(k,"DIV",{});var x=K(a);x.forEach(C),c=fe(k),d=q(k,"DIV",{});var E=K(d);E.forEach(C),g=fe(k);for(let T=0;T<v.length;T+=1)v[T].l(k);k.forEach(C),this.h()},h(){S(t,"class","wrapper svelte-odmr0s")},m(y,k){oe(y,t,k),N(t,n),n.innerHTML=s,N(t,o),N(t,a),a.innerHTML=u,N(t,c),N(t,d),d.innerHTML=h,N(t,g);for(let A=0;A<v.length;A+=1)v[A].m(t,null)},p(y,[k]){if(k&1){p=y[0];let A;for(A=0;A<p.length;A+=1){const x=uc(y,p,A);v[A]?v[A].p(x,k):(v[A]=hc(x),v[A].c(),v[A].m(t,null))}for(;A<v.length;A+=1)v[A].d(1);v.length=p.length}},i:we,o:we,d(y){y&&C(t),tn(v,y)}}}function Jv(i){return[qt.steps.filter(n=>n.text)]}class Kv extends Ve{constructor(t){super(),Je(this,t,Jv,Vv,Ke,{})}}function os(i,{delay:t=0,duration:n=400,easing:s=bv}={}){const o=+getComputedStyle(i).opacity;return{delay:t,duration:n,easing:s,css:a=>`opacity: ${a*o}`}}function ns(i,t){return i==null||t==null?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function Yv(i,t){return i==null||t==null?NaN:t<i?-1:t>i?1:t>=i?0:NaN}function hf(i){let t,n,s;i.length!==2?(t=ns,n=(c,d)=>ns(i(c),d),s=(c,d)=>i(c)-d):(t=i===ns||i===Yv?i:Zv,n=i,s=i);function o(c,d,h=0,g=c.length){if(h<g){if(t(d,d)!==0)return g;do{const p=h+g>>>1;n(c[p],d)<0?h=p+1:g=p}while(h<g)}return h}function a(c,d,h=0,g=c.length){if(h<g){if(t(d,d)!==0)return g;do{const p=h+g>>>1;n(c[p],d)<=0?h=p+1:g=p}while(h<g)}return h}function u(c,d,h=0,g=c.length){const p=o(c,d,h,g-1);return p>h&&s(c[p-1],d)>-s(c[p],d)?p-1:p}return{left:o,center:u,right:a}}function Zv(){return 0}function Xv(i){return i===null?NaN:+i}const Qv=hf(ns),e1=Qv.right;hf(Xv).center;const t1=e1;var Jo=Math.sqrt(50),Ko=Math.sqrt(10),Yo=Math.sqrt(2);function n1(i,t,n){var s,o=-1,a,u,c;if(t=+t,i=+i,n=+n,i===t&&n>0)return[i];if((s=t<i)&&(a=i,i=t,t=a),(c=df(i,t,n))===0||!isFinite(c))return[];if(c>0){let d=Math.round(i/c),h=Math.round(t/c);for(d*c<i&&++d,h*c>t&&--h,u=new Array(a=h-d+1);++o<a;)u[o]=(d+o)*c}else{c=-c;let d=Math.round(i*c),h=Math.round(t*c);for(d/c<i&&++d,h/c>t&&--h,u=new Array(a=h-d+1);++o<a;)u[o]=(d+o)/c}return s&&u.reverse(),u}function df(i,t,n){var s=(t-i)/Math.max(0,n),o=Math.floor(Math.log(s)/Math.LN10),a=s/Math.pow(10,o);return o>=0?(a>=Jo?10:a>=Ko?5:a>=Yo?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(a>=Jo?10:a>=Ko?5:a>=Yo?2:1)}function r1(i,t,n){var s=Math.abs(t-i)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),a=s/o;return a>=Jo?o*=10:a>=Ko?o*=5:a>=Yo&&(o*=2),t<i?-o:o}function dc(i,t,n){i=+i,t=+t,n=(o=arguments.length)<2?(t=i,i=0,1):o<3?1:+n;for(var s=-1,o=Math.max(0,Math.ceil((t-i)/n))|0,a=new Array(o);++s<o;)a[s]=i+s*n;return a}function i1(i,t){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(t).domain(i);break}return this}function s1(i,t){t||(t=[]);var n=i?Math.min(t.length,i.length):0,s=t.slice(),o;return function(a){for(o=0;o<n;++o)s[o]=i[o]*(1-a)+t[o]*a;return s}}function o1(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function l1(i,t){var n=t?t.length:0,s=i?Math.min(n,i.length):0,o=new Array(s),a=new Array(n),u;for(u=0;u<s;++u)o[u]=fl(i[u],t[u]);for(;u<n;++u)a[u]=t[u];return function(c){for(u=0;u<s;++u)a[u]=o[u](c);return a}}function a1(i,t){var n=new Date;return i=+i,t=+t,function(s){return n.setTime(i*(1-s)+t*s),n}}function u1(i,t){var n={},s={},o;(i===null||typeof i!="object")&&(i={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in i?n[o]=fl(i[o],t[o]):s[o]=t[o];return function(a){for(o in n)s[o]=n[o](a);return s}}function fl(i,t){var n=typeof t,s;return t==null||n==="boolean"?Rv(t):(n==="number"?Vo:n==="string"?(s=ic(t))?(t=s,sc):Mv:t instanceof ic?sc:t instanceof Date?a1:o1(t)?s1:Array.isArray(t)?l1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?u1:Vo)(i,t)}function c1(i,t){return i=+i,t=+t,function(n){return Math.round(i*(1-n)+t*n)}}var f1=1e-12;function gc(i){return((i=Math.exp(i))+1/i)/2}function h1(i){return((i=Math.exp(i))-1/i)/2}function d1(i){return((i=Math.exp(2*i))-1)/(i+1)}const g1=function i(t,n,s){function o(a,u){var c=a[0],d=a[1],h=a[2],g=u[0],p=u[1],v=u[2],y=g-c,k=p-d,A=y*y+k*k,x,E;if(A<f1)E=Math.log(v/h)/t,x=function(z){return[c+z*y,d+z*k,h*Math.exp(t*z*E)]};else{var T=Math.sqrt(A),P=(v*v-h*h+s*A)/(2*h*n*T),I=(v*v-h*h-s*A)/(2*v*n*T),F=Math.log(Math.sqrt(P*P+1)-P),R=Math.log(Math.sqrt(I*I+1)-I);E=(R-F)/t,x=function(z){var M=z*E,W=gc(F),V=h/(n*T)*(W*d1(t*M+F)-h1(F));return[c+V*y,d+V*k,h*W/gc(t*M+F)]}}return x.duration=E*1e3*t/Math.SQRT2,x}return o.rho=function(a){var u=Math.max(.001,+a),c=u*u,d=c*c;return i(u,c,d)},o}(Math.SQRT2,2,4);function p1(i){return function(){return i}}function _1(i){return+i}var pc=[0,1];function yr(i){return i}function Zo(i,t){return(t-=i=+i)?function(n){return(n-i)/t}:p1(isNaN(t)?NaN:.5)}function m1(i,t){var n;return i>t&&(n=i,i=t,t=n),function(s){return Math.max(i,Math.min(t,s))}}function v1(i,t,n){var s=i[0],o=i[1],a=t[0],u=t[1];return o<s?(s=Zo(o,s),a=n(u,a)):(s=Zo(s,o),a=n(a,u)),function(c){return a(s(c))}}function y1(i,t,n){var s=Math.min(i.length,t.length)-1,o=new Array(s),a=new Array(s),u=-1;for(i[s]<i[0]&&(i=i.slice().reverse(),t=t.slice().reverse());++u<s;)o[u]=Zo(i[u],i[u+1]),a[u]=n(t[u],t[u+1]);return function(c){var d=t1(i,c,1,s)-1;return a[d](o[d](c))}}function w1(i,t){return t.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function b1(){var i=pc,t=pc,n=fl,s,o,a,u=yr,c,d,h;function g(){var v=Math.min(i.length,t.length);return u!==yr&&(u=m1(i[0],i[v-1])),c=v>2?y1:v1,d=h=null,p}function p(v){return v==null||isNaN(v=+v)?a:(d||(d=c(i.map(s),t,n)))(s(u(v)))}return p.invert=function(v){return u(o((h||(h=c(t,i.map(s),Vo)))(v)))},p.domain=function(v){return arguments.length?(i=Array.from(v,_1),g()):i.slice()},p.range=function(v){return arguments.length?(t=Array.from(v),g()):t.slice()},p.rangeRound=function(v){return t=Array.from(v),n=c1,g()},p.clamp=function(v){return arguments.length?(u=v?!0:yr,g()):u!==yr},p.interpolate=function(v){return arguments.length?(n=v,g()):n},p.unknown=function(v){return arguments.length?(a=v,p):a},function(v,y){return s=v,o=y,g()}}function E1(){return b1()(yr,yr)}function T1(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function ls(i,t){if((n=(i=t?i.toExponential(t-1):i.toExponential()).indexOf("e"))<0)return null;var n,s=i.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+i.slice(n+1)]}function Tr(i){return i=ls(Math.abs(i)),i?i[1]:NaN}function x1(i,t){return function(n,s){for(var o=n.length,a=[],u=0,c=i[0],d=0;o>0&&c>0&&(d+c+1>s&&(c=Math.max(1,s-d)),a.push(n.substring(o-=c,o+c)),!((d+=c+1)>s));)c=i[u=(u+1)%i.length];return a.reverse().join(t)}}function A1(i){return function(t){return t.replace(/[0-9]/g,function(n){return i[+n]})}}var k1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function as(i){if(!(t=k1.exec(i)))throw new Error("invalid format: "+i);var t;return new hl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}as.prototype=hl.prototype;function hl(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}hl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function I1(i){e:for(var t=i.length,n=1,s=-1,o;n<t;++n)switch(i[n]){case".":s=o=n;break;case"0":s===0&&(s=n),o=n;break;default:if(!+i[n])break e;s>0&&(s=0);break}return s>0?i.slice(0,s)+i.slice(o+1):i}var gf;function S1(i,t){var n=ls(i,t);if(!n)return i+"";var s=n[0],o=n[1],a=o-(gf=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=s.length;return a===u?s:a>u?s+new Array(a-u+1).join("0"):a>0?s.slice(0,a)+"."+s.slice(a):"0."+new Array(1-a).join("0")+ls(i,Math.max(0,t+a-1))[0]}function _c(i,t){var n=ls(i,t);if(!n)return i+"";var s=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+s:s.length>o+1?s.slice(0,o+1)+"."+s.slice(o+1):s+new Array(o-s.length+2).join("0")}const mc={"%":(i,t)=>(i*100).toFixed(t),b:i=>Math.round(i).toString(2),c:i=>i+"",d:T1,e:(i,t)=>i.toExponential(t),f:(i,t)=>i.toFixed(t),g:(i,t)=>i.toPrecision(t),o:i=>Math.round(i).toString(8),p:(i,t)=>_c(i*100,t),r:_c,s:S1,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function vc(i){return i}var yc=Array.prototype.map,wc=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function O1(i){var t=i.grouping===void 0||i.thousands===void 0?vc:x1(yc.call(i.grouping,Number),i.thousands+""),n=i.currency===void 0?"":i.currency[0]+"",s=i.currency===void 0?"":i.currency[1]+"",o=i.decimal===void 0?".":i.decimal+"",a=i.numerals===void 0?vc:A1(yc.call(i.numerals,String)),u=i.percent===void 0?"%":i.percent+"",c=i.minus===void 0?"\u2212":i.minus+"",d=i.nan===void 0?"NaN":i.nan+"";function h(p){p=as(p);var v=p.fill,y=p.align,k=p.sign,A=p.symbol,x=p.zero,E=p.width,T=p.comma,P=p.precision,I=p.trim,F=p.type;F==="n"?(T=!0,F="g"):mc[F]||(P===void 0&&(P=12),I=!0,F="g"),(x||v==="0"&&y==="=")&&(x=!0,v="0",y="=");var R=A==="$"?n:A==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",z=A==="$"?s:/[%p]/.test(F)?u:"",M=mc[F],W=/[defgprs%]/.test(F);P=P===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function V(Z){var ue=R,ie=z,w,$,U;if(F==="c")ie=M(Z)+ie,Z="";else{Z=+Z;var Q=Z<0||1/Z<0;if(Z=isNaN(Z)?d:M(Math.abs(Z),P),I&&(Z=I1(Z)),Q&&+Z==0&&k!=="+"&&(Q=!1),ue=(Q?k==="("?k:c:k==="-"||k==="("?"":k)+ue,ie=(F==="s"?wc[8+gf/3]:"")+ie+(Q&&k==="("?")":""),W){for(w=-1,$=Z.length;++w<$;)if(U=Z.charCodeAt(w),48>U||U>57){ie=(U===46?o+Z.slice(w+1):Z.slice(w))+ie,Z=Z.slice(0,w);break}}}T&&!x&&(Z=t(Z,1/0));var te=ue.length+Z.length+ie.length,ee=te<E?new Array(E-te+1).join(v):"";switch(T&&x&&(Z=t(ee+Z,ee.length?E-ie.length:1/0),ee=""),y){case"<":Z=ue+Z+ie+ee;break;case"=":Z=ue+ee+Z+ie;break;case"^":Z=ee.slice(0,te=ee.length>>1)+ue+Z+ie+ee.slice(te);break;default:Z=ee+ue+Z+ie;break}return a(Z)}return V.toString=function(){return p+""},V}function g(p,v){var y=h((p=as(p),p.type="f",p)),k=Math.max(-8,Math.min(8,Math.floor(Tr(v)/3)))*3,A=Math.pow(10,-k),x=wc[8+k/3];return function(E){return y(A*E)+x}}return{format:h,formatPrefix:g}}var Yi,pf,_f;R1({thousands:",",grouping:[3],currency:["$",""]});function R1(i){return Yi=O1(i),pf=Yi.format,_f=Yi.formatPrefix,Yi}function M1(i){return Math.max(0,-Tr(Math.abs(i)))}function L1(i,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tr(t)/3)))*3-Tr(Math.abs(i)))}function C1(i,t){return i=Math.abs(i),t=Math.abs(t)-i,Math.max(0,Tr(t)-Tr(i))+1}function P1(i,t,n,s){var o=r1(i,t,n),a;switch(s=as(s==null?",f":s),s.type){case"s":{var u=Math.max(Math.abs(i),Math.abs(t));return s.precision==null&&!isNaN(a=L1(o,u))&&(s.precision=a),_f(s,u)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(a=C1(o,Math.max(Math.abs(i),Math.abs(t))))&&(s.precision=a-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(a=M1(o))&&(s.precision=a-(s.type==="%")*2);break}}return pf(s)}function $1(i){var t=i.domain;return i.ticks=function(n){var s=t();return n1(s[0],s[s.length-1],n==null?10:n)},i.tickFormat=function(n,s){var o=t();return P1(o[0],o[o.length-1],n==null?10:n,s)},i.nice=function(n){n==null&&(n=10);var s=t(),o=0,a=s.length-1,u=s[o],c=s[a],d,h,g=10;for(c<u&&(h=u,u=c,c=h,h=o,o=a,a=h);g-- >0;){if(h=df(u,c,n),h===d)return s[o]=u,s[a]=c,t(s);if(h>0)u=Math.floor(u/h)*h,c=Math.ceil(c/h)*h;else if(h<0)u=Math.ceil(u*h)/h,c=Math.floor(c*h)/h;else break;d=h}return i},i}function mf(){var i=E1();return i.copy=function(){return w1(i,mf())},i1.apply(i,arguments),$1(i)}function bc(i){let t,n,s,o,a,u,c=qt.title+"",d,h,g=qt.description+"",p,v,y=qt.byline+"",k,A,x,E,T,P,I,F,R,z,M,W;return I=new cf({props:{name:"arrow-down"}}),{c(){t=G("div"),n=G("a"),s=G("img"),a=ce(),u=G("h1"),d=ce(),h=G("div"),p=ce(),v=G("div"),k=ce(),A=G("div"),x=xe("Scroll to begin"),E=ce(),T=G("div"),P=G("span"),Oe(I.$$.fragment),F=ce(),R=G("div"),z=xe("This story contains audio."),this.h()},l(V){t=q(V,"DIV",{class:!0});var Z=K(t);n=q(Z,"A",{href:!0,"aria-label":!0,target:!0,class:!0});var ue=K(n);s=q(ue,"IMG",{class:!0,src:!0}),ue.forEach(C),a=fe(Z),u=q(Z,"H1",{class:!0});var ie=K(u);ie.forEach(C),d=fe(Z),h=q(Z,"DIV",{});var w=K(h);w.forEach(C),p=fe(Z),v=q(Z,"DIV",{});var $=K(v);$.forEach(C),k=fe(Z),A=q(Z,"DIV",{class:!0});var U=K(A);x=Ae(U,"Scroll to begin"),U.forEach(C),E=fe(Z),T=q(Z,"DIV",{class:!0});var Q=K(T);P=q(Q,"SPAN",{class:!0});var te=K(P);Re(I.$$.fragment,te),te.forEach(C),Q.forEach(C),F=fe(Z),R=q(Z,"DIV",{class:!0});var ee=K(R);z=Ae(ee,"This story contains audio."),ee.forEach(C),Z.forEach(C),this.h()},h(){S(s,"class","logo svelte-1l7ivul"),dt(s.src,o="assets/img/logo_full.png")||S(s,"src",o),S(n,"href","https://pudding.cool"),S(n,"aria-label","The Pudding"),S(n,"target","_blank"),S(n,"class","svelte-1l7ivul"),S(u,"class","svelte-1l7ivul"),S(A,"class","scroll svelte-1l7ivul"),S(P,"class","icon svelte-1l7ivul"),S(T,"class","mouse svelte-1l7ivul"),S(R,"class","audio svelte-1l7ivul"),S(t,"class","words svelte-1l7ivul")},m(V,Z){oe(V,t,Z),N(t,n),N(n,s),N(t,a),N(t,u),u.innerHTML=c,N(t,d),N(t,h),h.innerHTML=g,N(t,p),N(t,v),v.innerHTML=y,N(t,k),N(t,A),N(A,x),N(t,E),N(t,T),N(T,P),Me(I,P,null),N(t,F),N(t,R),N(R,z),W=!0},p:we,i(V){W||(re(I.$$.fragment,V),xr(()=>{M||(M=rs(t,os,{},!0)),M.run(1)}),W=!0)},o(V){le(I.$$.fragment,V),M||(M=rs(t,os,{},!1)),M.run(0),W=!1},d(V){V&&C(t),Le(I),V&&M&&M.end()}}}function D1(i){let t,n,s,o,a,u=i[1]&&bc();return{c(){t=G("div"),n=G("div"),u&&u.c(),this.h()},l(c){t=q(c,"DIV",{class:!0,style:!0});var d=K(t);n=q(d,"DIV",{class:!0,style:!0});var h=K(n);u&&u.l(h),h.forEach(C),d.forEach(C),this.h()},h(){S(n,"class","title svelte-1l7ivul"),S(n,"style",s=`background-image: url(${i[0]})`),S(t,"class","title-wrapper svelte-1l7ivul"),S(t,"style",o=`transform: scale(${i[2]})`),Ge(t,"visible",!i[3])},m(c,d){oe(c,t,d),N(t,n),u&&u.m(n,null),a=!0},p(c,[d]){c[1]?u?(u.p(c,d),d&2&&re(u,1)):(u=bc(),u.c(),re(u,1),u.m(n,null)):u&&($t(),le(u,1,1,()=>{u=null}),Dt()),(!a||d&1&&s!==(s=`background-image: url(${c[0]})`))&&S(n,"style",s),(!a||d&4&&o!==(o=`transform: scale(${c[2]})`))&&S(t,"style",o),(!a||d&8)&&Ge(t,"visible",!c[3])},i(c){a||(re(u),a=!0)},o(c){le(u),a=!1},d(c){c&&C(t),u&&u.d()}}}function N1(i,t,n){let s,o,a,u;ye(i,Qr,g=>n(3,u=g));let{scrolled:c}=t,{scrollMax:d}=t;const h=mf().domain([0,d]).range([1,2.5]).clamp(!0);return i.$$set=g=>{"scrolled"in g&&n(4,c=g.scrolled),"scrollMax"in g&&n(5,d=g.scrollMax)},i.$$.update=()=>{i.$$.dirty&16&&n(2,s=h(c)),i.$$.dirty&16&&n(1,o=c<80)},n(0,a=`${ol}/assets/img/notebook.jpeg`),[a,o,s,u,c,d]}class B1 extends Ve{constructor(t){super(),Je(this,t,N1,D1,Ke,{scrolled:4,scrollMax:5})}}function U1(i){let t,n,s;const o=i[9].default,a=Ev(o,i,i[8],null);return{c(){t=G("div"),a&&a.c(),this.h()},l(u){t=q(u,"DIV",{id:!0,class:!0});var c=K(t);a&&a.l(c),c.forEach(C),this.h()},h(){S(t,"id","panel-steps"),S(t,"class","svelte-1y7i367"),xr(()=>i[11].call(t))},m(u,c){oe(u,t,c),a&&a.m(t,null),i[10](t),n=ll(t,i[11].bind(t)),s=!0},p(u,[c]){a&&a.p&&(!s||c&256)&&Tv(a,o,u,u[8],s?Av(o,u[8],c,null):xv(u[8]),null)},i(u){s||(re(a,u),s=!0)},o(u){le(a,u),s=!1},d(u){u&&C(t),a&&a.d(u),i[10](null),n()}}}function F1(i,t,n){let s;ye(i,qo,R=>n(1,s=R));let{$$slots:o={},$$scope:a}=t,{root:u}=t,{top:c=0}=t,{bottom:d=0}=t,{increments:h=100}=t,{value:g=void 0}=t;const p=[],v=[];let y=[],k=[],A;const x=()=>{!y.length||y.forEach(T)},E=()=>{let R=0,z=0;for(let M=0;M<p.length;M++)p[M]>R&&(R=p[M],z=M);R>0?n(2,g=z):n(2,g=void 0)},T=(R,z)=>{const M=w=>{w[0].isIntersecting;const $=w[0].intersectionRatio;p[z]=$,E()},W=c?c*-1:0,V=d?d*-1:0,Z=`${W}px 0px ${V}px 0px`,ue={root:u,rootMargin:Z,threshold:v};k[z]&&k[z].disconnect();const ie=new IntersectionObserver(M,ue);ie.observe(R),k[z]=ie},P=()=>{y=A.querySelectorAll(":scope > *:not(iframe)"),x()};ri(()=>{for(let R=0;R<h+1;R++)v.push(R/h);y=A.querySelectorAll(":scope > *:not(iframe)"),x()});function I(R){yt[R?"unshift":"push"](()=>{A=R,n(0,A)})}function F(){s=this.clientWidth,qo.set(s)}return i.$$set=R=>{"root"in R&&n(3,u=R.root),"top"in R&&n(4,c=R.top),"bottom"in R&&n(5,d=R.bottom),"increments"in R&&n(6,h=R.increments),"value"in R&&n(2,g=R.value),"$$scope"in R&&n(8,a=R.$$scope)},i.$$.update=()=>{i.$$.dirty&48&&x()},[A,s,g,u,c,d,h,P,a,o,I,F]}class z1 extends Ve{constructor(t){super(),Je(this,t,F1,U1,Ke,{root:3,top:4,bottom:5,increments:6,value:2,refreshNodes:7})}get refreshNodes(){return this.$$.ctx[7]}}var j1=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const W1=i=>{let t;return i?t=i:typeof fetch>"u"?t=(...n)=>j1(void 0,void 0,void 0,function*(){return yield(yield ii(()=>Promise.resolve().then(()=>fs),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)};class dl extends Error{constructor(t,n="FunctionsError",s){super(t),super.name=n,this.context=s}}class H1 extends dl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class G1 extends dl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class q1 extends dl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var V1=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};class J1{constructor(t,{headers:n={},customFetch:s}={}){this.url=t,this.headers=n,this.fetch=W1(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return V1(this,void 0,void 0,function*(){try{const{headers:o,body:a}=n;let u={},c;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(u["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(u["Content-Type"]="application/json",c=JSON.stringify(a)));const d=yield this.fetch(`${this.url}/${t}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:c}).catch(v=>{throw new H1(v)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new G1(d);if(!d.ok)throw new q1(d);let g=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return g==="application/json"?p=yield d.json():g==="application/octet-stream"?p=yield d.blob():g==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(o){return{data:null,error:o}}})}}var ti={exports:{}};(function(i,t){var n=typeof self<"u"?self:ln,s=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(u){var c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function d(w){return w&&DataView.prototype.isPrototypeOf(w)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(w){return w&&h.indexOf(Object.prototype.toString.call(w))>-1};function p(w){if(typeof w!="string"&&(w=String(w)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(w))throw new TypeError("Invalid character in header field name");return w.toLowerCase()}function v(w){return typeof w!="string"&&(w=String(w)),w}function y(w){var $={next:function(){var U=w.shift();return{done:U===void 0,value:U}}};return c.iterable&&($[Symbol.iterator]=function(){return $}),$}function k(w){this.map={},w instanceof k?w.forEach(function($,U){this.append(U,$)},this):Array.isArray(w)?w.forEach(function($){this.append($[0],$[1])},this):w&&Object.getOwnPropertyNames(w).forEach(function($){this.append($,w[$])},this)}k.prototype.append=function(w,$){w=p(w),$=v($);var U=this.map[w];this.map[w]=U?U+", "+$:$},k.prototype.delete=function(w){delete this.map[p(w)]},k.prototype.get=function(w){return w=p(w),this.has(w)?this.map[w]:null},k.prototype.has=function(w){return this.map.hasOwnProperty(p(w))},k.prototype.set=function(w,$){this.map[p(w)]=v($)},k.prototype.forEach=function(w,$){for(var U in this.map)this.map.hasOwnProperty(U)&&w.call($,this.map[U],U,this)},k.prototype.keys=function(){var w=[];return this.forEach(function($,U){w.push(U)}),y(w)},k.prototype.values=function(){var w=[];return this.forEach(function($){w.push($)}),y(w)},k.prototype.entries=function(){var w=[];return this.forEach(function($,U){w.push([U,$])}),y(w)},c.iterable&&(k.prototype[Symbol.iterator]=k.prototype.entries);function A(w){if(w.bodyUsed)return Promise.reject(new TypeError("Already read"));w.bodyUsed=!0}function x(w){return new Promise(function($,U){w.onload=function(){$(w.result)},w.onerror=function(){U(w.error)}})}function E(w){var $=new FileReader,U=x($);return $.readAsArrayBuffer(w),U}function T(w){var $=new FileReader,U=x($);return $.readAsText(w),U}function P(w){for(var $=new Uint8Array(w),U=new Array($.length),Q=0;Q<$.length;Q++)U[Q]=String.fromCharCode($[Q]);return U.join("")}function I(w){if(w.slice)return w.slice(0);var $=new Uint8Array(w.byteLength);return $.set(new Uint8Array(w)),$.buffer}function F(){return this.bodyUsed=!1,this._initBody=function(w){this._bodyInit=w,w?typeof w=="string"?this._bodyText=w:c.blob&&Blob.prototype.isPrototypeOf(w)?this._bodyBlob=w:c.formData&&FormData.prototype.isPrototypeOf(w)?this._bodyFormData=w:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)?this._bodyText=w.toString():c.arrayBuffer&&c.blob&&d(w)?(this._bodyArrayBuffer=I(w.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(w)||g(w))?this._bodyArrayBuffer=I(w):this._bodyText=w=Object.prototype.toString.call(w):this._bodyText="",this.headers.get("content-type")||(typeof w=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var w=A(this);if(w)return w;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?A(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var w=A(this);if(w)return w;if(this._bodyBlob)return T(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(P(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(W)}),this.json=function(){return this.text().then(JSON.parse)},this}var R=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function z(w){var $=w.toUpperCase();return R.indexOf($)>-1?$:w}function M(w,$){$=$||{};var U=$.body;if(w instanceof M){if(w.bodyUsed)throw new TypeError("Already read");this.url=w.url,this.credentials=w.credentials,$.headers||(this.headers=new k(w.headers)),this.method=w.method,this.mode=w.mode,this.signal=w.signal,!U&&w._bodyInit!=null&&(U=w._bodyInit,w.bodyUsed=!0)}else this.url=String(w);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new k($.headers)),this.method=z($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(U)}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})};function W(w){var $=new FormData;return w.trim().split("&").forEach(function(U){if(U){var Q=U.split("="),te=Q.shift().replace(/\+/g," "),ee=Q.join("=").replace(/\+/g," ");$.append(decodeURIComponent(te),decodeURIComponent(ee))}}),$}function V(w){var $=new k,U=w.replace(/\r?\n[\t ]+/g," ");return U.split(/\r?\n/).forEach(function(Q){var te=Q.split(":"),ee=te.shift().trim();if(ee){var pe=te.join(":").trim();$.append(ee,pe)}}),$}F.call(M.prototype);function Z(w,$){$||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in $?$.statusText:"OK",this.headers=new k($.headers),this.url=$.url||"",this._initBody(w)}F.call(Z.prototype),Z.prototype.clone=function(){return new Z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new k(this.headers),url:this.url})},Z.error=function(){var w=new Z(null,{status:0,statusText:""});return w.type="error",w};var ue=[301,302,303,307,308];Z.redirect=function(w,$){if(ue.indexOf($)===-1)throw new RangeError("Invalid status code");return new Z(null,{status:$,headers:{location:w}})},u.DOMException=a.DOMException;try{new u.DOMException}catch{u.DOMException=function($,U){this.message=$,this.name=U;var Q=Error($);this.stack=Q.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function ie(w,$){return new Promise(function(U,Q){var te=new M(w,$);if(te.signal&&te.signal.aborted)return Q(new u.DOMException("Aborted","AbortError"));var ee=new XMLHttpRequest;function pe(){ee.abort()}ee.onload=function(){var _e={status:ee.status,statusText:ee.statusText,headers:V(ee.getAllResponseHeaders()||"")};_e.url="responseURL"in ee?ee.responseURL:_e.headers.get("X-Request-URL");var Ce="response"in ee?ee.response:ee.responseText;U(new Z(Ce,_e))},ee.onerror=function(){Q(new TypeError("Network request failed"))},ee.ontimeout=function(){Q(new TypeError("Network request failed"))},ee.onabort=function(){Q(new u.DOMException("Aborted","AbortError"))},ee.open(te.method,te.url,!0),te.credentials==="include"?ee.withCredentials=!0:te.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&c.blob&&(ee.responseType="blob"),te.headers.forEach(function(_e,Ce){ee.setRequestHeader(Ce,_e)}),te.signal&&(te.signal.addEventListener("abort",pe),ee.onreadystatechange=function(){ee.readyState===4&&te.signal.removeEventListener("abort",pe)}),ee.send(typeof te._bodyInit>"u"?null:te._bodyInit)})}return ie.polyfill=!0,a.fetch||(a.fetch=ie,a.Headers=k,a.Request=M,a.Response=Z),u.Headers=k,u.Request=M,u.Response=Z,u.fetch=ie,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var o=s;t=o.fetch,t.default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,i.exports=t})(ti,ti.exports);const gl=Lv(ti.exports),fs=$v({__proto__:null,default:gl},[ti.exports]);var K1=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};class Y1{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.allowEmpty=t.allowEmpty,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=gl:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(a=>K1(this,void 0,void 0,function*(){var u,c,d;let h=null,g=null,p=null,v=a.status,y=a.statusText;if(a.ok){if(this.method!=="HEAD"){const E=yield a.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=E:g=JSON.parse(E))}const A=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),x=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");A&&x&&x.length>1&&(p=parseInt(x[1]))}else{const A=yield a.text();try{h=JSON.parse(A)}catch{h={message:A}}if(h&&this.allowEmpty&&((d=h==null?void 0:h.details)===null||d===void 0?void 0:d.includes("Results contain 0 rows"))&&(h=null,v=200,y="OK"),h&&this.shouldThrowOnError)throw h}return{error:h,data:g,count:p,status:v,statusText:y}}));return this.shouldThrowOnError||(o=o.catch(a=>({error:{message:`FetchError: ${a.message}`,details:"",hint:"",code:a.code||""},data:null,count:null,status:0,statusText:""}))),o.then(t,n)}}class Z1 extends Y1{select(t){let n=!1;const s=(t!=null?t:"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:o}={}){const a=o?`${o}.order`:"order",u=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${u?`${u},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:s}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:o=!1,wal:a=!1,format:u="text"}={}){const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${d}"; options=${c};`,u==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}}class mr extends Z1{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=n.map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${a}fts${u}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}}class X1{constructor(t,{headers:n={},schema:s,fetch:o}){this.url=t,this.headers=n,this.schema=s,this.fetch=o}select(t,{head:n=!1,count:s}={}){const o=n?"HEAD":"GET";let a=!1;const u=(t!=null?t:"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",u),s&&(this.headers.Prefer=`count=${s}`),new mr({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n}={}){const s="POST",o=[],a=t;if(n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new mr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:o}={}){const a="POST",u=[`resolution=${s?"ignore":"merge"}-duplicates`];n!==void 0&&this.url.searchParams.set("on_conflict",n);const c=t;return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new mr({method:a,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",o=[],a=t;return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new mr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new mr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Q1="1.0.0",ey={"X-Client-Info":`postgrest-js/${Q1}`};class ty{constructor(t,{headers:n={},schema:s,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},ey),n),this.schema=s,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new X1(n,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(t,n={},{head:s=!1,count:o}={}){let a;const u=new URL(`${this.url}/rpc/${t}`);let c;s?(a="HEAD",Object.entries(n).forEach(([h,g])=>{u.searchParams.append(h,`${g}`)})):(a="POST",c=n);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new mr({method:a,url:u,headers:d,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}}var Fo,Ec;function ny(){if(Ec)return Fo;Ec=1;var i=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Fo=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}(),Fo}const ry="websocket",iy="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",sy=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],oy="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",ly=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],ay="1.0.34",uy={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},cy="https://github.com/theturtle32/WebSocket-Node",fy={node:">=4.0.0"},hy={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},dy={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},gy={verbose:!1},py={test:"tape test/unit/*.js",gulp:"gulp"},_y="index",my={lib:"./lib"},vy="lib/browser.js",yy="Apache-2.0",wy={name:ry,description:iy,keywords:sy,author:oy,contributors:ly,version:ay,repository:uy,homepage:cy,engines:fy,dependencies:hy,devDependencies:dy,config:gy,scripts:py,main:_y,directories:my,browser:vy,license:yy};var by=wy.version,qn;if(typeof globalThis=="object")qn=globalThis;else try{qn=ny()}catch{}finally{if(!qn&&typeof window<"u"&&(qn=window),!qn)throw new Error("Could not determine global this")}var ni=qn.WebSocket||qn.MozWebSocket,Ey=by;function vf(i,t){var n;return t?n=new ni(i,t):n=new ni(i),n}ni&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(vf,i,{get:function(){return ni[i]}})});var Ty={w3cwebsocket:ni?vf:null,version:Ey};const xy="2.0.0",Ay={"X-Client-Info":`realtime-js/${xy}`},ky="1.0.0",yf=1e4,Iy=1e3;var Zr;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Zr||(Zr={}));var Pt;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Pt||(Pt={}));var Qt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Qt||(Qt={}));var Xo;(function(i){i.websocket="websocket"})(Xo||(Xo={}));var Vn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Vn||(Vn={}));class wf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Sy{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const c=s.decode(t.slice(u,u+o));u=u+o;const d=s.decode(t.slice(u,u+a));u=u+a;const h=JSON.parse(s.decode(t.slice(u,t.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class zo{constructor(t,n,s={},o=yf){this.channel=t,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Tc;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(Tc||(Tc={}));class Xr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:a,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xr.syncState(this.state,o,a,u),this.pendingDiffs.forEach(d=>{this.state=Xr.syncDiff(this.state,d,a,u)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Xr.syncDiff(this.state,o,a,u),c())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,o){const a=this.cloneDeep(t),u=this.transformState(n),c={},d={};return this.map(a,(h,g)=>{u[h]||(d[h]=g)}),this.map(u,(h,g)=>{const p=a[h];if(p){const v=g.map(x=>x.presence_ref),y=p.map(x=>x.presence_ref),k=g.filter(x=>y.indexOf(x.presence_ref)<0),A=p.filter(x=>v.indexOf(x.presence_ref)<0);k.length>0&&(c[h]=k),A.length>0&&(d[h]=A)}else c[h]=g}),this.syncDiff(a,{joins:c,leaves:d},s,o)}static syncDiff(t,n,s,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(a,(c,d)=>{var h;const g=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),g.length>0){const p=t[c].map(y=>y.presence_ref),v=g.filter(y=>p.indexOf(y.presence_ref)<0);t[c].unshift(...v)}s(c,g,d)}),this.map(u,(c,d)=>{let h=t[c];if(!h)return;const g=d.map(p=>p.presence_ref);h=h.filter(p=>g.indexOf(p.presence_ref)<0),t[c]=h,o(c,h,d),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const o=t[s];return"metas"in o?n[s]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ue;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Ue||(Ue={}));const xc=(i,t,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((a,u)=>(a[u]=Oy(u,i,t,o),a),{})},Oy=(i,t,n,s)=>{const o=t.find(c=>c.name===i),a=o==null?void 0:o.type,u=n[i];return a&&!s.includes(a)?bf(a,u):Qo(u)},bf=(i,t)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return Cy(t,n)}switch(i){case Ue.bool:return Ry(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return My(t);case Ue.json:case Ue.jsonb:return Ly(t);case Ue.timestamp:return Py(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return Qo(t);default:return Qo(t)}},Qo=i=>i,Ry=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},My=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},Ly=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(t){return console.log(`JSON parse error: ${t}`),i}return i},Cy=(i,t)=>{if(typeof i!="string")return i;const n=i.length-1,s=i[n];if(i[0]==="{"&&s==="}"){let a;const u=i.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(c=>bf(t,c))}return i},Py=i=>typeof i=="string"?i.replace(" ","T"):i;var Ac=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})},kc;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(kc||(kc={}));var Ic;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes"})(Ic||(Ic={}));var Sc;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Sc||(Sc={}));class pl{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new zo(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new wf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Xr(this)}subscribe(t,n=this.timeout){var s,o;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:u}}=this.params;this._onError(h=>t&&t("CHANNEL_ERROR",h)),this._onClose(()=>t&&t("CLOSED"));const c={},d={broadcast:a,presence:u,postgres_changes:(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(h=>h.filter))!==null&&o!==void 0?o:[]};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:h})=>{var g;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),h===void 0){t&&t("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,v=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,y=[];for(let k=0;k<v;k++){const A=p[k],{filter:{event:x,schema:E,table:T,filter:P}}=A,I=h&&h[k];if(I&&I.event===x&&I.schema===E&&I.table===T&&I.filter===P)y.push(Object.assign(Object.assign({},A),{id:I.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t("SUBSCRIBED");return}}).receive("error",h=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(t,n={}){return Ac(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(t={}){return Ac(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,s){return this._on(t,n,s)}send(t,n={}){return new Promise(s=>{var o,a,u;const c=this._push(t.type,t,n.timeout||this.timeout);c.rateLimited&&s("rate limited"),t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const o=new zo(this,Qt.leave,{},t);o.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new zo(this,t,n,s);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var o,a;const u=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:g}=Qt;if(s&&[c,d,h,g].indexOf(u)>=0&&s!==this._joinRef())return;let v=this._onMessage(u,n,s);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(y=>{var k,A,x;return((k=y.filter)===null||k===void 0?void 0:k.event)==="*"||((x=(A=y.filter)===null||A===void 0?void 0:A.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===u}).map(y=>y.callback(v,s)):(a=this.bindings[u])===null||a===void 0||a.filter(y=>{var k,A,x,E,T,P;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in y){const I=y.id,F=(k=y.filter)===null||k===void 0?void 0:k.event;return I&&((A=n.ids)===null||A===void 0?void 0:A.includes(I))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const I=(T=(E=y==null?void 0:y.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return I==="*"||I===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===u}).map(y=>{if(typeof v=="object"&&"ids"in v){const k=v.data,{schema:A,table:x,commit_timestamp:E,type:T,errors:P}=k;v=Object.assign(Object.assign({},{schema:A,table:x,commit_timestamp:E,eventType:T,new:{},old:{},errors:P}),this._getPayloadRecords(k))}y.callback(v,s)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const o=t.toLocaleLowerCase(),a={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&pl.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qt.close,{},t)}_onError(t){this._on(Qt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=xc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=xc(t.columns,t.old_record)),n}}var $y=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const Dy=()=>{};class Ny{constructor(t,n){var s;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Ay,this.params={},this.timeout=yf,this.transport=Ty.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Dy,this.conn=null,this.sendBuffer=[],this.serializer=new Sy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${t}/${Xo.websocket}`,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.transport&&(this.transport=n.transport),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.eventsPerSecond;o&&(this.eventsPerSecondLimitMs=Math.floor(1e3/o)),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,u)=>u(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wf(()=>$y(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n!=null?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return t.unsubscribe().then(n=>(this.channels.length===0&&this.disconnect(),n))}removeAllChannels(){return Promise.all(this.channels.map(t=>t.unsubscribe())).then(t=>(this.disconnect(),t))}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Zr.connecting:return Vn.Connecting;case Zr.open:return Vn.Open;case Zr.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}channel(t,n={config:{}}){this.isConnected()||this.connect();const s=new pl(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:o,ref:a}=t;let u=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};if(this.log("push",`${n} ${s} (${a})`,o),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(s)){if(this._throttle(u)())return"rate limited"}else u();else this.sendBuffer.push(u)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Qt.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ky}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:o,payload:a,ref:u}=n;(u&&u===this.pendingHeartbeatRef||o===(a==null?void 0:a.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${s} ${o} ${u&&"("+u+")"||""}`,a),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(o,a,u)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${s}${o}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Iy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(t,n=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(t(),this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},n),!1)}}class Ef extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kt(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class By extends Ef{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Uy extends Ef{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var Tf=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const xf=i=>{let t;return i?t=i:typeof fetch>"u"?t=(...n)=>Tf(void 0,void 0,void 0,function*(){return yield(yield ii(()=>Promise.resolve().then(()=>fs),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)},Fy=()=>Tf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ii(()=>Promise.resolve().then(()=>fs),void 0,import.meta.url)).Response:Response});var Sr=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const Oc=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),zy=(i,t)=>Sr(void 0,void 0,void 0,function*(){const n=yield Fy();i instanceof n?i.json().then(s=>{t(new By(Oc(s),i.status||500))}):t(new Uy(Oc(i),i))}),jy=(i,t,n,s)=>{const o={method:i,headers:(t==null?void 0:t.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};function hs(i,t,n,s,o,a){return Sr(this,void 0,void 0,function*(){return new Promise((u,c)=>{i(n,jy(t,s,o,a)).then(d=>{if(!d.ok)throw d;return s!=null&&s.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>zy(d,c))})})}function el(i,t,n,s){return Sr(this,void 0,void 0,function*(){return hs(i,"GET",t,n,s)})}function Jn(i,t,n,s,o){return Sr(this,void 0,void 0,function*(){return hs(i,"POST",t,s,o,n)})}function Wy(i,t,n,s,o){return Sr(this,void 0,void 0,function*(){return hs(i,"PUT",t,s,o,n)})}function Af(i,t,n,s,o){return Sr(this,void 0,void 0,function*(){return hs(i,"DELETE",t,s,o,n)})}var on=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const Hy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class qy{constructor(t,n={},s,o){this.url=t,this.headers=n,this.bucketId=s,this.fetch=xf(o)}uploadOrUpdate(t,n,s,o){return on(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Gy),o),c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",s)):typeof FormData<"u"&&s instanceof FormData?(a=s,a.append("cacheControl",u.cacheControl)):(a=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),g=yield this.fetch(`${this.url}/object/${h}`,{method:t,body:a,headers:c});if(g.ok)return{data:{path:d},error:null};{const p=yield g.json();return{data:null,error:p}}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}upload(t,n,s){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}update(t,n,s){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n){return on(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}copy(t,n){return on(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,s){return on(this,void 0,void 0,function*(){try{const o=this._getFinalPath(t);let a=yield Jn(this.fetch,`${this.url}/object/sign/${o}`,{expiresIn:n},{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(kt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,s){return on(this,void 0,void 0,function*(){try{const o=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(kt(o))return{data:null,error:o};throw o}})}download(t){return on(this,void 0,void 0,function*(){try{const n=this._getFinalPath(t);return{data:yield(yield el(this.fetch,`${this.url}/object/${n}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}getPublicUrl(t,n){const s=this._getFinalPath(t),o=n!=null&&n.download?`?download=${n.download===!0?"":n.download}`:"";return{data:{publicUrl:encodeURI(`${this.url}/object/public/${s}${o}`)}}}remove(t){return on(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}list(t,n,s){return on(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Hy),n),{prefix:t||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(kt(o))return{data:null,error:o};throw o}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}const Vy="2.0.0",Jy={"X-Client-Info":`storage-js/${Vy}`};var gr=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};class Ky{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},Jy),n),this.fetch=xf(s)}listBuckets(){return gr(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kt(t))return{data:null,error:t};throw t}})}getBucket(t){return gr(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return gr(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return gr(this,void 0,void 0,function*(){try{return{data:yield Wy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(s){if(kt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return gr(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return gr(this,void 0,void 0,function*(){try{return{data:yield Af(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}}class Yy extends Ky{constructor(t,n={},s){super(t,n,s)}from(t){return new qy(this.url,this.headers,t,this.fetch)}}const Zy="2.0.0",Xy={"X-Client-Info":`supabase-js/${Zy}`};var Qy=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const ew=i=>{let t;return i?t=i:typeof fetch>"u"?t=gl:t=fetch,(...n)=>t(...n)},tw=()=>typeof Headers>"u"?ti.exports.Headers:Headers,nw=(i,t,n)=>{const s=ew(n),o=tw();return(a,u)=>Qy(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:i;let h=new o(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",i),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),s(a,Object.assign(Object.assign({},u),{headers:h}))})};function rw(i){return i.replace(/\/$/,"")}function iw(i,t){const{db:n,auth:s,realtime:o,global:a}=i,{db:u,auth:c,realtime:d,global:h}=t;return{db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign({},h),a)}}var ds=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};function sw(i){return Math.round(Date.now()/1e3)+i}function ow(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const t=Math.random()*16|0;return(i=="x"?t:t&3|8).toString(16)})}const Yn=()=>typeof window<"u";function Gt(i,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),i=i.replace(/[\[\]]/g,"\\$&");const s=new RegExp("[?&#]"+i+"(=([^&#]*)|&|#|$)"),o=s.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}const kf=i=>{let t;return i?t=i:typeof fetch>"u"?t=(...n)=>ds(void 0,void 0,void 0,function*(){return yield(yield ii(()=>Promise.resolve().then(()=>fs),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)},lw=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",aw=(i,t,n)=>ds(void 0,void 0,void 0,function*(){yield i.setItem(t,JSON.stringify(n))}),Rc=(i,t)=>ds(void 0,void 0,void 0,function*(){const n=yield i.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),uw=(i,t)=>ds(void 0,void 0,void 0,function*(){yield i.removeItem(t)}),cw=i=>{try{return atob(i.replace(/[-]/g,"+").replace(/[_]/g,"/"))}catch(t){if(t instanceof ReferenceError)return Buffer.from(i,"base64").toString("utf-8");throw t}};class gs{constructor(){this.promise=new gs.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}gs.promiseConstructor=Promise;class _l extends Error{constructor(t){super(t),this.__isAuthError=!0,this.name="AuthError"}}function tt(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class fw extends _l{constructor(t,n){super(t),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class If extends _l{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ps extends _l{constructor(t,n,s){super(t),this.name=n,this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zi extends ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class jo extends ps{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class En extends ps{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class us extends ps{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}var ml=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})},hw=globalThis&&globalThis.__rest||function(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};const Xi=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),dw=(i,t)=>ml(void 0,void 0,void 0,function*(){const n=[502,503,504];lw(i)?n.includes(i.status)?t(new us(Xi(i),i.status)):i.json().then(s=>{t(new fw(Xi(s),i.status||500))}).catch(s=>{t(new If(Xi(s),s))}):t(new us(Xi(i),0))}),gw=(i,t,n,s)=>{const o={method:i,headers:(t==null?void 0:t.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};function it(i,t,n,s){var o,a;return ml(this,void 0,void 0,function*(){const u=(o=s==null?void 0:s.headers)!==null&&o!==void 0?o:{};s!=null&&s.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const c=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=yield pw(i,t,n+d,{headers:u,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(h):{data:Object.assign({},h),error:null}})}function pw(i,t,n,s,o,a){return ml(this,void 0,void 0,function*(){return new Promise((u,c)=>{i(n,gw(t,s,o,a)).then(d=>{if(!d.ok)throw d;return s!=null&&s.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>dw(d,c))})})}function pr(i){var t;let n=null;mw(i)&&(n=Object.assign({},i),n.expires_at=sw(i.expires_in));const s=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:n,user:s},error:null}}function Kn(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function _w(i){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a}=i,u=hw(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:s,redirect_to:o,verification_type:a},d=Object.assign({},u);return{data:{properties:c,user:d},error:null}}function mw(i){return i.access_token&&i.refresh_token&&i.expires_in}var Ln=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})},vw=globalThis&&globalThis.__rest||function(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};class yw{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=kf(s)}signOut(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:t,noResolveJson:!0}),{error:null}}catch(n){if(tt(n))return{error:n};throw n}})}inviteUserByEmail(t,n={}){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kn})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}})}generateLink(t){return Ln(this,void 0,void 0,function*(){try{const{options:n}=t,s=vw(t,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),yield it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:_w,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(tt(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kn})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}listUsers(){return Ln(this,void 0,void 0,function*(){try{const{data:t,error:n}=yield it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers});if(n)throw n;return{data:Object.assign({},t),error:null}}catch(t){if(tt(t))return{data:{users:[]},error:t};throw t}})}getUserById(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kn})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kn})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}})}deleteUser(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kn})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}}const ww="2.0.1",bw="http://localhost:9999",Ew="supabase.auth.token",Tw={"X-Client-Info":`gotrue-js/${ww}`},Wo=10,Qi={MAX_RETRIES:10,RETRY_INTERVAL:2},xw={getItem:i=>Yn()?globalThis.localStorage.getItem(i):null,setItem:(i,t)=>{!Yn()||globalThis.localStorage.setItem(i,t)},removeItem:i=>{!Yn()||globalThis.localStorage.removeItem(i)}};function Aw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var et=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};Aw();const kw={url:bw,storageKey:Ew,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Tw};class Iw{constructor(t){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const n=Object.assign(Object.assign({},kw),t);this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||xw,this.admin=new yw({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=kf(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return et(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:n}=yield this._getSessionFromUrl();if(n)return yield this._removeSession(),{error:n};const{session:s,redirectType:o}=t;return yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s),o==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",s),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return tt(t)?{error:t}:{error:new If("Unexpected error during initialization",t)}}finally{this._handleVisibilityChange()}})}signUp(t){return et(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in t){const{email:c,password:d,options:h}=t;n=yield it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:h==null?void 0:h.data,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pr})}else if("phone"in t){const{phone:c,password:d,options:h}=t;n=yield it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:h==null?void 0:h.data,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pr})}else throw new jo("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o||!s)return{data:{user:null,session:null},error:o};const a=s.session,u=s.user;return s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithPassword(t){return et(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in t){const{email:a,password:u,options:c}=t;n=yield it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:pr})}else if("phone"in t){const{phone:a,password:u,options:c}=t;n=yield it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:pr})}else throw new jo("You must provide either an email or phone number and a password");const{data:s,error:o}=n;return o||!s?{data:{user:null,session:null},error:o}:(s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:o})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(t){var n,s,o;return et(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams})})}signInWithOtp(t){var n,s,o,a;return et(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in t){const{email:u,options:c}=t,{error:d}=yield it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:u,options:c}=t,{error:d}=yield it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null},error:d}}throw new jo("You must provide either an email or phone number.")}catch(u){if(tt(u))return{data:{user:null,session:null},error:u};throw u}})}verifyOtp(t){var n,s;return et(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:o,error:a}=yield it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captchaToken:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,xform:pr});if(a)throw a;if(!o)throw"An error occurred on token verification.";const u=o.session,c=o.user;return u!=null&&u.access_token&&(yield this._saveSession(u),this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(o){if(tt(o))return{data:{user:null,session:null},error:o};throw o}})}getSession(){return et(this,void 0,void 0,function*(){yield this.initializePromise;let t=null;if(this.persistSession){const a=yield Rc(this.storage,this.storageKey);a!==null&&(this._isValidSession(a)?t=a:yield this._removeSession())}else t=this.inMemorySession;if(!t)return{data:{session:null},error:null};if(!(t.expires_at?t.expires_at<=Date.now()/1e3:!1))return{data:{session:t},error:null};const{session:s,error:o}=yield this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}})}getUser(t){var n,s;return et(this,void 0,void 0,function*(){try{if(!t){const{data:o,error:a}=yield this.getSession();if(a)throw a;t=(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0}return yield it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kn})}catch(o){if(tt(o))return{data:{user:null},error:o};throw o}})}updateUser(t){return et(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();if(s)throw s;if(!n.session)throw new Zi;const o=n.session,{data:a,error:u}=yield it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:t,jwt:o.access_token,xform:Kn});if(u)throw u;return o.user=a.user,yield this._saveSession(o),this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}setSession(t){return et(this,void 0,void 0,function*(){try{const n=Date.now()/1e3;let s=n,o=!0,a=null;if(t.access_token&&t.access_token.split(".")[1]){const u=JSON.parse(cw(t.access_token.split(".")[1]));u.exp&&(s=u.exp,o=s<=n)}if(o){if(!t.refresh_token)throw new Zi;const{data:u,error:c}=yield this._refreshAccessToken(t.refresh_token);if(c)return{data:{session:null,user:null},error:c};if(!u.session)return{data:{session:null,user:null},error:null};a=u.session}else{const{data:u,error:c}=yield this.getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:s-n,expires_at:s}}return yield this._saveSession(a),this._notifyAllSubscribers("TOKEN_REFRESHED",a),{data:{session:a,user:a.user},error:null}}catch(n){if(tt(n))return{data:{session:null,user:null},error:n};throw n}})}_getSessionFromUrl(){return et(this,void 0,void 0,function*(){try{if(!Yn())throw new En("No browser detected.");if(!this._isImplicitGrantFlow())throw new En("Not a valid implicit grant flow url.");const t=Gt("error_description");if(t){const A=Gt("error_code");if(!A)throw new En("No error_code detected.");const x=Gt("error");throw x?new En(t,{error:x,code:A}):new En("No error detected.")}const n=Gt("provider_token"),s=Gt("provider_refresh_token"),o=Gt("access_token");if(!o)throw new En("No access_token detected.");const a=Gt("expires_in");if(!a)throw new En("No expires_in detected.");const u=Gt("refresh_token");if(!u)throw new En("No refresh_token detected.");const c=Gt("token_type");if(!c)throw new En("No token_type detected.");const h=Math.round(Date.now()/1e3)+parseInt(a),{data:g,error:p}=yield this.getUser(o);if(p)throw p;const v=g.user,y={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:parseInt(a),expires_at:h,refresh_token:u,token_type:c,user:v},k=Gt("type");return window.location.hash="",{data:{session:y,redirectType:k},error:null}}catch(t){if(tt(t))return{data:{session:null,redirectType:null},error:t};throw t}})}_isImplicitGrantFlow(){return Yn()&&(Boolean(Gt("access_token"))||Boolean(Gt("error_description")))}signOut(){var t;return et(this,void 0,void 0,function*(){const{data:n,error:s}=yield this.getSession();if(s)return{error:s};const o=(t=n.session)===null||t===void 0?void 0:t.access_token;if(o){const{error:a}=yield this.admin.signOut(o);if(a)return{error:a}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(t){const n=ow(),s={id:n,callback:t,unsubscribe:()=>{this.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,s),{data:{subscription:s}}}resetPasswordForEmail(t,n={}){return et(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(tt(s))return{data:null,error:s};throw s}})}_refreshAccessToken(t){return et(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pr})}catch(n){if(tt(n))return{data:{session:null,user:null},error:n};throw n}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,n={}){const s=this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return Yn()&&(window.location.href=s),{data:{provider:t,url:s},error:null}}_recoverAndRefresh(){var t;return et(this,void 0,void 0,function*(){try{const n=yield Rc(this.storage,this.storageKey);if(!this._isValidSession(n)){n!==null&&(yield this._removeSession());return}const s=Math.round(Date.now()/1e3);if(((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+Wo)if(this.autoRefreshToken&&n.refresh_token){this.networkRetries++;const{error:o}=yield this._callRefreshToken(n.refresh_token);if(o){if(console.log(o.message),o instanceof us&&this.networkRetries<Qi.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(Qi.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(n)),this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){console.error(n);return}})}_callRefreshToken(t){var n,s;return et(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new gs,!t)throw new Zi;const{data:o,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Zi;yield this._saveSession(o.session),this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(tt(o)){const a={session:null,error:o};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(t,n){this.stateChangeEmitters.forEach(s=>s.callback(t,n))}_saveSession(t){return et(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=t);const n=t.expires_at;if(n){const s=Math.round(Date.now()/1e3),o=n-s,a=o>Wo?Wo:.5;this._startAutoRefreshToken((o-a)*1e3)}this.persistSession&&t.expires_at&&(yield this._persistSession(t))})}_persistSession(t){return aw(this.storage,this.storageKey,t)}_removeSession(){return et(this,void 0,void 0,function*(){this.persistSession?yield uw(this.storage,this.storageKey):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)})}_startAutoRefreshToken(t){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(t<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>et(this,void 0,void 0,function*(){this.networkRetries++;const{data:{session:n},error:s}=yield this.getSession();if(!s&&n){const{error:o}=yield this._callRefreshToken(n.refresh_token);o||(this.networkRetries=0),o instanceof us&&this.networkRetries<Qi.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(Qi.RETRY_INTERVAL,this.networkRetries)*100)}}),t),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!Yn()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>et(this,void 0,void 0,function*(){document.visibilityState==="visible"&&(yield this.initializePromise,yield this._recoverAndRefresh())}))}catch(t){console.error("_handleVisibilityChange",t)}}_getUrlForProvider(t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return`${this.url}/authorize?${s.join("&")}`}}class Sw extends Iw{constructor(t){super(t)}}var Ow=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?a(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const Rw={headers:Xy},Mw={schema:"public"},Lw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Cw={};class Pw{constructor(t,n,s){var o,a,u,c,d,h,g,p;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const v=rw(t);if(this.realtimeUrl=`${v}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${v}/auth/v1`,this.storageUrl=`${v}/storage/v1`,v.match(/(supabase\.co)|(supabase\.in)/)){const E=v.split(".");this.functionsUrl=`${E[0]}.functions.${E[1]}.${E[2]}`}else this.functionsUrl=`${v}/functions/v1`;const k=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,A={db:Mw,realtime:Cw,auth:Object.assign(Object.assign({},Lw),{storageKey:k}),global:Rw},x=iw(s!=null?s:{},A);this.storageKey=(a=(o=x.auth)===null||o===void 0?void 0:o.storageKey)!==null&&a!==void 0?a:"",this.headers=(c=(u=x.global)===null||u===void 0?void 0:u.headers)!==null&&c!==void 0?c:{},this.auth=this._initSupabaseAuthClient((d=x.auth)!==null&&d!==void 0?d:{},this.headers,(h=x.global)===null||h===void 0?void 0:h.fetch),this.fetch=nw(n,this._getAccessToken.bind(this),(g=x.global)===null||g===void 0?void 0:g.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},x.realtime)),this.rest=new ty(`${v}/rest/v1`,{headers:this.headers,schema:(p=x.db)===null||p===void 0?void 0:p.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new J1(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Yy(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},s){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Ow(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:o,storageKey:a},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sw({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:o,fetch:c})}_initRealtimeClient(t){return new Ny(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,s==null?void 0:s.access_token,"CLIENT")})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n!=null?n:null),this.changedAccessToken=n):(t==="SIGNED_OUT"||t==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut())}}const $w=(i,t,n)=>new Pw(i,t,n),Dw="https://dbmtysppmiwwjwaeneex.supabase.co",Nw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibXR5c3BwbWl3d2p3YWVuZWV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDQ5NTI0NDUsImV4cCI6MTk2MDUyODQ0NX0.i_1JrAfv5fieeVaiJrVIQPL6V0_-H9sR-PKIuGDAIfI",vl=$w(Dw,Nw),Bw=async({table:i,data:t})=>{const n=await vl.from(i).insert(t).select();if(n.error)throw console.log(n.error),new Error("insert failed");if(n.data)return n.data},yl=async({table:i,column:t,value:n,id:s})=>{const o=await vl.from(i).update({[t]:n}).eq("id",s);if(o.error)throw console.log(o.error),new Error("update failed");if(o.data)return o.data},wl=async()=>{const i=await vl.from("emotions").select();if(i.error)throw console.log(i.error),new Error("getData failed");if(i.data)return i.data};var tl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,t){(function(){var n,s="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",p=1,v=2,y=4,k=1,A=2,x=1,E=2,T=4,P=8,I=16,F=32,R=64,z=128,M=256,W=512,V=30,Z="...",ue=800,ie=16,w=1,$=2,U=3,Q=1/0,te=9007199254740991,ee=17976931348623157e292,pe=0/0,_e=4294967295,Ce=_e-1,at=_e>>>1,Ye=[["ary",z],["bind",x],["bindKey",E],["curry",P],["curryRight",I],["flip",W],["partial",F],["partialRight",R],["rearg",M]],st="[object Arguments]",bt="[object Array]",It="[object AsyncFunction]",gt="[object Boolean]",fn="[object Date]",Df="[object DOMException]",si="[object Error]",oi="[object Function]",Al="[object GeneratorFunction]",Vt="[object Map]",Or="[object Number]",Nf="[object Null]",hn="[object Object]",kl="[object Promise]",Bf="[object Proxy]",Rr="[object RegExp]",Jt="[object Set]",Mr="[object String]",li="[object Symbol]",Uf="[object Undefined]",Lr="[object WeakMap]",Ff="[object WeakSet]",Cr="[object ArrayBuffer]",Qn="[object DataView]",_s="[object Float32Array]",ms="[object Float64Array]",vs="[object Int8Array]",ys="[object Int16Array]",ws="[object Int32Array]",bs="[object Uint8Array]",Es="[object Uint8ClampedArray]",Ts="[object Uint16Array]",xs="[object Uint32Array]",zf=/\b__p \+= '';/g,jf=/\b(__p \+=) '' \+/g,Wf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Il=/&(?:amp|lt|gt|quot|#39);/g,Sl=/[&<>"']/g,Hf=RegExp(Il.source),Gf=RegExp(Sl.source),qf=/<%-([\s\S]+?)%>/g,Vf=/<%([\s\S]+?)%>/g,Ol=/<%=([\s\S]+?)%>/g,Jf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kf=/^\w*$/,Yf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,As=/[\\^$.*+?()[\]{}|]/g,Zf=RegExp(As.source),ks=/^\s+/,Xf=/\s/,Qf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,eh=/\{\n\/\* \[wrapped with (.+)\] \*/,th=/,? & /,nh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rh=/[()=,{}\[\]\/\s]/,ih=/\\(\\)?/g,sh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rl=/\w*$/,oh=/^[-+]0x[0-9a-f]+$/i,lh=/^0b[01]+$/i,ah=/^\[object .+?Constructor\]$/,uh=/^0o[0-7]+$/i,ch=/^(?:0|[1-9]\d*)$/,fh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ai=/($^)/,hh=/['\n\r\u2028\u2029\\]/g,ui="\\ud800-\\udfff",dh="\\u0300-\\u036f",gh="\\ufe20-\\ufe2f",ph="\\u20d0-\\u20ff",Ml=dh+gh+ph,Ll="\\u2700-\\u27bf",Cl="a-z\\xdf-\\xf6\\xf8-\\xff",_h="\\xac\\xb1\\xd7\\xf7",mh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vh="\\u2000-\\u206f",yh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pl="A-Z\\xc0-\\xd6\\xd8-\\xde",$l="\\ufe0e\\ufe0f",Dl=_h+mh+vh+yh,Is="['\u2019]",wh="["+ui+"]",Nl="["+Dl+"]",ci="["+Ml+"]",Bl="\\d+",bh="["+Ll+"]",Ul="["+Cl+"]",Fl="[^"+ui+Dl+Bl+Ll+Cl+Pl+"]",Ss="\\ud83c[\\udffb-\\udfff]",Eh="(?:"+ci+"|"+Ss+")",zl="[^"+ui+"]",Os="(?:\\ud83c[\\udde6-\\uddff]){2}",Rs="[\\ud800-\\udbff][\\udc00-\\udfff]",er="["+Pl+"]",jl="\\u200d",Wl="(?:"+Ul+"|"+Fl+")",Th="(?:"+er+"|"+Fl+")",Hl="(?:"+Is+"(?:d|ll|m|re|s|t|ve))?",Gl="(?:"+Is+"(?:D|LL|M|RE|S|T|VE))?",ql=Eh+"?",Vl="["+$l+"]?",xh="(?:"+jl+"(?:"+[zl,Os,Rs].join("|")+")"+Vl+ql+")*",Ah="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",kh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Jl=Vl+ql+xh,Ih="(?:"+[bh,Os,Rs].join("|")+")"+Jl,Sh="(?:"+[zl+ci+"?",ci,Os,Rs,wh].join("|")+")",Oh=RegExp(Is,"g"),Rh=RegExp(ci,"g"),Ms=RegExp(Ss+"(?="+Ss+")|"+Sh+Jl,"g"),Mh=RegExp([er+"?"+Ul+"+"+Hl+"(?="+[Nl,er,"$"].join("|")+")",Th+"+"+Gl+"(?="+[Nl,er+Wl,"$"].join("|")+")",er+"?"+Wl+"+"+Hl,er+"+"+Gl,kh,Ah,Bl,Ih].join("|"),"g"),Lh=RegExp("["+jl+ui+Ml+$l+"]"),Ch=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ph=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$h=-1,ze={};ze[_s]=ze[ms]=ze[vs]=ze[ys]=ze[ws]=ze[bs]=ze[Es]=ze[Ts]=ze[xs]=!0,ze[st]=ze[bt]=ze[Cr]=ze[gt]=ze[Qn]=ze[fn]=ze[si]=ze[oi]=ze[Vt]=ze[Or]=ze[hn]=ze[Rr]=ze[Jt]=ze[Mr]=ze[Lr]=!1;var Be={};Be[st]=Be[bt]=Be[Cr]=Be[Qn]=Be[gt]=Be[fn]=Be[_s]=Be[ms]=Be[vs]=Be[ys]=Be[ws]=Be[Vt]=Be[Or]=Be[hn]=Be[Rr]=Be[Jt]=Be[Mr]=Be[li]=Be[bs]=Be[Es]=Be[Ts]=Be[xs]=!0,Be[si]=Be[oi]=Be[Lr]=!1;var Dh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Nh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Uh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Fh=parseFloat,zh=parseInt,Kl=typeof ln=="object"&&ln&&ln.Object===Object&&ln,jh=typeof self=="object"&&self&&self.Object===Object&&self,ut=Kl||jh||Function("return this")(),Ls=t&&!t.nodeType&&t,Dn=Ls&&!0&&i&&!i.nodeType&&i,Yl=Dn&&Dn.exports===Ls,Cs=Yl&&Kl.process,Nt=function(){try{var D=Dn&&Dn.require&&Dn.require("util").types;return D||Cs&&Cs.binding&&Cs.binding("util")}catch{}}(),Zl=Nt&&Nt.isArrayBuffer,Xl=Nt&&Nt.isDate,Ql=Nt&&Nt.isMap,ea=Nt&&Nt.isRegExp,ta=Nt&&Nt.isSet,na=Nt&&Nt.isTypedArray;function St(D,H,j){switch(j.length){case 0:return D.call(H);case 1:return D.call(H,j[0]);case 2:return D.call(H,j[0],j[1]);case 3:return D.call(H,j[0],j[1],j[2])}return D.apply(H,j)}function Wh(D,H,j,se){for(var me=-1,Pe=D==null?0:D.length;++me<Pe;){var nt=D[me];H(se,nt,j(nt),D)}return se}function Bt(D,H){for(var j=-1,se=D==null?0:D.length;++j<se&&H(D[j],j,D)!==!1;);return D}function Hh(D,H){for(var j=D==null?0:D.length;j--&&H(D[j],j,D)!==!1;);return D}function ra(D,H){for(var j=-1,se=D==null?0:D.length;++j<se;)if(!H(D[j],j,D))return!1;return!0}function Tn(D,H){for(var j=-1,se=D==null?0:D.length,me=0,Pe=[];++j<se;){var nt=D[j];H(nt,j,D)&&(Pe[me++]=nt)}return Pe}function fi(D,H){var j=D==null?0:D.length;return!!j&&tr(D,H,0)>-1}function Ps(D,H,j){for(var se=-1,me=D==null?0:D.length;++se<me;)if(j(H,D[se]))return!0;return!1}function He(D,H){for(var j=-1,se=D==null?0:D.length,me=Array(se);++j<se;)me[j]=H(D[j],j,D);return me}function xn(D,H){for(var j=-1,se=H.length,me=D.length;++j<se;)D[me+j]=H[j];return D}function $s(D,H,j,se){var me=-1,Pe=D==null?0:D.length;for(se&&Pe&&(j=D[++me]);++me<Pe;)j=H(j,D[me],me,D);return j}function Gh(D,H,j,se){var me=D==null?0:D.length;for(se&&me&&(j=D[--me]);me--;)j=H(j,D[me],me,D);return j}function Ds(D,H){for(var j=-1,se=D==null?0:D.length;++j<se;)if(H(D[j],j,D))return!0;return!1}var qh=Ns("length");function Vh(D){return D.split("")}function Jh(D){return D.match(nh)||[]}function ia(D,H,j){var se;return j(D,function(me,Pe,nt){if(H(me,Pe,nt))return se=Pe,!1}),se}function hi(D,H,j,se){for(var me=D.length,Pe=j+(se?1:-1);se?Pe--:++Pe<me;)if(H(D[Pe],Pe,D))return Pe;return-1}function tr(D,H,j){return H===H?od(D,H,j):hi(D,sa,j)}function Kh(D,H,j,se){for(var me=j-1,Pe=D.length;++me<Pe;)if(se(D[me],H))return me;return-1}function sa(D){return D!==D}function oa(D,H){var j=D==null?0:D.length;return j?Us(D,H)/j:pe}function Ns(D){return function(H){return H==null?n:H[D]}}function Bs(D){return function(H){return D==null?n:D[H]}}function la(D,H,j,se,me){return me(D,function(Pe,nt,Ne){j=se?(se=!1,Pe):H(j,Pe,nt,Ne)}),j}function Yh(D,H){var j=D.length;for(D.sort(H);j--;)D[j]=D[j].value;return D}function Us(D,H){for(var j,se=-1,me=D.length;++se<me;){var Pe=H(D[se]);Pe!==n&&(j=j===n?Pe:j+Pe)}return j}function Fs(D,H){for(var j=-1,se=Array(D);++j<D;)se[j]=H(j);return se}function Zh(D,H){return He(H,function(j){return[j,D[j]]})}function aa(D){return D&&D.slice(0,ha(D)+1).replace(ks,"")}function Ot(D){return function(H){return D(H)}}function zs(D,H){return He(H,function(j){return D[j]})}function Pr(D,H){return D.has(H)}function ua(D,H){for(var j=-1,se=D.length;++j<se&&tr(H,D[j],0)>-1;);return j}function ca(D,H){for(var j=D.length;j--&&tr(H,D[j],0)>-1;);return j}function Xh(D,H){for(var j=D.length,se=0;j--;)D[j]===H&&++se;return se}var Qh=Bs(Dh),ed=Bs(Nh);function td(D){return"\\"+Uh[D]}function nd(D,H){return D==null?n:D[H]}function nr(D){return Lh.test(D)}function rd(D){return Ch.test(D)}function id(D){for(var H,j=[];!(H=D.next()).done;)j.push(H.value);return j}function js(D){var H=-1,j=Array(D.size);return D.forEach(function(se,me){j[++H]=[me,se]}),j}function fa(D,H){return function(j){return D(H(j))}}function An(D,H){for(var j=-1,se=D.length,me=0,Pe=[];++j<se;){var nt=D[j];(nt===H||nt===g)&&(D[j]=g,Pe[me++]=j)}return Pe}function di(D){var H=-1,j=Array(D.size);return D.forEach(function(se){j[++H]=se}),j}function sd(D){var H=-1,j=Array(D.size);return D.forEach(function(se){j[++H]=[se,se]}),j}function od(D,H,j){for(var se=j-1,me=D.length;++se<me;)if(D[se]===H)return se;return-1}function ld(D,H,j){for(var se=j+1;se--;)if(D[se]===H)return se;return se}function rr(D){return nr(D)?ud(D):qh(D)}function Kt(D){return nr(D)?cd(D):Vh(D)}function ha(D){for(var H=D.length;H--&&Xf.test(D.charAt(H)););return H}var ad=Bs(Bh);function ud(D){for(var H=Ms.lastIndex=0;Ms.test(D);)++H;return H}function cd(D){return D.match(Ms)||[]}function fd(D){return D.match(Mh)||[]}var hd=function D(H){H=H==null?ut:ir.defaults(ut.Object(),H,ir.pick(ut,Ph));var j=H.Array,se=H.Date,me=H.Error,Pe=H.Function,nt=H.Math,Ne=H.Object,Ws=H.RegExp,dd=H.String,Ut=H.TypeError,gi=j.prototype,gd=Pe.prototype,sr=Ne.prototype,pi=H["__core-js_shared__"],_i=gd.toString,De=sr.hasOwnProperty,pd=0,da=function(){var e=/[^.]+$/.exec(pi&&pi.keys&&pi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),mi=sr.toString,_d=_i.call(Ne),md=ut._,vd=Ws("^"+_i.call(De).replace(As,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vi=Yl?H.Buffer:n,kn=H.Symbol,yi=H.Uint8Array,ga=vi?vi.allocUnsafe:n,wi=fa(Ne.getPrototypeOf,Ne),pa=Ne.create,_a=sr.propertyIsEnumerable,bi=gi.splice,ma=kn?kn.isConcatSpreadable:n,$r=kn?kn.iterator:n,Nn=kn?kn.toStringTag:n,Ei=function(){try{var e=jn(Ne,"defineProperty");return e({},"",{}),e}catch{}}(),yd=H.clearTimeout!==ut.clearTimeout&&H.clearTimeout,wd=se&&se.now!==ut.Date.now&&se.now,bd=H.setTimeout!==ut.setTimeout&&H.setTimeout,Ti=nt.ceil,xi=nt.floor,Hs=Ne.getOwnPropertySymbols,Ed=vi?vi.isBuffer:n,va=H.isFinite,Td=gi.join,xd=fa(Ne.keys,Ne),rt=nt.max,ft=nt.min,Ad=se.now,kd=H.parseInt,ya=nt.random,Id=gi.reverse,Gs=jn(H,"DataView"),Dr=jn(H,"Map"),qs=jn(H,"Promise"),or=jn(H,"Set"),Nr=jn(H,"WeakMap"),Br=jn(Ne,"create"),Ai=Nr&&new Nr,lr={},Sd=Wn(Gs),Od=Wn(Dr),Rd=Wn(qs),Md=Wn(or),Ld=Wn(Nr),ki=kn?kn.prototype:n,Ur=ki?ki.valueOf:n,wa=ki?ki.toString:n;function m(e){if(Ze(e)&&!ve(e)&&!(e instanceof Ie)){if(e instanceof Ft)return e;if(De.call(e,"__wrapped__"))return bu(e)}return new Ft(e)}var ar=function(){function e(){}return function(r){if(!qe(r))return{};if(pa)return pa(r);e.prototype=r;var l=new e;return e.prototype=n,l}}();function Ii(){}function Ft(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=n}m.templateSettings={escape:qf,evaluate:Vf,interpolate:Ol,variable:"",imports:{_:m}},m.prototype=Ii.prototype,m.prototype.constructor=m,Ft.prototype=ar(Ii.prototype),Ft.prototype.constructor=Ft;function Ie(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function Cd(){var e=new Ie(this.__wrapped__);return e.__actions__=Et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Et(this.__views__),e}function Pd(){if(this.__filtered__){var e=new Ie(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function $d(){var e=this.__wrapped__.value(),r=this.__dir__,l=ve(e),f=r<0,_=l?e.length:0,b=Vg(0,_,this.__views__),O=b.start,L=b.end,B=L-O,J=f?L:O-1,Y=this.__iteratees__,X=Y.length,ne=0,ae=ft(B,this.__takeCount__);if(!l||!f&&_==B&&ae==B)return Ha(e,this.__actions__);var de=[];e:for(;B--&&ne<ae;){J+=r;for(var Ee=-1,ge=e[J];++Ee<X;){var ke=Y[Ee],Se=ke.iteratee,Lt=ke.type,mt=Se(ge);if(Lt==$)ge=mt;else if(!mt){if(Lt==w)continue e;break e}}de[ne++]=ge}return de}Ie.prototype=ar(Ii.prototype),Ie.prototype.constructor=Ie;function Bn(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var f=e[r];this.set(f[0],f[1])}}function Dd(){this.__data__=Br?Br(null):{},this.size=0}function Nd(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function Bd(e){var r=this.__data__;if(Br){var l=r[e];return l===d?n:l}return De.call(r,e)?r[e]:n}function Ud(e){var r=this.__data__;return Br?r[e]!==n:De.call(r,e)}function Fd(e,r){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=Br&&r===n?d:r,this}Bn.prototype.clear=Dd,Bn.prototype.delete=Nd,Bn.prototype.get=Bd,Bn.prototype.has=Ud,Bn.prototype.set=Fd;function dn(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var f=e[r];this.set(f[0],f[1])}}function zd(){this.__data__=[],this.size=0}function jd(e){var r=this.__data__,l=Si(r,e);if(l<0)return!1;var f=r.length-1;return l==f?r.pop():bi.call(r,l,1),--this.size,!0}function Wd(e){var r=this.__data__,l=Si(r,e);return l<0?n:r[l][1]}function Hd(e){return Si(this.__data__,e)>-1}function Gd(e,r){var l=this.__data__,f=Si(l,e);return f<0?(++this.size,l.push([e,r])):l[f][1]=r,this}dn.prototype.clear=zd,dn.prototype.delete=jd,dn.prototype.get=Wd,dn.prototype.has=Hd,dn.prototype.set=Gd;function gn(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var f=e[r];this.set(f[0],f[1])}}function qd(){this.size=0,this.__data__={hash:new Bn,map:new(Dr||dn),string:new Bn}}function Vd(e){var r=Fi(this,e).delete(e);return this.size-=r?1:0,r}function Jd(e){return Fi(this,e).get(e)}function Kd(e){return Fi(this,e).has(e)}function Yd(e,r){var l=Fi(this,e),f=l.size;return l.set(e,r),this.size+=l.size==f?0:1,this}gn.prototype.clear=qd,gn.prototype.delete=Vd,gn.prototype.get=Jd,gn.prototype.has=Kd,gn.prototype.set=Yd;function Un(e){var r=-1,l=e==null?0:e.length;for(this.__data__=new gn;++r<l;)this.add(e[r])}function Zd(e){return this.__data__.set(e,d),this}function Xd(e){return this.__data__.has(e)}Un.prototype.add=Un.prototype.push=Zd,Un.prototype.has=Xd;function Yt(e){var r=this.__data__=new dn(e);this.size=r.size}function Qd(){this.__data__=new dn,this.size=0}function eg(e){var r=this.__data__,l=r.delete(e);return this.size=r.size,l}function tg(e){return this.__data__.get(e)}function ng(e){return this.__data__.has(e)}function rg(e,r){var l=this.__data__;if(l instanceof dn){var f=l.__data__;if(!Dr||f.length<o-1)return f.push([e,r]),this.size=++l.size,this;l=this.__data__=new gn(f)}return l.set(e,r),this.size=l.size,this}Yt.prototype.clear=Qd,Yt.prototype.delete=eg,Yt.prototype.get=tg,Yt.prototype.has=ng,Yt.prototype.set=rg;function ba(e,r){var l=ve(e),f=!l&&Hn(e),_=!l&&!f&&Mn(e),b=!l&&!f&&!_&&hr(e),O=l||f||_||b,L=O?Fs(e.length,dd):[],B=L.length;for(var J in e)(r||De.call(e,J))&&!(O&&(J=="length"||_&&(J=="offset"||J=="parent")||b&&(J=="buffer"||J=="byteLength"||J=="byteOffset")||vn(J,B)))&&L.push(J);return L}function Ea(e){var r=e.length;return r?e[ro(0,r-1)]:n}function ig(e,r){return zi(Et(e),Fn(r,0,e.length))}function sg(e){return zi(Et(e))}function Vs(e,r,l){(l!==n&&!Zt(e[r],l)||l===n&&!(r in e))&&pn(e,r,l)}function Fr(e,r,l){var f=e[r];(!(De.call(e,r)&&Zt(f,l))||l===n&&!(r in e))&&pn(e,r,l)}function Si(e,r){for(var l=e.length;l--;)if(Zt(e[l][0],r))return l;return-1}function og(e,r,l,f){return In(e,function(_,b,O){r(f,_,l(_),O)}),f}function Ta(e,r){return e&&rn(r,ot(r),e)}function lg(e,r){return e&&rn(r,xt(r),e)}function pn(e,r,l){r=="__proto__"&&Ei?Ei(e,r,{configurable:!0,enumerable:!0,value:l,writable:!0}):e[r]=l}function Js(e,r){for(var l=-1,f=r.length,_=j(f),b=e==null;++l<f;)_[l]=b?n:Oo(e,r[l]);return _}function Fn(e,r,l){return e===e&&(l!==n&&(e=e<=l?e:l),r!==n&&(e=e>=r?e:r)),e}function zt(e,r,l,f,_,b){var O,L=r&p,B=r&v,J=r&y;if(l&&(O=_?l(e,f,_,b):l(e)),O!==n)return O;if(!qe(e))return e;var Y=ve(e);if(Y){if(O=Kg(e),!L)return Et(e,O)}else{var X=ht(e),ne=X==oi||X==Al;if(Mn(e))return Va(e,L);if(X==hn||X==st||ne&&!_){if(O=B||ne?{}:hu(e),!L)return B?Bg(e,lg(O,e)):Ng(e,Ta(O,e))}else{if(!Be[X])return _?e:{};O=Yg(e,X,L)}}b||(b=new Yt);var ae=b.get(e);if(ae)return ae;b.set(e,O),zu(e)?e.forEach(function(ge){O.add(zt(ge,r,l,ge,e,b))}):Uu(e)&&e.forEach(function(ge,ke){O.set(ke,zt(ge,r,l,ke,e,b))});var de=J?B?po:go:B?xt:ot,Ee=Y?n:de(e);return Bt(Ee||e,function(ge,ke){Ee&&(ke=ge,ge=e[ke]),Fr(O,ke,zt(ge,r,l,ke,e,b))}),O}function ag(e){var r=ot(e);return function(l){return xa(l,e,r)}}function xa(e,r,l){var f=l.length;if(e==null)return!f;for(e=Ne(e);f--;){var _=l[f],b=r[_],O=e[_];if(O===n&&!(_ in e)||!b(O))return!1}return!0}function Aa(e,r,l){if(typeof e!="function")throw new Ut(u);return Vr(function(){e.apply(n,l)},r)}function zr(e,r,l,f){var _=-1,b=fi,O=!0,L=e.length,B=[],J=r.length;if(!L)return B;l&&(r=He(r,Ot(l))),f?(b=Ps,O=!1):r.length>=o&&(b=Pr,O=!1,r=new Un(r));e:for(;++_<L;){var Y=e[_],X=l==null?Y:l(Y);if(Y=f||Y!==0?Y:0,O&&X===X){for(var ne=J;ne--;)if(r[ne]===X)continue e;B.push(Y)}else b(r,X,f)||B.push(Y)}return B}var In=Xa(nn),ka=Xa(Ys,!0);function ug(e,r){var l=!0;return In(e,function(f,_,b){return l=!!r(f,_,b),l}),l}function Oi(e,r,l){for(var f=-1,_=e.length;++f<_;){var b=e[f],O=r(b);if(O!=null&&(L===n?O===O&&!Mt(O):l(O,L)))var L=O,B=b}return B}function cg(e,r,l,f){var _=e.length;for(l=be(l),l<0&&(l=-l>_?0:_+l),f=f===n||f>_?_:be(f),f<0&&(f+=_),f=l>f?0:Wu(f);l<f;)e[l++]=r;return e}function Ia(e,r){var l=[];return In(e,function(f,_,b){r(f,_,b)&&l.push(f)}),l}function ct(e,r,l,f,_){var b=-1,O=e.length;for(l||(l=Xg),_||(_=[]);++b<O;){var L=e[b];r>0&&l(L)?r>1?ct(L,r-1,l,f,_):xn(_,L):f||(_[_.length]=L)}return _}var Ks=Qa(),Sa=Qa(!0);function nn(e,r){return e&&Ks(e,r,ot)}function Ys(e,r){return e&&Sa(e,r,ot)}function Ri(e,r){return Tn(r,function(l){return yn(e[l])})}function zn(e,r){r=On(r,e);for(var l=0,f=r.length;e!=null&&l<f;)e=e[sn(r[l++])];return l&&l==f?e:n}function Oa(e,r,l){var f=r(e);return ve(e)?f:xn(f,l(e))}function pt(e){return e==null?e===n?Uf:Nf:Nn&&Nn in Ne(e)?qg(e):sp(e)}function Zs(e,r){return e>r}function fg(e,r){return e!=null&&De.call(e,r)}function hg(e,r){return e!=null&&r in Ne(e)}function dg(e,r,l){return e>=ft(r,l)&&e<rt(r,l)}function Xs(e,r,l){for(var f=l?Ps:fi,_=e[0].length,b=e.length,O=b,L=j(b),B=1/0,J=[];O--;){var Y=e[O];O&&r&&(Y=He(Y,Ot(r))),B=ft(Y.length,B),L[O]=!l&&(r||_>=120&&Y.length>=120)?new Un(O&&Y):n}Y=e[0];var X=-1,ne=L[0];e:for(;++X<_&&J.length<B;){var ae=Y[X],de=r?r(ae):ae;if(ae=l||ae!==0?ae:0,!(ne?Pr(ne,de):f(J,de,l))){for(O=b;--O;){var Ee=L[O];if(!(Ee?Pr(Ee,de):f(e[O],de,l)))continue e}ne&&ne.push(de),J.push(ae)}}return J}function gg(e,r,l,f){return nn(e,function(_,b,O){r(f,l(_),b,O)}),f}function jr(e,r,l){r=On(r,e),e=_u(e,r);var f=e==null?e:e[sn(Wt(r))];return f==null?n:St(f,e,l)}function Ra(e){return Ze(e)&&pt(e)==st}function pg(e){return Ze(e)&&pt(e)==Cr}function _g(e){return Ze(e)&&pt(e)==fn}function Wr(e,r,l,f,_){return e===r?!0:e==null||r==null||!Ze(e)&&!Ze(r)?e!==e&&r!==r:mg(e,r,l,f,Wr,_)}function mg(e,r,l,f,_,b){var O=ve(e),L=ve(r),B=O?bt:ht(e),J=L?bt:ht(r);B=B==st?hn:B,J=J==st?hn:J;var Y=B==hn,X=J==hn,ne=B==J;if(ne&&Mn(e)){if(!Mn(r))return!1;O=!0,Y=!1}if(ne&&!Y)return b||(b=new Yt),O||hr(e)?uu(e,r,l,f,_,b):Hg(e,r,B,l,f,_,b);if(!(l&k)){var ae=Y&&De.call(e,"__wrapped__"),de=X&&De.call(r,"__wrapped__");if(ae||de){var Ee=ae?e.value():e,ge=de?r.value():r;return b||(b=new Yt),_(Ee,ge,l,f,b)}}return ne?(b||(b=new Yt),Gg(e,r,l,f,_,b)):!1}function vg(e){return Ze(e)&&ht(e)==Vt}function Qs(e,r,l,f){var _=l.length,b=_,O=!f;if(e==null)return!b;for(e=Ne(e);_--;){var L=l[_];if(O&&L[2]?L[1]!==e[L[0]]:!(L[0]in e))return!1}for(;++_<b;){L=l[_];var B=L[0],J=e[B],Y=L[1];if(O&&L[2]){if(J===n&&!(B in e))return!1}else{var X=new Yt;if(f)var ne=f(J,Y,B,e,r,X);if(!(ne===n?Wr(Y,J,k|A,f,X):ne))return!1}}return!0}function Ma(e){if(!qe(e)||ep(e))return!1;var r=yn(e)?vd:ah;return r.test(Wn(e))}function yg(e){return Ze(e)&&pt(e)==Rr}function wg(e){return Ze(e)&&ht(e)==Jt}function bg(e){return Ze(e)&&Vi(e.length)&&!!ze[pt(e)]}function La(e){return typeof e=="function"?e:e==null?At:typeof e=="object"?ve(e)?$a(e[0],e[1]):Pa(e):ec(e)}function eo(e){if(!qr(e))return xd(e);var r=[];for(var l in Ne(e))De.call(e,l)&&l!="constructor"&&r.push(l);return r}function Eg(e){if(!qe(e))return ip(e);var r=qr(e),l=[];for(var f in e)f=="constructor"&&(r||!De.call(e,f))||l.push(f);return l}function to(e,r){return e<r}function Ca(e,r){var l=-1,f=Tt(e)?j(e.length):[];return In(e,function(_,b,O){f[++l]=r(_,b,O)}),f}function Pa(e){var r=mo(e);return r.length==1&&r[0][2]?gu(r[0][0],r[0][1]):function(l){return l===e||Qs(l,e,r)}}function $a(e,r){return yo(e)&&du(r)?gu(sn(e),r):function(l){var f=Oo(l,e);return f===n&&f===r?Ro(l,e):Wr(r,f,k|A)}}function Mi(e,r,l,f,_){e!==r&&Ks(r,function(b,O){if(_||(_=new Yt),qe(b))Tg(e,r,O,l,Mi,f,_);else{var L=f?f(bo(e,O),b,O+"",e,r,_):n;L===n&&(L=b),Vs(e,O,L)}},xt)}function Tg(e,r,l,f,_,b,O){var L=bo(e,l),B=bo(r,l),J=O.get(B);if(J){Vs(e,l,J);return}var Y=b?b(L,B,l+"",e,r,O):n,X=Y===n;if(X){var ne=ve(B),ae=!ne&&Mn(B),de=!ne&&!ae&&hr(B);Y=B,ne||ae||de?ve(L)?Y=L:Xe(L)?Y=Et(L):ae?(X=!1,Y=Va(B,!0)):de?(X=!1,Y=Ja(B,!0)):Y=[]:Jr(B)||Hn(B)?(Y=L,Hn(L)?Y=Hu(L):(!qe(L)||yn(L))&&(Y=hu(B))):X=!1}X&&(O.set(B,Y),_(Y,B,f,b,O),O.delete(B)),Vs(e,l,Y)}function Da(e,r){var l=e.length;if(!!l)return r+=r<0?l:0,vn(r,l)?e[r]:n}function Na(e,r,l){r.length?r=He(r,function(b){return ve(b)?function(O){return zn(O,b.length===1?b[0]:b)}:b}):r=[At];var f=-1;r=He(r,Ot(he()));var _=Ca(e,function(b,O,L){var B=He(r,function(J){return J(b)});return{criteria:B,index:++f,value:b}});return Yh(_,function(b,O){return Dg(b,O,l)})}function xg(e,r){return Ba(e,r,function(l,f){return Ro(e,f)})}function Ba(e,r,l){for(var f=-1,_=r.length,b={};++f<_;){var O=r[f],L=zn(e,O);l(L,O)&&Hr(b,On(O,e),L)}return b}function Ag(e){return function(r){return zn(r,e)}}function no(e,r,l,f){var _=f?Kh:tr,b=-1,O=r.length,L=e;for(e===r&&(r=Et(r)),l&&(L=He(e,Ot(l)));++b<O;)for(var B=0,J=r[b],Y=l?l(J):J;(B=_(L,Y,B,f))>-1;)L!==e&&bi.call(L,B,1),bi.call(e,B,1);return e}function Ua(e,r){for(var l=e?r.length:0,f=l-1;l--;){var _=r[l];if(l==f||_!==b){var b=_;vn(_)?bi.call(e,_,1):oo(e,_)}}return e}function ro(e,r){return e+xi(ya()*(r-e+1))}function kg(e,r,l,f){for(var _=-1,b=rt(Ti((r-e)/(l||1)),0),O=j(b);b--;)O[f?b:++_]=e,e+=l;return O}function io(e,r){var l="";if(!e||r<1||r>te)return l;do r%2&&(l+=e),r=xi(r/2),r&&(e+=e);while(r);return l}function Te(e,r){return Eo(pu(e,r,At),e+"")}function Ig(e){return Ea(dr(e))}function Sg(e,r){var l=dr(e);return zi(l,Fn(r,0,l.length))}function Hr(e,r,l,f){if(!qe(e))return e;r=On(r,e);for(var _=-1,b=r.length,O=b-1,L=e;L!=null&&++_<b;){var B=sn(r[_]),J=l;if(B==="__proto__"||B==="constructor"||B==="prototype")return e;if(_!=O){var Y=L[B];J=f?f(Y,B,L):n,J===n&&(J=qe(Y)?Y:vn(r[_+1])?[]:{})}Fr(L,B,J),L=L[B]}return e}var Fa=Ai?function(e,r){return Ai.set(e,r),e}:At,Og=Ei?function(e,r){return Ei(e,"toString",{configurable:!0,enumerable:!1,value:Lo(r),writable:!0})}:At;function Rg(e){return zi(dr(e))}function jt(e,r,l){var f=-1,_=e.length;r<0&&(r=-r>_?0:_+r),l=l>_?_:l,l<0&&(l+=_),_=r>l?0:l-r>>>0,r>>>=0;for(var b=j(_);++f<_;)b[f]=e[f+r];return b}function Mg(e,r){var l;return In(e,function(f,_,b){return l=r(f,_,b),!l}),!!l}function Li(e,r,l){var f=0,_=e==null?f:e.length;if(typeof r=="number"&&r===r&&_<=at){for(;f<_;){var b=f+_>>>1,O=e[b];O!==null&&!Mt(O)&&(l?O<=r:O<r)?f=b+1:_=b}return _}return so(e,r,At,l)}function so(e,r,l,f){var _=0,b=e==null?0:e.length;if(b===0)return 0;r=l(r);for(var O=r!==r,L=r===null,B=Mt(r),J=r===n;_<b;){var Y=xi((_+b)/2),X=l(e[Y]),ne=X!==n,ae=X===null,de=X===X,Ee=Mt(X);if(O)var ge=f||de;else J?ge=de&&(f||ne):L?ge=de&&ne&&(f||!ae):B?ge=de&&ne&&!ae&&(f||!Ee):ae||Ee?ge=!1:ge=f?X<=r:X<r;ge?_=Y+1:b=Y}return ft(b,Ce)}function za(e,r){for(var l=-1,f=e.length,_=0,b=[];++l<f;){var O=e[l],L=r?r(O):O;if(!l||!Zt(L,B)){var B=L;b[_++]=O===0?0:O}}return b}function ja(e){return typeof e=="number"?e:Mt(e)?pe:+e}function Rt(e){if(typeof e=="string")return e;if(ve(e))return He(e,Rt)+"";if(Mt(e))return wa?wa.call(e):"";var r=e+"";return r=="0"&&1/e==-Q?"-0":r}function Sn(e,r,l){var f=-1,_=fi,b=e.length,O=!0,L=[],B=L;if(l)O=!1,_=Ps;else if(b>=o){var J=r?null:jg(e);if(J)return di(J);O=!1,_=Pr,B=new Un}else B=r?[]:L;e:for(;++f<b;){var Y=e[f],X=r?r(Y):Y;if(Y=l||Y!==0?Y:0,O&&X===X){for(var ne=B.length;ne--;)if(B[ne]===X)continue e;r&&B.push(X),L.push(Y)}else _(B,X,l)||(B!==L&&B.push(X),L.push(Y))}return L}function oo(e,r){return r=On(r,e),e=_u(e,r),e==null||delete e[sn(Wt(r))]}function Wa(e,r,l,f){return Hr(e,r,l(zn(e,r)),f)}function Ci(e,r,l,f){for(var _=e.length,b=f?_:-1;(f?b--:++b<_)&&r(e[b],b,e););return l?jt(e,f?0:b,f?b+1:_):jt(e,f?b+1:0,f?_:b)}function Ha(e,r){var l=e;return l instanceof Ie&&(l=l.value()),$s(r,function(f,_){return _.func.apply(_.thisArg,xn([f],_.args))},l)}function lo(e,r,l){var f=e.length;if(f<2)return f?Sn(e[0]):[];for(var _=-1,b=j(f);++_<f;)for(var O=e[_],L=-1;++L<f;)L!=_&&(b[_]=zr(b[_]||O,e[L],r,l));return Sn(ct(b,1),r,l)}function Ga(e,r,l){for(var f=-1,_=e.length,b=r.length,O={};++f<_;){var L=f<b?r[f]:n;l(O,e[f],L)}return O}function ao(e){return Xe(e)?e:[]}function uo(e){return typeof e=="function"?e:At}function On(e,r){return ve(e)?e:yo(e,r)?[e]:wu($e(e))}var Lg=Te;function Rn(e,r,l){var f=e.length;return l=l===n?f:l,!r&&l>=f?e:jt(e,r,l)}var qa=yd||function(e){return ut.clearTimeout(e)};function Va(e,r){if(r)return e.slice();var l=e.length,f=ga?ga(l):new e.constructor(l);return e.copy(f),f}function co(e){var r=new e.constructor(e.byteLength);return new yi(r).set(new yi(e)),r}function Cg(e,r){var l=r?co(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.byteLength)}function Pg(e){var r=new e.constructor(e.source,Rl.exec(e));return r.lastIndex=e.lastIndex,r}function $g(e){return Ur?Ne(Ur.call(e)):{}}function Ja(e,r){var l=r?co(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.length)}function Ka(e,r){if(e!==r){var l=e!==n,f=e===null,_=e===e,b=Mt(e),O=r!==n,L=r===null,B=r===r,J=Mt(r);if(!L&&!J&&!b&&e>r||b&&O&&B&&!L&&!J||f&&O&&B||!l&&B||!_)return 1;if(!f&&!b&&!J&&e<r||J&&l&&_&&!f&&!b||L&&l&&_||!O&&_||!B)return-1}return 0}function Dg(e,r,l){for(var f=-1,_=e.criteria,b=r.criteria,O=_.length,L=l.length;++f<O;){var B=Ka(_[f],b[f]);if(B){if(f>=L)return B;var J=l[f];return B*(J=="desc"?-1:1)}}return e.index-r.index}function Ya(e,r,l,f){for(var _=-1,b=e.length,O=l.length,L=-1,B=r.length,J=rt(b-O,0),Y=j(B+J),X=!f;++L<B;)Y[L]=r[L];for(;++_<O;)(X||_<b)&&(Y[l[_]]=e[_]);for(;J--;)Y[L++]=e[_++];return Y}function Za(e,r,l,f){for(var _=-1,b=e.length,O=-1,L=l.length,B=-1,J=r.length,Y=rt(b-L,0),X=j(Y+J),ne=!f;++_<Y;)X[_]=e[_];for(var ae=_;++B<J;)X[ae+B]=r[B];for(;++O<L;)(ne||_<b)&&(X[ae+l[O]]=e[_++]);return X}function Et(e,r){var l=-1,f=e.length;for(r||(r=j(f));++l<f;)r[l]=e[l];return r}function rn(e,r,l,f){var _=!l;l||(l={});for(var b=-1,O=r.length;++b<O;){var L=r[b],B=f?f(l[L],e[L],L,l,e):n;B===n&&(B=e[L]),_?pn(l,L,B):Fr(l,L,B)}return l}function Ng(e,r){return rn(e,vo(e),r)}function Bg(e,r){return rn(e,cu(e),r)}function Pi(e,r){return function(l,f){var _=ve(l)?Wh:og,b=r?r():{};return _(l,e,he(f,2),b)}}function ur(e){return Te(function(r,l){var f=-1,_=l.length,b=_>1?l[_-1]:n,O=_>2?l[2]:n;for(b=e.length>3&&typeof b=="function"?(_--,b):n,O&&_t(l[0],l[1],O)&&(b=_<3?n:b,_=1),r=Ne(r);++f<_;){var L=l[f];L&&e(r,L,f,b)}return r})}function Xa(e,r){return function(l,f){if(l==null)return l;if(!Tt(l))return e(l,f);for(var _=l.length,b=r?_:-1,O=Ne(l);(r?b--:++b<_)&&f(O[b],b,O)!==!1;);return l}}function Qa(e){return function(r,l,f){for(var _=-1,b=Ne(r),O=f(r),L=O.length;L--;){var B=O[e?L:++_];if(l(b[B],B,b)===!1)break}return r}}function Ug(e,r,l){var f=r&x,_=Gr(e);function b(){var O=this&&this!==ut&&this instanceof b?_:e;return O.apply(f?l:this,arguments)}return b}function eu(e){return function(r){r=$e(r);var l=nr(r)?Kt(r):n,f=l?l[0]:r.charAt(0),_=l?Rn(l,1).join(""):r.slice(1);return f[e]()+_}}function cr(e){return function(r){return $s(Xu(Zu(r).replace(Oh,"")),e,"")}}function Gr(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var l=ar(e.prototype),f=e.apply(l,r);return qe(f)?f:l}}function Fg(e,r,l){var f=Gr(e);function _(){for(var b=arguments.length,O=j(b),L=b,B=fr(_);L--;)O[L]=arguments[L];var J=b<3&&O[0]!==B&&O[b-1]!==B?[]:An(O,B);if(b-=J.length,b<l)return su(e,r,$i,_.placeholder,n,O,J,n,n,l-b);var Y=this&&this!==ut&&this instanceof _?f:e;return St(Y,this,O)}return _}function tu(e){return function(r,l,f){var _=Ne(r);if(!Tt(r)){var b=he(l,3);r=ot(r),l=function(L){return b(_[L],L,_)}}var O=e(r,l,f);return O>-1?_[b?r[O]:O]:n}}function nu(e){return mn(function(r){var l=r.length,f=l,_=Ft.prototype.thru;for(e&&r.reverse();f--;){var b=r[f];if(typeof b!="function")throw new Ut(u);if(_&&!O&&Ui(b)=="wrapper")var O=new Ft([],!0)}for(f=O?f:l;++f<l;){b=r[f];var L=Ui(b),B=L=="wrapper"?_o(b):n;B&&wo(B[0])&&B[1]==(z|P|F|M)&&!B[4].length&&B[9]==1?O=O[Ui(B[0])].apply(O,B[3]):O=b.length==1&&wo(b)?O[L]():O.thru(b)}return function(){var J=arguments,Y=J[0];if(O&&J.length==1&&ve(Y))return O.plant(Y).value();for(var X=0,ne=l?r[X].apply(this,J):Y;++X<l;)ne=r[X].call(this,ne);return ne}})}function $i(e,r,l,f,_,b,O,L,B,J){var Y=r&z,X=r&x,ne=r&E,ae=r&(P|I),de=r&W,Ee=ne?n:Gr(e);function ge(){for(var ke=arguments.length,Se=j(ke),Lt=ke;Lt--;)Se[Lt]=arguments[Lt];if(ae)var mt=fr(ge),Ct=Xh(Se,mt);if(f&&(Se=Ya(Se,f,_,ae)),b&&(Se=Za(Se,b,O,ae)),ke-=Ct,ae&&ke<J){var Qe=An(Se,mt);return su(e,r,$i,ge.placeholder,l,Se,Qe,L,B,J-ke)}var Xt=X?l:this,bn=ne?Xt[e]:e;return ke=Se.length,L?Se=op(Se,L):de&&ke>1&&Se.reverse(),Y&&B<ke&&(Se.length=B),this&&this!==ut&&this instanceof ge&&(bn=Ee||Gr(bn)),bn.apply(Xt,Se)}return ge}function ru(e,r){return function(l,f){return gg(l,e,r(f),{})}}function Di(e,r){return function(l,f){var _;if(l===n&&f===n)return r;if(l!==n&&(_=l),f!==n){if(_===n)return f;typeof l=="string"||typeof f=="string"?(l=Rt(l),f=Rt(f)):(l=ja(l),f=ja(f)),_=e(l,f)}return _}}function fo(e){return mn(function(r){return r=He(r,Ot(he())),Te(function(l){var f=this;return e(r,function(_){return St(_,f,l)})})})}function Ni(e,r){r=r===n?" ":Rt(r);var l=r.length;if(l<2)return l?io(r,e):r;var f=io(r,Ti(e/rr(r)));return nr(r)?Rn(Kt(f),0,e).join(""):f.slice(0,e)}function zg(e,r,l,f){var _=r&x,b=Gr(e);function O(){for(var L=-1,B=arguments.length,J=-1,Y=f.length,X=j(Y+B),ne=this&&this!==ut&&this instanceof O?b:e;++J<Y;)X[J]=f[J];for(;B--;)X[J++]=arguments[++L];return St(ne,_?l:this,X)}return O}function iu(e){return function(r,l,f){return f&&typeof f!="number"&&_t(r,l,f)&&(l=f=n),r=wn(r),l===n?(l=r,r=0):l=wn(l),f=f===n?r<l?1:-1:wn(f),kg(r,l,f,e)}}function Bi(e){return function(r,l){return typeof r=="string"&&typeof l=="string"||(r=Ht(r),l=Ht(l)),e(r,l)}}function su(e,r,l,f,_,b,O,L,B,J){var Y=r&P,X=Y?O:n,ne=Y?n:O,ae=Y?b:n,de=Y?n:b;r|=Y?F:R,r&=~(Y?R:F),r&T||(r&=~(x|E));var Ee=[e,r,_,ae,X,de,ne,L,B,J],ge=l.apply(n,Ee);return wo(e)&&mu(ge,Ee),ge.placeholder=f,vu(ge,e,r)}function ho(e){var r=nt[e];return function(l,f){if(l=Ht(l),f=f==null?0:ft(be(f),292),f&&va(l)){var _=($e(l)+"e").split("e"),b=r(_[0]+"e"+(+_[1]+f));return _=($e(b)+"e").split("e"),+(_[0]+"e"+(+_[1]-f))}return r(l)}}var jg=or&&1/di(new or([,-0]))[1]==Q?function(e){return new or(e)}:$o;function ou(e){return function(r){var l=ht(r);return l==Vt?js(r):l==Jt?sd(r):Zh(r,e(r))}}function _n(e,r,l,f,_,b,O,L){var B=r&E;if(!B&&typeof e!="function")throw new Ut(u);var J=f?f.length:0;if(J||(r&=~(F|R),f=_=n),O=O===n?O:rt(be(O),0),L=L===n?L:be(L),J-=_?_.length:0,r&R){var Y=f,X=_;f=_=n}var ne=B?n:_o(e),ae=[e,r,l,f,_,Y,X,b,O,L];if(ne&&rp(ae,ne),e=ae[0],r=ae[1],l=ae[2],f=ae[3],_=ae[4],L=ae[9]=ae[9]===n?B?0:e.length:rt(ae[9]-J,0),!L&&r&(P|I)&&(r&=~(P|I)),!r||r==x)var de=Ug(e,r,l);else r==P||r==I?de=Fg(e,r,L):(r==F||r==(x|F))&&!_.length?de=zg(e,r,l,f):de=$i.apply(n,ae);var Ee=ne?Fa:mu;return vu(Ee(de,ae),e,r)}function lu(e,r,l,f){return e===n||Zt(e,sr[l])&&!De.call(f,l)?r:e}function au(e,r,l,f,_,b){return qe(e)&&qe(r)&&(b.set(r,e),Mi(e,r,n,au,b),b.delete(r)),e}function Wg(e){return Jr(e)?n:e}function uu(e,r,l,f,_,b){var O=l&k,L=e.length,B=r.length;if(L!=B&&!(O&&B>L))return!1;var J=b.get(e),Y=b.get(r);if(J&&Y)return J==r&&Y==e;var X=-1,ne=!0,ae=l&A?new Un:n;for(b.set(e,r),b.set(r,e);++X<L;){var de=e[X],Ee=r[X];if(f)var ge=O?f(Ee,de,X,r,e,b):f(de,Ee,X,e,r,b);if(ge!==n){if(ge)continue;ne=!1;break}if(ae){if(!Ds(r,function(ke,Se){if(!Pr(ae,Se)&&(de===ke||_(de,ke,l,f,b)))return ae.push(Se)})){ne=!1;break}}else if(!(de===Ee||_(de,Ee,l,f,b))){ne=!1;break}}return b.delete(e),b.delete(r),ne}function Hg(e,r,l,f,_,b,O){switch(l){case Qn:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Cr:return!(e.byteLength!=r.byteLength||!b(new yi(e),new yi(r)));case gt:case fn:case Or:return Zt(+e,+r);case si:return e.name==r.name&&e.message==r.message;case Rr:case Mr:return e==r+"";case Vt:var L=js;case Jt:var B=f&k;if(L||(L=di),e.size!=r.size&&!B)return!1;var J=O.get(e);if(J)return J==r;f|=A,O.set(e,r);var Y=uu(L(e),L(r),f,_,b,O);return O.delete(e),Y;case li:if(Ur)return Ur.call(e)==Ur.call(r)}return!1}function Gg(e,r,l,f,_,b){var O=l&k,L=go(e),B=L.length,J=go(r),Y=J.length;if(B!=Y&&!O)return!1;for(var X=B;X--;){var ne=L[X];if(!(O?ne in r:De.call(r,ne)))return!1}var ae=b.get(e),de=b.get(r);if(ae&&de)return ae==r&&de==e;var Ee=!0;b.set(e,r),b.set(r,e);for(var ge=O;++X<B;){ne=L[X];var ke=e[ne],Se=r[ne];if(f)var Lt=O?f(Se,ke,ne,r,e,b):f(ke,Se,ne,e,r,b);if(!(Lt===n?ke===Se||_(ke,Se,l,f,b):Lt)){Ee=!1;break}ge||(ge=ne=="constructor")}if(Ee&&!ge){var mt=e.constructor,Ct=r.constructor;mt!=Ct&&"constructor"in e&&"constructor"in r&&!(typeof mt=="function"&&mt instanceof mt&&typeof Ct=="function"&&Ct instanceof Ct)&&(Ee=!1)}return b.delete(e),b.delete(r),Ee}function mn(e){return Eo(pu(e,n,xu),e+"")}function go(e){return Oa(e,ot,vo)}function po(e){return Oa(e,xt,cu)}var _o=Ai?function(e){return Ai.get(e)}:$o;function Ui(e){for(var r=e.name+"",l=lr[r],f=De.call(lr,r)?l.length:0;f--;){var _=l[f],b=_.func;if(b==null||b==e)return _.name}return r}function fr(e){var r=De.call(m,"placeholder")?m:e;return r.placeholder}function he(){var e=m.iteratee||Co;return e=e===Co?La:e,arguments.length?e(arguments[0],arguments[1]):e}function Fi(e,r){var l=e.__data__;return Qg(r)?l[typeof r=="string"?"string":"hash"]:l.map}function mo(e){for(var r=ot(e),l=r.length;l--;){var f=r[l],_=e[f];r[l]=[f,_,du(_)]}return r}function jn(e,r){var l=nd(e,r);return Ma(l)?l:n}function qg(e){var r=De.call(e,Nn),l=e[Nn];try{e[Nn]=n;var f=!0}catch{}var _=mi.call(e);return f&&(r?e[Nn]=l:delete e[Nn]),_}var vo=Hs?function(e){return e==null?[]:(e=Ne(e),Tn(Hs(e),function(r){return _a.call(e,r)}))}:Do,cu=Hs?function(e){for(var r=[];e;)xn(r,vo(e)),e=wi(e);return r}:Do,ht=pt;(Gs&&ht(new Gs(new ArrayBuffer(1)))!=Qn||Dr&&ht(new Dr)!=Vt||qs&&ht(qs.resolve())!=kl||or&&ht(new or)!=Jt||Nr&&ht(new Nr)!=Lr)&&(ht=function(e){var r=pt(e),l=r==hn?e.constructor:n,f=l?Wn(l):"";if(f)switch(f){case Sd:return Qn;case Od:return Vt;case Rd:return kl;case Md:return Jt;case Ld:return Lr}return r});function Vg(e,r,l){for(var f=-1,_=l.length;++f<_;){var b=l[f],O=b.size;switch(b.type){case"drop":e+=O;break;case"dropRight":r-=O;break;case"take":r=ft(r,e+O);break;case"takeRight":e=rt(e,r-O);break}}return{start:e,end:r}}function Jg(e){var r=e.match(eh);return r?r[1].split(th):[]}function fu(e,r,l){r=On(r,e);for(var f=-1,_=r.length,b=!1;++f<_;){var O=sn(r[f]);if(!(b=e!=null&&l(e,O)))break;e=e[O]}return b||++f!=_?b:(_=e==null?0:e.length,!!_&&Vi(_)&&vn(O,_)&&(ve(e)||Hn(e)))}function Kg(e){var r=e.length,l=new e.constructor(r);return r&&typeof e[0]=="string"&&De.call(e,"index")&&(l.index=e.index,l.input=e.input),l}function hu(e){return typeof e.constructor=="function"&&!qr(e)?ar(wi(e)):{}}function Yg(e,r,l){var f=e.constructor;switch(r){case Cr:return co(e);case gt:case fn:return new f(+e);case Qn:return Cg(e,l);case _s:case ms:case vs:case ys:case ws:case bs:case Es:case Ts:case xs:return Ja(e,l);case Vt:return new f;case Or:case Mr:return new f(e);case Rr:return Pg(e);case Jt:return new f;case li:return $g(e)}}function Zg(e,r){var l=r.length;if(!l)return e;var f=l-1;return r[f]=(l>1?"& ":"")+r[f],r=r.join(l>2?", ":" "),e.replace(Qf,`{
/* [wrapped with `+r+`] */
`)}function Xg(e){return ve(e)||Hn(e)||!!(ma&&e&&e[ma])}function vn(e,r){var l=typeof e;return r=r==null?te:r,!!r&&(l=="number"||l!="symbol"&&ch.test(e))&&e>-1&&e%1==0&&e<r}function _t(e,r,l){if(!qe(l))return!1;var f=typeof r;return(f=="number"?Tt(l)&&vn(r,l.length):f=="string"&&r in l)?Zt(l[r],e):!1}function yo(e,r){if(ve(e))return!1;var l=typeof e;return l=="number"||l=="symbol"||l=="boolean"||e==null||Mt(e)?!0:Kf.test(e)||!Jf.test(e)||r!=null&&e in Ne(r)}function Qg(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function wo(e){var r=Ui(e),l=m[r];if(typeof l!="function"||!(r in Ie.prototype))return!1;if(e===l)return!0;var f=_o(l);return!!f&&e===f[0]}function ep(e){return!!da&&da in e}var tp=pi?yn:No;function qr(e){var r=e&&e.constructor,l=typeof r=="function"&&r.prototype||sr;return e===l}function du(e){return e===e&&!qe(e)}function gu(e,r){return function(l){return l==null?!1:l[e]===r&&(r!==n||e in Ne(l))}}function np(e){var r=Gi(e,function(f){return l.size===h&&l.clear(),f}),l=r.cache;return r}function rp(e,r){var l=e[1],f=r[1],_=l|f,b=_<(x|E|z),O=f==z&&l==P||f==z&&l==M&&e[7].length<=r[8]||f==(z|M)&&r[7].length<=r[8]&&l==P;if(!(b||O))return e;f&x&&(e[2]=r[2],_|=l&x?0:T);var L=r[3];if(L){var B=e[3];e[3]=B?Ya(B,L,r[4]):L,e[4]=B?An(e[3],g):r[4]}return L=r[5],L&&(B=e[5],e[5]=B?Za(B,L,r[6]):L,e[6]=B?An(e[5],g):r[6]),L=r[7],L&&(e[7]=L),f&z&&(e[8]=e[8]==null?r[8]:ft(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=_,e}function ip(e){var r=[];if(e!=null)for(var l in Ne(e))r.push(l);return r}function sp(e){return mi.call(e)}function pu(e,r,l){return r=rt(r===n?e.length-1:r,0),function(){for(var f=arguments,_=-1,b=rt(f.length-r,0),O=j(b);++_<b;)O[_]=f[r+_];_=-1;for(var L=j(r+1);++_<r;)L[_]=f[_];return L[r]=l(O),St(e,this,L)}}function _u(e,r){return r.length<2?e:zn(e,jt(r,0,-1))}function op(e,r){for(var l=e.length,f=ft(r.length,l),_=Et(e);f--;){var b=r[f];e[f]=vn(b,l)?_[b]:n}return e}function bo(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var mu=yu(Fa),Vr=bd||function(e,r){return ut.setTimeout(e,r)},Eo=yu(Og);function vu(e,r,l){var f=r+"";return Eo(e,Zg(f,lp(Jg(f),l)))}function yu(e){var r=0,l=0;return function(){var f=Ad(),_=ie-(f-l);if(l=f,_>0){if(++r>=ue)return arguments[0]}else r=0;return e.apply(n,arguments)}}function zi(e,r){var l=-1,f=e.length,_=f-1;for(r=r===n?f:r;++l<r;){var b=ro(l,_),O=e[b];e[b]=e[l],e[l]=O}return e.length=r,e}var wu=np(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Yf,function(l,f,_,b){r.push(_?b.replace(ih,"$1"):f||l)}),r});function sn(e){if(typeof e=="string"||Mt(e))return e;var r=e+"";return r=="0"&&1/e==-Q?"-0":r}function Wn(e){if(e!=null){try{return _i.call(e)}catch{}try{return e+""}catch{}}return""}function lp(e,r){return Bt(Ye,function(l){var f="_."+l[0];r&l[1]&&!fi(e,f)&&e.push(f)}),e.sort()}function bu(e){if(e instanceof Ie)return e.clone();var r=new Ft(e.__wrapped__,e.__chain__);return r.__actions__=Et(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}function ap(e,r,l){(l?_t(e,r,l):r===n)?r=1:r=rt(be(r),0);var f=e==null?0:e.length;if(!f||r<1)return[];for(var _=0,b=0,O=j(Ti(f/r));_<f;)O[b++]=jt(e,_,_+=r);return O}function up(e){for(var r=-1,l=e==null?0:e.length,f=0,_=[];++r<l;){var b=e[r];b&&(_[f++]=b)}return _}function cp(){var e=arguments.length;if(!e)return[];for(var r=j(e-1),l=arguments[0],f=e;f--;)r[f-1]=arguments[f];return xn(ve(l)?Et(l):[l],ct(r,1))}var fp=Te(function(e,r){return Xe(e)?zr(e,ct(r,1,Xe,!0)):[]}),hp=Te(function(e,r){var l=Wt(r);return Xe(l)&&(l=n),Xe(e)?zr(e,ct(r,1,Xe,!0),he(l,2)):[]}),dp=Te(function(e,r){var l=Wt(r);return Xe(l)&&(l=n),Xe(e)?zr(e,ct(r,1,Xe,!0),n,l):[]});function gp(e,r,l){var f=e==null?0:e.length;return f?(r=l||r===n?1:be(r),jt(e,r<0?0:r,f)):[]}function pp(e,r,l){var f=e==null?0:e.length;return f?(r=l||r===n?1:be(r),r=f-r,jt(e,0,r<0?0:r)):[]}function _p(e,r){return e&&e.length?Ci(e,he(r,3),!0,!0):[]}function mp(e,r){return e&&e.length?Ci(e,he(r,3),!0):[]}function vp(e,r,l,f){var _=e==null?0:e.length;return _?(l&&typeof l!="number"&&_t(e,r,l)&&(l=0,f=_),cg(e,r,l,f)):[]}function Eu(e,r,l){var f=e==null?0:e.length;if(!f)return-1;var _=l==null?0:be(l);return _<0&&(_=rt(f+_,0)),hi(e,he(r,3),_)}function Tu(e,r,l){var f=e==null?0:e.length;if(!f)return-1;var _=f-1;return l!==n&&(_=be(l),_=l<0?rt(f+_,0):ft(_,f-1)),hi(e,he(r,3),_,!0)}function xu(e){var r=e==null?0:e.length;return r?ct(e,1):[]}function yp(e){var r=e==null?0:e.length;return r?ct(e,Q):[]}function wp(e,r){var l=e==null?0:e.length;return l?(r=r===n?1:be(r),ct(e,r)):[]}function bp(e){for(var r=-1,l=e==null?0:e.length,f={};++r<l;){var _=e[r];f[_[0]]=_[1]}return f}function Au(e){return e&&e.length?e[0]:n}function Ep(e,r,l){var f=e==null?0:e.length;if(!f)return-1;var _=l==null?0:be(l);return _<0&&(_=rt(f+_,0)),tr(e,r,_)}function Tp(e){var r=e==null?0:e.length;return r?jt(e,0,-1):[]}var xp=Te(function(e){var r=He(e,ao);return r.length&&r[0]===e[0]?Xs(r):[]}),Ap=Te(function(e){var r=Wt(e),l=He(e,ao);return r===Wt(l)?r=n:l.pop(),l.length&&l[0]===e[0]?Xs(l,he(r,2)):[]}),kp=Te(function(e){var r=Wt(e),l=He(e,ao);return r=typeof r=="function"?r:n,r&&l.pop(),l.length&&l[0]===e[0]?Xs(l,n,r):[]});function Ip(e,r){return e==null?"":Td.call(e,r)}function Wt(e){var r=e==null?0:e.length;return r?e[r-1]:n}function Sp(e,r,l){var f=e==null?0:e.length;if(!f)return-1;var _=f;return l!==n&&(_=be(l),_=_<0?rt(f+_,0):ft(_,f-1)),r===r?ld(e,r,_):hi(e,sa,_,!0)}function Op(e,r){return e&&e.length?Da(e,be(r)):n}var Rp=Te(ku);function ku(e,r){return e&&e.length&&r&&r.length?no(e,r):e}function Mp(e,r,l){return e&&e.length&&r&&r.length?no(e,r,he(l,2)):e}function Lp(e,r,l){return e&&e.length&&r&&r.length?no(e,r,n,l):e}var Cp=mn(function(e,r){var l=e==null?0:e.length,f=Js(e,r);return Ua(e,He(r,function(_){return vn(_,l)?+_:_}).sort(Ka)),f});function Pp(e,r){var l=[];if(!(e&&e.length))return l;var f=-1,_=[],b=e.length;for(r=he(r,3);++f<b;){var O=e[f];r(O,f,e)&&(l.push(O),_.push(f))}return Ua(e,_),l}function To(e){return e==null?e:Id.call(e)}function $p(e,r,l){var f=e==null?0:e.length;return f?(l&&typeof l!="number"&&_t(e,r,l)?(r=0,l=f):(r=r==null?0:be(r),l=l===n?f:be(l)),jt(e,r,l)):[]}function Dp(e,r){return Li(e,r)}function Np(e,r,l){return so(e,r,he(l,2))}function Bp(e,r){var l=e==null?0:e.length;if(l){var f=Li(e,r);if(f<l&&Zt(e[f],r))return f}return-1}function Up(e,r){return Li(e,r,!0)}function Fp(e,r,l){return so(e,r,he(l,2),!0)}function zp(e,r){var l=e==null?0:e.length;if(l){var f=Li(e,r,!0)-1;if(Zt(e[f],r))return f}return-1}function jp(e){return e&&e.length?za(e):[]}function Wp(e,r){return e&&e.length?za(e,he(r,2)):[]}function Hp(e){var r=e==null?0:e.length;return r?jt(e,1,r):[]}function Gp(e,r,l){return e&&e.length?(r=l||r===n?1:be(r),jt(e,0,r<0?0:r)):[]}function qp(e,r,l){var f=e==null?0:e.length;return f?(r=l||r===n?1:be(r),r=f-r,jt(e,r<0?0:r,f)):[]}function Vp(e,r){return e&&e.length?Ci(e,he(r,3),!1,!0):[]}function Jp(e,r){return e&&e.length?Ci(e,he(r,3)):[]}var Kp=Te(function(e){return Sn(ct(e,1,Xe,!0))}),Yp=Te(function(e){var r=Wt(e);return Xe(r)&&(r=n),Sn(ct(e,1,Xe,!0),he(r,2))}),Zp=Te(function(e){var r=Wt(e);return r=typeof r=="function"?r:n,Sn(ct(e,1,Xe,!0),n,r)});function Xp(e){return e&&e.length?Sn(e):[]}function Qp(e,r){return e&&e.length?Sn(e,he(r,2)):[]}function e_(e,r){return r=typeof r=="function"?r:n,e&&e.length?Sn(e,n,r):[]}function xo(e){if(!(e&&e.length))return[];var r=0;return e=Tn(e,function(l){if(Xe(l))return r=rt(l.length,r),!0}),Fs(r,function(l){return He(e,Ns(l))})}function Iu(e,r){if(!(e&&e.length))return[];var l=xo(e);return r==null?l:He(l,function(f){return St(r,n,f)})}var t_=Te(function(e,r){return Xe(e)?zr(e,r):[]}),n_=Te(function(e){return lo(Tn(e,Xe))}),r_=Te(function(e){var r=Wt(e);return Xe(r)&&(r=n),lo(Tn(e,Xe),he(r,2))}),i_=Te(function(e){var r=Wt(e);return r=typeof r=="function"?r:n,lo(Tn(e,Xe),n,r)}),s_=Te(xo);function o_(e,r){return Ga(e||[],r||[],Fr)}function l_(e,r){return Ga(e||[],r||[],Hr)}var a_=Te(function(e){var r=e.length,l=r>1?e[r-1]:n;return l=typeof l=="function"?(e.pop(),l):n,Iu(e,l)});function Su(e){var r=m(e);return r.__chain__=!0,r}function u_(e,r){return r(e),e}function ji(e,r){return r(e)}var c_=mn(function(e){var r=e.length,l=r?e[0]:0,f=this.__wrapped__,_=function(b){return Js(b,e)};return r>1||this.__actions__.length||!(f instanceof Ie)||!vn(l)?this.thru(_):(f=f.slice(l,+l+(r?1:0)),f.__actions__.push({func:ji,args:[_],thisArg:n}),new Ft(f,this.__chain__).thru(function(b){return r&&!b.length&&b.push(n),b}))});function f_(){return Su(this)}function h_(){return new Ft(this.value(),this.__chain__)}function d_(){this.__values__===n&&(this.__values__=ju(this.value()));var e=this.__index__>=this.__values__.length,r=e?n:this.__values__[this.__index__++];return{done:e,value:r}}function g_(){return this}function p_(e){for(var r,l=this;l instanceof Ii;){var f=bu(l);f.__index__=0,f.__values__=n,r?_.__wrapped__=f:r=f;var _=f;l=l.__wrapped__}return _.__wrapped__=e,r}function __(){var e=this.__wrapped__;if(e instanceof Ie){var r=e;return this.__actions__.length&&(r=new Ie(this)),r=r.reverse(),r.__actions__.push({func:ji,args:[To],thisArg:n}),new Ft(r,this.__chain__)}return this.thru(To)}function m_(){return Ha(this.__wrapped__,this.__actions__)}var v_=Pi(function(e,r,l){De.call(e,l)?++e[l]:pn(e,l,1)});function y_(e,r,l){var f=ve(e)?ra:ug;return l&&_t(e,r,l)&&(r=n),f(e,he(r,3))}function w_(e,r){var l=ve(e)?Tn:Ia;return l(e,he(r,3))}var b_=tu(Eu),E_=tu(Tu);function T_(e,r){return ct(Wi(e,r),1)}function x_(e,r){return ct(Wi(e,r),Q)}function A_(e,r,l){return l=l===n?1:be(l),ct(Wi(e,r),l)}function Ou(e,r){var l=ve(e)?Bt:In;return l(e,he(r,3))}function Ru(e,r){var l=ve(e)?Hh:ka;return l(e,he(r,3))}var k_=Pi(function(e,r,l){De.call(e,l)?e[l].push(r):pn(e,l,[r])});function I_(e,r,l,f){e=Tt(e)?e:dr(e),l=l&&!f?be(l):0;var _=e.length;return l<0&&(l=rt(_+l,0)),Ji(e)?l<=_&&e.indexOf(r,l)>-1:!!_&&tr(e,r,l)>-1}var S_=Te(function(e,r,l){var f=-1,_=typeof r=="function",b=Tt(e)?j(e.length):[];return In(e,function(O){b[++f]=_?St(r,O,l):jr(O,r,l)}),b}),O_=Pi(function(e,r,l){pn(e,l,r)});function Wi(e,r){var l=ve(e)?He:Ca;return l(e,he(r,3))}function R_(e,r,l,f){return e==null?[]:(ve(r)||(r=r==null?[]:[r]),l=f?n:l,ve(l)||(l=l==null?[]:[l]),Na(e,r,l))}var M_=Pi(function(e,r,l){e[l?0:1].push(r)},function(){return[[],[]]});function L_(e,r,l){var f=ve(e)?$s:la,_=arguments.length<3;return f(e,he(r,4),l,_,In)}function C_(e,r,l){var f=ve(e)?Gh:la,_=arguments.length<3;return f(e,he(r,4),l,_,ka)}function P_(e,r){var l=ve(e)?Tn:Ia;return l(e,qi(he(r,3)))}function $_(e){var r=ve(e)?Ea:Ig;return r(e)}function D_(e,r,l){(l?_t(e,r,l):r===n)?r=1:r=be(r);var f=ve(e)?ig:Sg;return f(e,r)}function N_(e){var r=ve(e)?sg:Rg;return r(e)}function B_(e){if(e==null)return 0;if(Tt(e))return Ji(e)?rr(e):e.length;var r=ht(e);return r==Vt||r==Jt?e.size:eo(e).length}function U_(e,r,l){var f=ve(e)?Ds:Mg;return l&&_t(e,r,l)&&(r=n),f(e,he(r,3))}var F_=Te(function(e,r){if(e==null)return[];var l=r.length;return l>1&&_t(e,r[0],r[1])?r=[]:l>2&&_t(r[0],r[1],r[2])&&(r=[r[0]]),Na(e,ct(r,1),[])}),Hi=wd||function(){return ut.Date.now()};function z_(e,r){if(typeof r!="function")throw new Ut(u);return e=be(e),function(){if(--e<1)return r.apply(this,arguments)}}function Mu(e,r,l){return r=l?n:r,r=e&&r==null?e.length:r,_n(e,z,n,n,n,n,r)}function Lu(e,r){var l;if(typeof r!="function")throw new Ut(u);return e=be(e),function(){return--e>0&&(l=r.apply(this,arguments)),e<=1&&(r=n),l}}var Ao=Te(function(e,r,l){var f=x;if(l.length){var _=An(l,fr(Ao));f|=F}return _n(e,f,r,l,_)}),Cu=Te(function(e,r,l){var f=x|E;if(l.length){var _=An(l,fr(Cu));f|=F}return _n(r,f,e,l,_)});function Pu(e,r,l){r=l?n:r;var f=_n(e,P,n,n,n,n,n,r);return f.placeholder=Pu.placeholder,f}function $u(e,r,l){r=l?n:r;var f=_n(e,I,n,n,n,n,n,r);return f.placeholder=$u.placeholder,f}function Du(e,r,l){var f,_,b,O,L,B,J=0,Y=!1,X=!1,ne=!0;if(typeof e!="function")throw new Ut(u);r=Ht(r)||0,qe(l)&&(Y=!!l.leading,X="maxWait"in l,b=X?rt(Ht(l.maxWait)||0,r):b,ne="trailing"in l?!!l.trailing:ne);function ae(Qe){var Xt=f,bn=_;return f=_=n,J=Qe,O=e.apply(bn,Xt),O}function de(Qe){return J=Qe,L=Vr(ke,r),Y?ae(Qe):O}function Ee(Qe){var Xt=Qe-B,bn=Qe-J,tc=r-Xt;return X?ft(tc,b-bn):tc}function ge(Qe){var Xt=Qe-B,bn=Qe-J;return B===n||Xt>=r||Xt<0||X&&bn>=b}function ke(){var Qe=Hi();if(ge(Qe))return Se(Qe);L=Vr(ke,Ee(Qe))}function Se(Qe){return L=n,ne&&f?ae(Qe):(f=_=n,O)}function Lt(){L!==n&&qa(L),J=0,f=B=_=L=n}function mt(){return L===n?O:Se(Hi())}function Ct(){var Qe=Hi(),Xt=ge(Qe);if(f=arguments,_=this,B=Qe,Xt){if(L===n)return de(B);if(X)return qa(L),L=Vr(ke,r),ae(B)}return L===n&&(L=Vr(ke,r)),O}return Ct.cancel=Lt,Ct.flush=mt,Ct}var j_=Te(function(e,r){return Aa(e,1,r)}),W_=Te(function(e,r,l){return Aa(e,Ht(r)||0,l)});function H_(e){return _n(e,W)}function Gi(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new Ut(u);var l=function(){var f=arguments,_=r?r.apply(this,f):f[0],b=l.cache;if(b.has(_))return b.get(_);var O=e.apply(this,f);return l.cache=b.set(_,O)||b,O};return l.cache=new(Gi.Cache||gn),l}Gi.Cache=gn;function qi(e){if(typeof e!="function")throw new Ut(u);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function G_(e){return Lu(2,e)}var q_=Lg(function(e,r){r=r.length==1&&ve(r[0])?He(r[0],Ot(he())):He(ct(r,1),Ot(he()));var l=r.length;return Te(function(f){for(var _=-1,b=ft(f.length,l);++_<b;)f[_]=r[_].call(this,f[_]);return St(e,this,f)})}),ko=Te(function(e,r){var l=An(r,fr(ko));return _n(e,F,n,r,l)}),Nu=Te(function(e,r){var l=An(r,fr(Nu));return _n(e,R,n,r,l)}),V_=mn(function(e,r){return _n(e,M,n,n,n,r)});function J_(e,r){if(typeof e!="function")throw new Ut(u);return r=r===n?r:be(r),Te(e,r)}function K_(e,r){if(typeof e!="function")throw new Ut(u);return r=r==null?0:rt(be(r),0),Te(function(l){var f=l[r],_=Rn(l,0,r);return f&&xn(_,f),St(e,this,_)})}function Y_(e,r,l){var f=!0,_=!0;if(typeof e!="function")throw new Ut(u);return qe(l)&&(f="leading"in l?!!l.leading:f,_="trailing"in l?!!l.trailing:_),Du(e,r,{leading:f,maxWait:r,trailing:_})}function Z_(e){return Mu(e,1)}function X_(e,r){return ko(uo(r),e)}function Q_(){if(!arguments.length)return[];var e=arguments[0];return ve(e)?e:[e]}function e0(e){return zt(e,y)}function t0(e,r){return r=typeof r=="function"?r:n,zt(e,y,r)}function n0(e){return zt(e,p|y)}function r0(e,r){return r=typeof r=="function"?r:n,zt(e,p|y,r)}function i0(e,r){return r==null||xa(e,r,ot(r))}function Zt(e,r){return e===r||e!==e&&r!==r}var s0=Bi(Zs),o0=Bi(function(e,r){return e>=r}),Hn=Ra(function(){return arguments}())?Ra:function(e){return Ze(e)&&De.call(e,"callee")&&!_a.call(e,"callee")},ve=j.isArray,l0=Zl?Ot(Zl):pg;function Tt(e){return e!=null&&Vi(e.length)&&!yn(e)}function Xe(e){return Ze(e)&&Tt(e)}function a0(e){return e===!0||e===!1||Ze(e)&&pt(e)==gt}var Mn=Ed||No,u0=Xl?Ot(Xl):_g;function c0(e){return Ze(e)&&e.nodeType===1&&!Jr(e)}function f0(e){if(e==null)return!0;if(Tt(e)&&(ve(e)||typeof e=="string"||typeof e.splice=="function"||Mn(e)||hr(e)||Hn(e)))return!e.length;var r=ht(e);if(r==Vt||r==Jt)return!e.size;if(qr(e))return!eo(e).length;for(var l in e)if(De.call(e,l))return!1;return!0}function h0(e,r){return Wr(e,r)}function d0(e,r,l){l=typeof l=="function"?l:n;var f=l?l(e,r):n;return f===n?Wr(e,r,n,l):!!f}function Io(e){if(!Ze(e))return!1;var r=pt(e);return r==si||r==Df||typeof e.message=="string"&&typeof e.name=="string"&&!Jr(e)}function g0(e){return typeof e=="number"&&va(e)}function yn(e){if(!qe(e))return!1;var r=pt(e);return r==oi||r==Al||r==It||r==Bf}function Bu(e){return typeof e=="number"&&e==be(e)}function Vi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=te}function qe(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function Ze(e){return e!=null&&typeof e=="object"}var Uu=Ql?Ot(Ql):vg;function p0(e,r){return e===r||Qs(e,r,mo(r))}function _0(e,r,l){return l=typeof l=="function"?l:n,Qs(e,r,mo(r),l)}function m0(e){return Fu(e)&&e!=+e}function v0(e){if(tp(e))throw new me(a);return Ma(e)}function y0(e){return e===null}function w0(e){return e==null}function Fu(e){return typeof e=="number"||Ze(e)&&pt(e)==Or}function Jr(e){if(!Ze(e)||pt(e)!=hn)return!1;var r=wi(e);if(r===null)return!0;var l=De.call(r,"constructor")&&r.constructor;return typeof l=="function"&&l instanceof l&&_i.call(l)==_d}var So=ea?Ot(ea):yg;function b0(e){return Bu(e)&&e>=-te&&e<=te}var zu=ta?Ot(ta):wg;function Ji(e){return typeof e=="string"||!ve(e)&&Ze(e)&&pt(e)==Mr}function Mt(e){return typeof e=="symbol"||Ze(e)&&pt(e)==li}var hr=na?Ot(na):bg;function E0(e){return e===n}function T0(e){return Ze(e)&&ht(e)==Lr}function x0(e){return Ze(e)&&pt(e)==Ff}var A0=Bi(to),k0=Bi(function(e,r){return e<=r});function ju(e){if(!e)return[];if(Tt(e))return Ji(e)?Kt(e):Et(e);if($r&&e[$r])return id(e[$r]());var r=ht(e),l=r==Vt?js:r==Jt?di:dr;return l(e)}function wn(e){if(!e)return e===0?e:0;if(e=Ht(e),e===Q||e===-Q){var r=e<0?-1:1;return r*ee}return e===e?e:0}function be(e){var r=wn(e),l=r%1;return r===r?l?r-l:r:0}function Wu(e){return e?Fn(be(e),0,_e):0}function Ht(e){if(typeof e=="number")return e;if(Mt(e))return pe;if(qe(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=qe(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=aa(e);var l=lh.test(e);return l||uh.test(e)?zh(e.slice(2),l?2:8):oh.test(e)?pe:+e}function Hu(e){return rn(e,xt(e))}function I0(e){return e?Fn(be(e),-te,te):e===0?e:0}function $e(e){return e==null?"":Rt(e)}var S0=ur(function(e,r){if(qr(r)||Tt(r)){rn(r,ot(r),e);return}for(var l in r)De.call(r,l)&&Fr(e,l,r[l])}),Gu=ur(function(e,r){rn(r,xt(r),e)}),Ki=ur(function(e,r,l,f){rn(r,xt(r),e,f)}),O0=ur(function(e,r,l,f){rn(r,ot(r),e,f)}),R0=mn(Js);function M0(e,r){var l=ar(e);return r==null?l:Ta(l,r)}var L0=Te(function(e,r){e=Ne(e);var l=-1,f=r.length,_=f>2?r[2]:n;for(_&&_t(r[0],r[1],_)&&(f=1);++l<f;)for(var b=r[l],O=xt(b),L=-1,B=O.length;++L<B;){var J=O[L],Y=e[J];(Y===n||Zt(Y,sr[J])&&!De.call(e,J))&&(e[J]=b[J])}return e}),C0=Te(function(e){return e.push(n,au),St(qu,n,e)});function P0(e,r){return ia(e,he(r,3),nn)}function $0(e,r){return ia(e,he(r,3),Ys)}function D0(e,r){return e==null?e:Ks(e,he(r,3),xt)}function N0(e,r){return e==null?e:Sa(e,he(r,3),xt)}function B0(e,r){return e&&nn(e,he(r,3))}function U0(e,r){return e&&Ys(e,he(r,3))}function F0(e){return e==null?[]:Ri(e,ot(e))}function z0(e){return e==null?[]:Ri(e,xt(e))}function Oo(e,r,l){var f=e==null?n:zn(e,r);return f===n?l:f}function j0(e,r){return e!=null&&fu(e,r,fg)}function Ro(e,r){return e!=null&&fu(e,r,hg)}var W0=ru(function(e,r,l){r!=null&&typeof r.toString!="function"&&(r=mi.call(r)),e[r]=l},Lo(At)),H0=ru(function(e,r,l){r!=null&&typeof r.toString!="function"&&(r=mi.call(r)),De.call(e,r)?e[r].push(l):e[r]=[l]},he),G0=Te(jr);function ot(e){return Tt(e)?ba(e):eo(e)}function xt(e){return Tt(e)?ba(e,!0):Eg(e)}function q0(e,r){var l={};return r=he(r,3),nn(e,function(f,_,b){pn(l,r(f,_,b),f)}),l}function V0(e,r){var l={};return r=he(r,3),nn(e,function(f,_,b){pn(l,_,r(f,_,b))}),l}var J0=ur(function(e,r,l){Mi(e,r,l)}),qu=ur(function(e,r,l,f){Mi(e,r,l,f)}),K0=mn(function(e,r){var l={};if(e==null)return l;var f=!1;r=He(r,function(b){return b=On(b,e),f||(f=b.length>1),b}),rn(e,po(e),l),f&&(l=zt(l,p|v|y,Wg));for(var _=r.length;_--;)oo(l,r[_]);return l});function Y0(e,r){return Vu(e,qi(he(r)))}var Z0=mn(function(e,r){return e==null?{}:xg(e,r)});function Vu(e,r){if(e==null)return{};var l=He(po(e),function(f){return[f]});return r=he(r),Ba(e,l,function(f,_){return r(f,_[0])})}function X0(e,r,l){r=On(r,e);var f=-1,_=r.length;for(_||(_=1,e=n);++f<_;){var b=e==null?n:e[sn(r[f])];b===n&&(f=_,b=l),e=yn(b)?b.call(e):b}return e}function Q0(e,r,l){return e==null?e:Hr(e,r,l)}function em(e,r,l,f){return f=typeof f=="function"?f:n,e==null?e:Hr(e,r,l,f)}var Ju=ou(ot),Ku=ou(xt);function tm(e,r,l){var f=ve(e),_=f||Mn(e)||hr(e);if(r=he(r,4),l==null){var b=e&&e.constructor;_?l=f?new b:[]:qe(e)?l=yn(b)?ar(wi(e)):{}:l={}}return(_?Bt:nn)(e,function(O,L,B){return r(l,O,L,B)}),l}function nm(e,r){return e==null?!0:oo(e,r)}function rm(e,r,l){return e==null?e:Wa(e,r,uo(l))}function im(e,r,l,f){return f=typeof f=="function"?f:n,e==null?e:Wa(e,r,uo(l),f)}function dr(e){return e==null?[]:zs(e,ot(e))}function sm(e){return e==null?[]:zs(e,xt(e))}function om(e,r,l){return l===n&&(l=r,r=n),l!==n&&(l=Ht(l),l=l===l?l:0),r!==n&&(r=Ht(r),r=r===r?r:0),Fn(Ht(e),r,l)}function lm(e,r,l){return r=wn(r),l===n?(l=r,r=0):l=wn(l),e=Ht(e),dg(e,r,l)}function am(e,r,l){if(l&&typeof l!="boolean"&&_t(e,r,l)&&(r=l=n),l===n&&(typeof r=="boolean"?(l=r,r=n):typeof e=="boolean"&&(l=e,e=n)),e===n&&r===n?(e=0,r=1):(e=wn(e),r===n?(r=e,e=0):r=wn(r)),e>r){var f=e;e=r,r=f}if(l||e%1||r%1){var _=ya();return ft(e+_*(r-e+Fh("1e-"+((_+"").length-1))),r)}return ro(e,r)}var um=cr(function(e,r,l){return r=r.toLowerCase(),e+(l?Yu(r):r)});function Yu(e){return Mo($e(e).toLowerCase())}function Zu(e){return e=$e(e),e&&e.replace(fh,Qh).replace(Rh,"")}function cm(e,r,l){e=$e(e),r=Rt(r);var f=e.length;l=l===n?f:Fn(be(l),0,f);var _=l;return l-=r.length,l>=0&&e.slice(l,_)==r}function fm(e){return e=$e(e),e&&Gf.test(e)?e.replace(Sl,ed):e}function hm(e){return e=$e(e),e&&Zf.test(e)?e.replace(As,"\\$&"):e}var dm=cr(function(e,r,l){return e+(l?"-":"")+r.toLowerCase()}),gm=cr(function(e,r,l){return e+(l?" ":"")+r.toLowerCase()}),pm=eu("toLowerCase");function _m(e,r,l){e=$e(e),r=be(r);var f=r?rr(e):0;if(!r||f>=r)return e;var _=(r-f)/2;return Ni(xi(_),l)+e+Ni(Ti(_),l)}function mm(e,r,l){e=$e(e),r=be(r);var f=r?rr(e):0;return r&&f<r?e+Ni(r-f,l):e}function vm(e,r,l){e=$e(e),r=be(r);var f=r?rr(e):0;return r&&f<r?Ni(r-f,l)+e:e}function ym(e,r,l){return l||r==null?r=0:r&&(r=+r),kd($e(e).replace(ks,""),r||0)}function wm(e,r,l){return(l?_t(e,r,l):r===n)?r=1:r=be(r),io($e(e),r)}function bm(){var e=arguments,r=$e(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var Em=cr(function(e,r,l){return e+(l?"_":"")+r.toLowerCase()});function Tm(e,r,l){return l&&typeof l!="number"&&_t(e,r,l)&&(r=l=n),l=l===n?_e:l>>>0,l?(e=$e(e),e&&(typeof r=="string"||r!=null&&!So(r))&&(r=Rt(r),!r&&nr(e))?Rn(Kt(e),0,l):e.split(r,l)):[]}var xm=cr(function(e,r,l){return e+(l?" ":"")+Mo(r)});function Am(e,r,l){return e=$e(e),l=l==null?0:Fn(be(l),0,e.length),r=Rt(r),e.slice(l,l+r.length)==r}function km(e,r,l){var f=m.templateSettings;l&&_t(e,r,l)&&(r=n),e=$e(e),r=Ki({},r,f,lu);var _=Ki({},r.imports,f.imports,lu),b=ot(_),O=zs(_,b),L,B,J=0,Y=r.interpolate||ai,X="__p += '",ne=Ws((r.escape||ai).source+"|"+Y.source+"|"+(Y===Ol?sh:ai).source+"|"+(r.evaluate||ai).source+"|$","g"),ae="//# sourceURL="+(De.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++$h+"]")+`
`;e.replace(ne,function(ge,ke,Se,Lt,mt,Ct){return Se||(Se=Lt),X+=e.slice(J,Ct).replace(hh,td),ke&&(L=!0,X+=`' +
__e(`+ke+`) +
'`),mt&&(B=!0,X+=`';
`+mt+`;
__p += '`),Se&&(X+=`' +
((__t = (`+Se+`)) == null ? '' : __t) +
'`),J=Ct+ge.length,ge}),X+=`';
`;var de=De.call(r,"variable")&&r.variable;if(!de)X=`with (obj) {
`+X+`
}
`;else if(rh.test(de))throw new me(c);X=(B?X.replace(zf,""):X).replace(jf,"$1").replace(Wf,"$1;"),X="function("+(de||"obj")+`) {
`+(de?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(B?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+X+`return __p
}`;var Ee=Qu(function(){return Pe(b,ae+"return "+X).apply(n,O)});if(Ee.source=X,Io(Ee))throw Ee;return Ee}function Im(e){return $e(e).toLowerCase()}function Sm(e){return $e(e).toUpperCase()}function Om(e,r,l){if(e=$e(e),e&&(l||r===n))return aa(e);if(!e||!(r=Rt(r)))return e;var f=Kt(e),_=Kt(r),b=ua(f,_),O=ca(f,_)+1;return Rn(f,b,O).join("")}function Rm(e,r,l){if(e=$e(e),e&&(l||r===n))return e.slice(0,ha(e)+1);if(!e||!(r=Rt(r)))return e;var f=Kt(e),_=ca(f,Kt(r))+1;return Rn(f,0,_).join("")}function Mm(e,r,l){if(e=$e(e),e&&(l||r===n))return e.replace(ks,"");if(!e||!(r=Rt(r)))return e;var f=Kt(e),_=ua(f,Kt(r));return Rn(f,_).join("")}function Lm(e,r){var l=V,f=Z;if(qe(r)){var _="separator"in r?r.separator:_;l="length"in r?be(r.length):l,f="omission"in r?Rt(r.omission):f}e=$e(e);var b=e.length;if(nr(e)){var O=Kt(e);b=O.length}if(l>=b)return e;var L=l-rr(f);if(L<1)return f;var B=O?Rn(O,0,L).join(""):e.slice(0,L);if(_===n)return B+f;if(O&&(L+=B.length-L),So(_)){if(e.slice(L).search(_)){var J,Y=B;for(_.global||(_=Ws(_.source,$e(Rl.exec(_))+"g")),_.lastIndex=0;J=_.exec(Y);)var X=J.index;B=B.slice(0,X===n?L:X)}}else if(e.indexOf(Rt(_),L)!=L){var ne=B.lastIndexOf(_);ne>-1&&(B=B.slice(0,ne))}return B+f}function Cm(e){return e=$e(e),e&&Hf.test(e)?e.replace(Il,ad):e}var Pm=cr(function(e,r,l){return e+(l?" ":"")+r.toUpperCase()}),Mo=eu("toUpperCase");function Xu(e,r,l){return e=$e(e),r=l?n:r,r===n?rd(e)?fd(e):Jh(e):e.match(r)||[]}var Qu=Te(function(e,r){try{return St(e,n,r)}catch(l){return Io(l)?l:new me(l)}}),$m=mn(function(e,r){return Bt(r,function(l){l=sn(l),pn(e,l,Ao(e[l],e))}),e});function Dm(e){var r=e==null?0:e.length,l=he();return e=r?He(e,function(f){if(typeof f[1]!="function")throw new Ut(u);return[l(f[0]),f[1]]}):[],Te(function(f){for(var _=-1;++_<r;){var b=e[_];if(St(b[0],this,f))return St(b[1],this,f)}})}function Nm(e){return ag(zt(e,p))}function Lo(e){return function(){return e}}function Bm(e,r){return e==null||e!==e?r:e}var Um=nu(),Fm=nu(!0);function At(e){return e}function Co(e){return La(typeof e=="function"?e:zt(e,p))}function zm(e){return Pa(zt(e,p))}function jm(e,r){return $a(e,zt(r,p))}var Wm=Te(function(e,r){return function(l){return jr(l,e,r)}}),Hm=Te(function(e,r){return function(l){return jr(e,l,r)}});function Po(e,r,l){var f=ot(r),_=Ri(r,f);l==null&&!(qe(r)&&(_.length||!f.length))&&(l=r,r=e,e=this,_=Ri(r,ot(r)));var b=!(qe(l)&&"chain"in l)||!!l.chain,O=yn(e);return Bt(_,function(L){var B=r[L];e[L]=B,O&&(e.prototype[L]=function(){var J=this.__chain__;if(b||J){var Y=e(this.__wrapped__),X=Y.__actions__=Et(this.__actions__);return X.push({func:B,args:arguments,thisArg:e}),Y.__chain__=J,Y}return B.apply(e,xn([this.value()],arguments))})}),e}function Gm(){return ut._===this&&(ut._=md),this}function $o(){}function qm(e){return e=be(e),Te(function(r){return Da(r,e)})}var Vm=fo(He),Jm=fo(ra),Km=fo(Ds);function ec(e){return yo(e)?Ns(sn(e)):Ag(e)}function Ym(e){return function(r){return e==null?n:zn(e,r)}}var Zm=iu(),Xm=iu(!0);function Do(){return[]}function No(){return!1}function Qm(){return{}}function ev(){return""}function tv(){return!0}function nv(e,r){if(e=be(e),e<1||e>te)return[];var l=_e,f=ft(e,_e);r=he(r),e-=_e;for(var _=Fs(f,r);++l<e;)r(l);return _}function rv(e){return ve(e)?He(e,sn):Mt(e)?[e]:Et(wu($e(e)))}function iv(e){var r=++pd;return $e(e)+r}var sv=Di(function(e,r){return e+r},0),ov=ho("ceil"),lv=Di(function(e,r){return e/r},1),av=ho("floor");function uv(e){return e&&e.length?Oi(e,At,Zs):n}function cv(e,r){return e&&e.length?Oi(e,he(r,2),Zs):n}function fv(e){return oa(e,At)}function hv(e,r){return oa(e,he(r,2))}function dv(e){return e&&e.length?Oi(e,At,to):n}function gv(e,r){return e&&e.length?Oi(e,he(r,2),to):n}var pv=Di(function(e,r){return e*r},1),_v=ho("round"),mv=Di(function(e,r){return e-r},0);function vv(e){return e&&e.length?Us(e,At):0}function yv(e,r){return e&&e.length?Us(e,he(r,2)):0}return m.after=z_,m.ary=Mu,m.assign=S0,m.assignIn=Gu,m.assignInWith=Ki,m.assignWith=O0,m.at=R0,m.before=Lu,m.bind=Ao,m.bindAll=$m,m.bindKey=Cu,m.castArray=Q_,m.chain=Su,m.chunk=ap,m.compact=up,m.concat=cp,m.cond=Dm,m.conforms=Nm,m.constant=Lo,m.countBy=v_,m.create=M0,m.curry=Pu,m.curryRight=$u,m.debounce=Du,m.defaults=L0,m.defaultsDeep=C0,m.defer=j_,m.delay=W_,m.difference=fp,m.differenceBy=hp,m.differenceWith=dp,m.drop=gp,m.dropRight=pp,m.dropRightWhile=_p,m.dropWhile=mp,m.fill=vp,m.filter=w_,m.flatMap=T_,m.flatMapDeep=x_,m.flatMapDepth=A_,m.flatten=xu,m.flattenDeep=yp,m.flattenDepth=wp,m.flip=H_,m.flow=Um,m.flowRight=Fm,m.fromPairs=bp,m.functions=F0,m.functionsIn=z0,m.groupBy=k_,m.initial=Tp,m.intersection=xp,m.intersectionBy=Ap,m.intersectionWith=kp,m.invert=W0,m.invertBy=H0,m.invokeMap=S_,m.iteratee=Co,m.keyBy=O_,m.keys=ot,m.keysIn=xt,m.map=Wi,m.mapKeys=q0,m.mapValues=V0,m.matches=zm,m.matchesProperty=jm,m.memoize=Gi,m.merge=J0,m.mergeWith=qu,m.method=Wm,m.methodOf=Hm,m.mixin=Po,m.negate=qi,m.nthArg=qm,m.omit=K0,m.omitBy=Y0,m.once=G_,m.orderBy=R_,m.over=Vm,m.overArgs=q_,m.overEvery=Jm,m.overSome=Km,m.partial=ko,m.partialRight=Nu,m.partition=M_,m.pick=Z0,m.pickBy=Vu,m.property=ec,m.propertyOf=Ym,m.pull=Rp,m.pullAll=ku,m.pullAllBy=Mp,m.pullAllWith=Lp,m.pullAt=Cp,m.range=Zm,m.rangeRight=Xm,m.rearg=V_,m.reject=P_,m.remove=Pp,m.rest=J_,m.reverse=To,m.sampleSize=D_,m.set=Q0,m.setWith=em,m.shuffle=N_,m.slice=$p,m.sortBy=F_,m.sortedUniq=jp,m.sortedUniqBy=Wp,m.split=Tm,m.spread=K_,m.tail=Hp,m.take=Gp,m.takeRight=qp,m.takeRightWhile=Vp,m.takeWhile=Jp,m.tap=u_,m.throttle=Y_,m.thru=ji,m.toArray=ju,m.toPairs=Ju,m.toPairsIn=Ku,m.toPath=rv,m.toPlainObject=Hu,m.transform=tm,m.unary=Z_,m.union=Kp,m.unionBy=Yp,m.unionWith=Zp,m.uniq=Xp,m.uniqBy=Qp,m.uniqWith=e_,m.unset=nm,m.unzip=xo,m.unzipWith=Iu,m.update=rm,m.updateWith=im,m.values=dr,m.valuesIn=sm,m.without=t_,m.words=Xu,m.wrap=X_,m.xor=n_,m.xorBy=r_,m.xorWith=i_,m.zip=s_,m.zipObject=o_,m.zipObjectDeep=l_,m.zipWith=a_,m.entries=Ju,m.entriesIn=Ku,m.extend=Gu,m.extendWith=Ki,Po(m,m),m.add=sv,m.attempt=Qu,m.camelCase=um,m.capitalize=Yu,m.ceil=ov,m.clamp=om,m.clone=e0,m.cloneDeep=n0,m.cloneDeepWith=r0,m.cloneWith=t0,m.conformsTo=i0,m.deburr=Zu,m.defaultTo=Bm,m.divide=lv,m.endsWith=cm,m.eq=Zt,m.escape=fm,m.escapeRegExp=hm,m.every=y_,m.find=b_,m.findIndex=Eu,m.findKey=P0,m.findLast=E_,m.findLastIndex=Tu,m.findLastKey=$0,m.floor=av,m.forEach=Ou,m.forEachRight=Ru,m.forIn=D0,m.forInRight=N0,m.forOwn=B0,m.forOwnRight=U0,m.get=Oo,m.gt=s0,m.gte=o0,m.has=j0,m.hasIn=Ro,m.head=Au,m.identity=At,m.includes=I_,m.indexOf=Ep,m.inRange=lm,m.invoke=G0,m.isArguments=Hn,m.isArray=ve,m.isArrayBuffer=l0,m.isArrayLike=Tt,m.isArrayLikeObject=Xe,m.isBoolean=a0,m.isBuffer=Mn,m.isDate=u0,m.isElement=c0,m.isEmpty=f0,m.isEqual=h0,m.isEqualWith=d0,m.isError=Io,m.isFinite=g0,m.isFunction=yn,m.isInteger=Bu,m.isLength=Vi,m.isMap=Uu,m.isMatch=p0,m.isMatchWith=_0,m.isNaN=m0,m.isNative=v0,m.isNil=w0,m.isNull=y0,m.isNumber=Fu,m.isObject=qe,m.isObjectLike=Ze,m.isPlainObject=Jr,m.isRegExp=So,m.isSafeInteger=b0,m.isSet=zu,m.isString=Ji,m.isSymbol=Mt,m.isTypedArray=hr,m.isUndefined=E0,m.isWeakMap=T0,m.isWeakSet=x0,m.join=Ip,m.kebabCase=dm,m.last=Wt,m.lastIndexOf=Sp,m.lowerCase=gm,m.lowerFirst=pm,m.lt=A0,m.lte=k0,m.max=uv,m.maxBy=cv,m.mean=fv,m.meanBy=hv,m.min=dv,m.minBy=gv,m.stubArray=Do,m.stubFalse=No,m.stubObject=Qm,m.stubString=ev,m.stubTrue=tv,m.multiply=pv,m.nth=Op,m.noConflict=Gm,m.noop=$o,m.now=Hi,m.pad=_m,m.padEnd=mm,m.padStart=vm,m.parseInt=ym,m.random=am,m.reduce=L_,m.reduceRight=C_,m.repeat=wm,m.replace=bm,m.result=X0,m.round=_v,m.runInContext=D,m.sample=$_,m.size=B_,m.snakeCase=Em,m.some=U_,m.sortedIndex=Dp,m.sortedIndexBy=Np,m.sortedIndexOf=Bp,m.sortedLastIndex=Up,m.sortedLastIndexBy=Fp,m.sortedLastIndexOf=zp,m.startCase=xm,m.startsWith=Am,m.subtract=mv,m.sum=vv,m.sumBy=yv,m.template=km,m.times=nv,m.toFinite=wn,m.toInteger=be,m.toLength=Wu,m.toLower=Im,m.toNumber=Ht,m.toSafeInteger=I0,m.toString=$e,m.toUpper=Sm,m.trim=Om,m.trimEnd=Rm,m.trimStart=Mm,m.truncate=Lm,m.unescape=Cm,m.uniqueId=iv,m.upperCase=Pm,m.upperFirst=Mo,m.each=Ou,m.eachRight=Ru,m.first=Au,Po(m,function(){var e={};return nn(m,function(r,l){De.call(m.prototype,l)||(e[l]=r)}),e}(),{chain:!1}),m.VERSION=s,Bt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){m[e].placeholder=m}),Bt(["drop","take"],function(e,r){Ie.prototype[e]=function(l){l=l===n?1:rt(be(l),0);var f=this.__filtered__&&!r?new Ie(this):this.clone();return f.__filtered__?f.__takeCount__=ft(l,f.__takeCount__):f.__views__.push({size:ft(l,_e),type:e+(f.__dir__<0?"Right":"")}),f},Ie.prototype[e+"Right"]=function(l){return this.reverse()[e](l).reverse()}}),Bt(["filter","map","takeWhile"],function(e,r){var l=r+1,f=l==w||l==U;Ie.prototype[e]=function(_){var b=this.clone();return b.__iteratees__.push({iteratee:he(_,3),type:l}),b.__filtered__=b.__filtered__||f,b}}),Bt(["head","last"],function(e,r){var l="take"+(r?"Right":"");Ie.prototype[e]=function(){return this[l](1).value()[0]}}),Bt(["initial","tail"],function(e,r){var l="drop"+(r?"":"Right");Ie.prototype[e]=function(){return this.__filtered__?new Ie(this):this[l](1)}}),Ie.prototype.compact=function(){return this.filter(At)},Ie.prototype.find=function(e){return this.filter(e).head()},Ie.prototype.findLast=function(e){return this.reverse().find(e)},Ie.prototype.invokeMap=Te(function(e,r){return typeof e=="function"?new Ie(this):this.map(function(l){return jr(l,e,r)})}),Ie.prototype.reject=function(e){return this.filter(qi(he(e)))},Ie.prototype.slice=function(e,r){e=be(e);var l=this;return l.__filtered__&&(e>0||r<0)?new Ie(l):(e<0?l=l.takeRight(-e):e&&(l=l.drop(e)),r!==n&&(r=be(r),l=r<0?l.dropRight(-r):l.take(r-e)),l)},Ie.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ie.prototype.toArray=function(){return this.take(_e)},nn(Ie.prototype,function(e,r){var l=/^(?:filter|find|map|reject)|While$/.test(r),f=/^(?:head|last)$/.test(r),_=m[f?"take"+(r=="last"?"Right":""):r],b=f||/^find/.test(r);!_||(m.prototype[r]=function(){var O=this.__wrapped__,L=f?[1]:arguments,B=O instanceof Ie,J=L[0],Y=B||ve(O),X=function(ke){var Se=_.apply(m,xn([ke],L));return f&&ne?Se[0]:Se};Y&&l&&typeof J=="function"&&J.length!=1&&(B=Y=!1);var ne=this.__chain__,ae=!!this.__actions__.length,de=b&&!ne,Ee=B&&!ae;if(!b&&Y){O=Ee?O:new Ie(this);var ge=e.apply(O,L);return ge.__actions__.push({func:ji,args:[X],thisArg:n}),new Ft(ge,ne)}return de&&Ee?e.apply(this,L):(ge=this.thru(X),de?f?ge.value()[0]:ge.value():ge)})}),Bt(["pop","push","shift","sort","splice","unshift"],function(e){var r=gi[e],l=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",f=/^(?:pop|shift)$/.test(e);m.prototype[e]=function(){var _=arguments;if(f&&!this.__chain__){var b=this.value();return r.apply(ve(b)?b:[],_)}return this[l](function(O){return r.apply(ve(O)?O:[],_)})}}),nn(Ie.prototype,function(e,r){var l=m[r];if(l){var f=l.name+"";De.call(lr,f)||(lr[f]=[]),lr[f].push({name:r,func:l})}}),lr[$i(n,E).name]=[{name:"wrapper",func:n}],Ie.prototype.clone=Cd,Ie.prototype.reverse=Pd,Ie.prototype.value=$d,m.prototype.at=c_,m.prototype.chain=f_,m.prototype.commit=h_,m.prototype.next=d_,m.prototype.plant=p_,m.prototype.reverse=__,m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=m_,m.prototype.first=m.prototype.head,$r&&(m.prototype[$r]=g_),m},ir=hd();Dn?((Dn.exports=ir)._=ir,Ls._=ir):ut._=ir}).call(ln)})(tl,tl.exports);const un=tl.exports,Uw=120,cs=i=>{let t;i.substring(0,1)==="#"?t=Fw(i):i.substring(0,3)==="rgb"&&(t=i);const n=t.substring(4,t.length-1).replace(/ /g,"").split(",");return parseInt(n[0])*.299+parseInt(n[1])*.587+parseInt(n[2])*.114>Uw?"black":"white"},Fw=i=>{let t=0,n=0,s=0;return i.length==4?(t="0x"+i[1]+i[1],n="0x"+i[2]+i[2],s="0x"+i[3]+i[3]):i.length==7&&(t="0x"+i[1]+i[2],n="0x"+i[3]+i[4],s="0x"+i[5]+i[6]),"rgb("+ +t+","+ +n+","+ +s+")"};const zw={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},jw={black:"#000000",white:"#ffffff","gray-50":"rgb(247, 247, 247)","gray-100":"rgb(239, 239, 239)","gray-200":"rgb(223, 223, 223)","gray-300":"rgb(202, 202, 202)","gray-400":"rgb(168, 168, 168)","gray-500":"rgb(135, 135, 135)","gray-600":"rgb(109, 109, 109)","gray-700":"rgb(78, 78, 78)","gray-800":"rgb(55, 55, 55)","gray-900":"rgb(38, 38, 38)","gray-1000":"rgb(25, 25, 25)",purple:"#a239ca",blue:"#4717f6",green:"#34a29e",red:"#ff533d",yellow:"#e5e338","grey-balloon":"#d8d8d8"},Zn={category:zw,color:jw,"":{"12px":"0.75rem","14px":"0.875rem","16px":"1rem","18px":"1.125rem","20px":"1.25rem","22px":"1.375rem","24px":"1.5rem","28px":"1.75rem","32px":"2rem","36px":"2.25rem","40px":"2.5rem","44px":"2.75rem","48px":"3rem","56px":"3.5rem","64px":"4rem","80px":"5rem","96px":"6rem","112px":"7rem","128px":"8rem"}};function Ww(i){let t;for(;t=i.sourceEvent;)i=t;return i}function Gn(i,t){if(i=Ww(i),t===void 0&&(t=i.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=i.clientX,s.y=i.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[i.clientX-o.left-t.clientLeft,i.clientY-o.top-t.clientTop]}}return[i.pageX,i.pageY]}const nl={capture:!0,passive:!1};function rl(i){i.preventDefault(),i.stopImmediatePropagation()}function Hw(i){var t=i.document.documentElement,n=lt(i).on("dragstart.drag",rl,nl);"onselectstart"in t?n.on("selectstart.drag",rl,nl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Gw(i,t){var n=i.document.documentElement,s=lt(i).on("dragstart.drag",null);t&&(s.on("click.drag",rl,nl),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function qw(i,t){var n,s=1;i==null&&(i=0),t==null&&(t=0);function o(){var a,u=n.length,c,d=0,h=0;for(a=0;a<u;++a)c=n[a],d+=c.x,h+=c.y;for(d=(d/u-i)*s,h=(h/u-t)*s,a=0;a<u;++a)c=n[a],c.x-=d,c.y-=h}return o.initialize=function(a){n=a},o.x=function(a){return arguments.length?(i=+a,o):i},o.y=function(a){return arguments.length?(t=+a,o):t},o.strength=function(a){return arguments.length?(s=+a,o):s},o}function Vw(i){const t=+this._x.call(null,i),n=+this._y.call(null,i);return Sf(this.cover(t,n),t,n,i)}function Sf(i,t,n,s){if(isNaN(t)||isNaN(n))return i;var o,a=i._root,u={data:s},c=i._x0,d=i._y0,h=i._x1,g=i._y1,p,v,y,k,A,x,E,T;if(!a)return i._root=u,i;for(;a.length;)if((A=t>=(p=(c+h)/2))?c=p:h=p,(x=n>=(v=(d+g)/2))?d=v:g=v,o=a,!(a=a[E=x<<1|A]))return o[E]=u,i;if(y=+i._x.call(null,a.data),k=+i._y.call(null,a.data),t===y&&n===k)return u.next=a,o?o[E]=u:i._root=u,i;do o=o?o[E]=new Array(4):i._root=new Array(4),(A=t>=(p=(c+h)/2))?c=p:h=p,(x=n>=(v=(d+g)/2))?d=v:g=v;while((E=x<<1|A)===(T=(k>=v)<<1|y>=p));return o[T]=a,o[E]=u,i}function Jw(i){var t,n,s=i.length,o,a,u=new Array(s),c=new Array(s),d=1/0,h=1/0,g=-1/0,p=-1/0;for(n=0;n<s;++n)isNaN(o=+this._x.call(null,t=i[n]))||isNaN(a=+this._y.call(null,t))||(u[n]=o,c[n]=a,o<d&&(d=o),o>g&&(g=o),a<h&&(h=a),a>p&&(p=a));if(d>g||h>p)return this;for(this.cover(d,h).cover(g,p),n=0;n<s;++n)Sf(this,u[n],c[n],i[n]);return this}function Kw(i,t){if(isNaN(i=+i)||isNaN(t=+t))return this;var n=this._x0,s=this._y0,o=this._x1,a=this._y1;if(isNaN(n))o=(n=Math.floor(i))+1,a=(s=Math.floor(t))+1;else{for(var u=o-n||1,c=this._root,d,h;n>i||i>=o||s>t||t>=a;)switch(h=(t<s)<<1|i<n,d=new Array(4),d[h]=c,c=d,u*=2,h){case 0:o=n+u,a=s+u;break;case 1:n=o-u,a=s+u;break;case 2:o=n+u,s=a-u;break;case 3:n=o-u,s=a-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=s,this._x1=o,this._y1=a,this}function Yw(){var i=[];return this.visit(function(t){if(!t.length)do i.push(t.data);while(t=t.next)}),i}function Zw(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function vt(i,t,n,s,o){this.node=i,this.x0=t,this.y0=n,this.x1=s,this.y1=o}function Xw(i,t,n){var s,o=this._x0,a=this._y0,u,c,d,h,g=this._x1,p=this._y1,v=[],y=this._root,k,A;for(y&&v.push(new vt(y,o,a,g,p)),n==null?n=1/0:(o=i-n,a=t-n,g=i+n,p=t+n,n*=n);k=v.pop();)if(!(!(y=k.node)||(u=k.x0)>g||(c=k.y0)>p||(d=k.x1)<o||(h=k.y1)<a))if(y.length){var x=(u+d)/2,E=(c+h)/2;v.push(new vt(y[3],x,E,d,h),new vt(y[2],u,E,x,h),new vt(y[1],x,c,d,E),new vt(y[0],u,c,x,E)),(A=(t>=E)<<1|i>=x)&&(k=v[v.length-1],v[v.length-1]=v[v.length-1-A],v[v.length-1-A]=k)}else{var T=i-+this._x.call(null,y.data),P=t-+this._y.call(null,y.data),I=T*T+P*P;if(I<n){var F=Math.sqrt(n=I);o=i-F,a=t-F,g=i+F,p=t+F,s=y.data}}return s}function Qw(i){if(isNaN(g=+this._x.call(null,i))||isNaN(p=+this._y.call(null,i)))return this;var t,n=this._root,s,o,a,u=this._x0,c=this._y0,d=this._x1,h=this._y1,g,p,v,y,k,A,x,E;if(!n)return this;if(n.length)for(;;){if((k=g>=(v=(u+d)/2))?u=v:d=v,(A=p>=(y=(c+h)/2))?c=y:h=y,t=n,!(n=n[x=A<<1|k]))return this;if(!n.length)break;(t[x+1&3]||t[x+2&3]||t[x+3&3])&&(s=t,E=x)}for(;n.data!==i;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):t?(a?t[x]=a:delete t[x],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(s?s[E]=n:this._root=n),this):(this._root=a,this)}function eb(i){for(var t=0,n=i.length;t<n;++t)this.remove(i[t]);return this}function tb(){return this._root}function nb(){var i=0;return this.visit(function(t){if(!t.length)do++i;while(t=t.next)}),i}function rb(i){var t=[],n,s=this._root,o,a,u,c,d;for(s&&t.push(new vt(s,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!i(s=n.node,a=n.x0,u=n.y0,c=n.x1,d=n.y1)&&s.length){var h=(a+c)/2,g=(u+d)/2;(o=s[3])&&t.push(new vt(o,h,g,c,d)),(o=s[2])&&t.push(new vt(o,a,g,h,d)),(o=s[1])&&t.push(new vt(o,h,u,c,g)),(o=s[0])&&t.push(new vt(o,a,u,h,g))}return this}function ib(i){var t=[],n=[],s;for(this._root&&t.push(new vt(this._root,this._x0,this._y0,this._x1,this._y1));s=t.pop();){var o=s.node;if(o.length){var a,u=s.x0,c=s.y0,d=s.x1,h=s.y1,g=(u+d)/2,p=(c+h)/2;(a=o[0])&&t.push(new vt(a,u,c,g,p)),(a=o[1])&&t.push(new vt(a,g,c,d,p)),(a=o[2])&&t.push(new vt(a,u,p,g,h)),(a=o[3])&&t.push(new vt(a,g,p,d,h))}n.push(s)}for(;s=n.pop();)i(s.node,s.x0,s.y0,s.x1,s.y1);return this}function sb(i){return i[0]}function ob(i){return arguments.length?(this._x=i,this):this._x}function lb(i){return i[1]}function ab(i){return arguments.length?(this._y=i,this):this._y}function bl(i,t,n){var s=new El(t==null?sb:t,n==null?lb:n,NaN,NaN,NaN,NaN);return i==null?s:s.addAll(i)}function El(i,t,n,s,o,a){this._x=i,this._y=t,this._x0=n,this._y0=s,this._x1=o,this._y1=a,this._root=void 0}function Mc(i){for(var t={data:i.data},n=t;i=i.next;)n=n.next={data:i.data};return t}var wt=bl.prototype=El.prototype;wt.copy=function(){var i=new El(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,s;if(!t)return i;if(!t.length)return i._root=Mc(t),i;for(n=[{source:t,target:i._root=new Array(4)}];t=n.pop();)for(var o=0;o<4;++o)(s=t.source[o])&&(s.length?n.push({source:s,target:t.target[o]=new Array(4)}):t.target[o]=Mc(s));return i};wt.add=Vw;wt.addAll=Jw;wt.cover=Kw;wt.data=Yw;wt.extent=Zw;wt.find=Xw;wt.remove=Qw;wt.removeAll=eb;wt.root=tb;wt.size=nb;wt.visit=rb;wt.visitAfter=ib;wt.x=ob;wt.y=ab;function en(i){return function(){return i}}function Pn(i){return(i()-.5)*1e-6}function ub(i){return i.x+i.vx}function cb(i){return i.y+i.vy}function Of(i){var t,n,s,o=1,a=1;typeof i!="function"&&(i=en(i==null?1:+i));function u(){for(var h,g=t.length,p,v,y,k,A,x,E=0;E<a;++E)for(p=bl(t,ub,cb).visitAfter(c),h=0;h<g;++h)v=t[h],A=n[v.index],x=A*A,y=v.x+v.vx,k=v.y+v.vy,p.visit(T);function T(P,I,F,R,z){var M=P.data,W=P.r,V=A+W;if(M){if(M.index>v.index){var Z=y-M.x-M.vx,ue=k-M.y-M.vy,ie=Z*Z+ue*ue;ie<V*V&&(Z===0&&(Z=Pn(s),ie+=Z*Z),ue===0&&(ue=Pn(s),ie+=ue*ue),ie=(V-(ie=Math.sqrt(ie)))/ie*o,v.vx+=(Z*=ie)*(V=(W*=W)/(x+W)),v.vy+=(ue*=ie)*V,M.vx-=Z*(V=1-V),M.vy-=ue*V)}return}return I>y+V||R<y-V||F>k+V||z<k-V}}function c(h){if(h.data)return h.r=n[h.data.index];for(var g=h.r=0;g<4;++g)h[g]&&h[g].r>h.r&&(h.r=h[g].r)}function d(){if(!!t){var h,g=t.length,p;for(n=new Array(g),h=0;h<g;++h)p=t[h],n[p.index]=+i(p,h,t)}}return u.initialize=function(h,g){t=h,s=g,d()},u.iterations=function(h){return arguments.length?(a=+h,u):a},u.strength=function(h){return arguments.length?(o=+h,u):o},u.radius=function(h){return arguments.length?(i=typeof h=="function"?h:en(+h),d(),u):i},u}function fb(i){return i.index}function Lc(i,t){var n=i.get(t);if(!n)throw new Error("node not found: "+t);return n}function Rf(i){var t=fb,n=p,s,o=en(30),a,u,c,d,h,g=1;i==null&&(i=[]);function p(x){return 1/Math.min(c[x.source.index],c[x.target.index])}function v(x){for(var E=0,T=i.length;E<g;++E)for(var P=0,I,F,R,z,M,W,V;P<T;++P)I=i[P],F=I.source,R=I.target,z=R.x+R.vx-F.x-F.vx||Pn(h),M=R.y+R.vy-F.y-F.vy||Pn(h),W=Math.sqrt(z*z+M*M),W=(W-a[P])/W*x*s[P],z*=W,M*=W,R.vx-=z*(V=d[P]),R.vy-=M*V,F.vx+=z*(V=1-V),F.vy+=M*V}function y(){if(!!u){var x,E=u.length,T=i.length,P=new Map(u.map((F,R)=>[t(F,R,u),F])),I;for(x=0,c=new Array(E);x<T;++x)I=i[x],I.index=x,typeof I.source!="object"&&(I.source=Lc(P,I.source)),typeof I.target!="object"&&(I.target=Lc(P,I.target)),c[I.source.index]=(c[I.source.index]||0)+1,c[I.target.index]=(c[I.target.index]||0)+1;for(x=0,d=new Array(T);x<T;++x)I=i[x],d[x]=c[I.source.index]/(c[I.source.index]+c[I.target.index]);s=new Array(T),k(),a=new Array(T),A()}}function k(){if(!!u)for(var x=0,E=i.length;x<E;++x)s[x]=+n(i[x],x,i)}function A(){if(!!u)for(var x=0,E=i.length;x<E;++x)a[x]=+o(i[x],x,i)}return v.initialize=function(x,E){u=x,h=E,y()},v.links=function(x){return arguments.length?(i=x,y(),v):i},v.id=function(x){return arguments.length?(t=x,v):t},v.iterations=function(x){return arguments.length?(g=+x,v):g},v.strength=function(x){return arguments.length?(n=typeof x=="function"?x:en(+x),k(),v):n},v.distance=function(x){return arguments.length?(o=typeof x=="function"?x:en(+x),A(),v):o},v}const hb=1664525,db=1013904223,Cc=4294967296;function gb(){let i=1;return()=>(i=(hb*i+db)%Cc)/Cc}function pb(i){return i.x}function _b(i){return i.y}var mb=10,vb=Math.PI*(3-Math.sqrt(5));function Mf(i){var t,n=1,s=.001,o=1-Math.pow(s,1/300),a=0,u=.6,c=new Map,d=Cv(p),h=ff("tick","end"),g=gb();i==null&&(i=[]);function p(){v(),h.call("tick",t),n<s&&(d.stop(),h.call("end",t))}function v(A){var x,E=i.length,T;A===void 0&&(A=1);for(var P=0;P<A;++P)for(n+=(a-n)*o,c.forEach(function(I){I(n)}),x=0;x<E;++x)T=i[x],T.fx==null?T.x+=T.vx*=u:(T.x=T.fx,T.vx=0),T.fy==null?T.y+=T.vy*=u:(T.y=T.fy,T.vy=0);return t}function y(){for(var A=0,x=i.length,E;A<x;++A){if(E=i[A],E.index=A,E.fx!=null&&(E.x=E.fx),E.fy!=null&&(E.y=E.fy),isNaN(E.x)||isNaN(E.y)){var T=mb*Math.sqrt(.5+A),P=A*vb;E.x=T*Math.cos(P),E.y=T*Math.sin(P)}(isNaN(E.vx)||isNaN(E.vy))&&(E.vx=E.vy=0)}}function k(A){return A.initialize&&A.initialize(i,g),A}return y(),t={tick:v,restart:function(){return d.restart(p),t},stop:function(){return d.stop(),t},nodes:function(A){return arguments.length?(i=A,y(),c.forEach(k),t):i},alpha:function(A){return arguments.length?(n=+A,t):n},alphaMin:function(A){return arguments.length?(s=+A,t):s},alphaDecay:function(A){return arguments.length?(o=+A,t):+o},alphaTarget:function(A){return arguments.length?(a=+A,t):a},velocityDecay:function(A){return arguments.length?(u=1-A,t):1-u},randomSource:function(A){return arguments.length?(g=A,c.forEach(k),t):g},force:function(A,x){return arguments.length>1?(x==null?c.delete(A):c.set(A,k(x)),t):c.get(A)},find:function(A,x,E){var T=0,P=i.length,I,F,R,z,M;for(E==null?E=1/0:E*=E,T=0;T<P;++T)z=i[T],I=A-z.x,F=x-z.y,R=I*I+F*F,R<E&&(M=z,E=R);return M},on:function(A,x){return arguments.length>1?(h.on(A,x),t):h.on(A)}}}function Lf(){var i,t,n,s,o=en(-30),a,u=1,c=1/0,d=.81;function h(y){var k,A=i.length,x=bl(i,pb,_b).visitAfter(p);for(s=y,k=0;k<A;++k)t=i[k],x.visit(v)}function g(){if(!!i){var y,k=i.length,A;for(a=new Array(k),y=0;y<k;++y)A=i[y],a[A.index]=+o(A,y,i)}}function p(y){var k=0,A,x,E=0,T,P,I;if(y.length){for(T=P=I=0;I<4;++I)(A=y[I])&&(x=Math.abs(A.value))&&(k+=A.value,E+=x,T+=x*A.x,P+=x*A.y);y.x=T/E,y.y=P/E}else{A=y,A.x=A.data.x,A.y=A.data.y;do k+=a[A.data.index];while(A=A.next)}y.value=k}function v(y,k,A,x){if(!y.value)return!0;var E=y.x-t.x,T=y.y-t.y,P=x-k,I=E*E+T*T;if(P*P/d<I)return I<c&&(E===0&&(E=Pn(n),I+=E*E),T===0&&(T=Pn(n),I+=T*T),I<u&&(I=Math.sqrt(u*I)),t.vx+=E*y.value*s/I,t.vy+=T*y.value*s/I),!0;if(y.length||I>=c)return;(y.data!==t||y.next)&&(E===0&&(E=Pn(n),I+=E*E),T===0&&(T=Pn(n),I+=T*T),I<u&&(I=Math.sqrt(u*I)));do y.data!==t&&(P=a[y.data.index]*s/I,t.vx+=E*P,t.vy+=T*P);while(y=y.next)}return h.initialize=function(y,k){i=y,n=k,g()},h.strength=function(y){return arguments.length?(o=typeof y=="function"?y:en(+y),g(),h):o},h.distanceMin=function(y){return arguments.length?(u=y*y,h):Math.sqrt(u)},h.distanceMax=function(y){return arguments.length?(c=y*y,h):Math.sqrt(c)},h.theta=function(y){return arguments.length?(d=y*y,h):Math.sqrt(d)},h}function Cf(i){var t=en(.1),n,s,o;typeof i!="function"&&(i=en(i==null?0:+i));function a(c){for(var d=0,h=n.length,g;d<h;++d)g=n[d],g.vy+=(o[d]-g.y)*s[d]*c}function u(){if(!!n){var c,d=n.length;for(s=new Array(d),o=new Array(d),c=0;c<d;++c)s[c]=isNaN(o[c]=+i(n[c],c,n))?0:+t(n[c],c,n)}}return a.initialize=function(c){n=c,u()},a.strength=function(c){return arguments.length?(t=typeof c=="function"?c:en(+c),u(),a):t},a.y=function(c){return arguments.length?(i=typeof c=="function"?c:en(+c),u(),a):i},a}const es=i=>()=>i;function yb(i,{sourceEvent:t,target:n,transform:s,dispatch:o}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:o}})}function Ho(i){i.stopImmediatePropagation()}function Kr(i){i.preventDefault(),i.stopImmediatePropagation()}function wb(i){return(!i.ctrlKey||i.type==="wheel")&&!i.button}function bb(){var i=this;return i instanceof SVGElement?(i=i.ownerSVGElement||i,i.hasAttribute("viewBox")?(i=i.viewBox.baseVal,[[i.x,i.y],[i.x+i.width,i.y+i.height]]):[[0,0],[i.width.baseVal.value,i.height.baseVal.value]]):[[0,0],[i.clientWidth,i.clientHeight]]}function Pc(){return this.__zoom||ul}function Eb(i){return-i.deltaY*(i.deltaMode===1?.05:i.deltaMode?1:.002)*(i.ctrlKey?10:1)}function Tb(){return navigator.maxTouchPoints||"ontouchstart"in this}function xb(i,t,n){var s=i.invertX(t[0][0])-n[0][0],o=i.invertX(t[1][0])-n[1][0],a=i.invertY(t[0][1])-n[0][1],u=i.invertY(t[1][1])-n[1][1];return i.translate(o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function Ab(){var i=wb,t=bb,n=xb,s=Eb,o=Tb,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,d=g1,h=ff("start","zoom","end"),g,p,v,y=500,k=150,A=0,x=10;function E(w){w.property("__zoom",Pc).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",V).filter(o).on("touchstart.zoom",Z).on("touchmove.zoom",ue).on("touchend.zoom touchcancel.zoom",ie).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}E.transform=function(w,$,U,Q){var te=w.selection?w.selection():w;te.property("__zoom",Pc),w!==te?F(w,$,U,Q):te.interrupt().each(function(){R(this,arguments).event(Q).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},E.scaleBy=function(w,$,U,Q){E.scaleTo(w,function(){var te=this.__zoom.k,ee=typeof $=="function"?$.apply(this,arguments):$;return te*ee},U,Q)},E.scaleTo=function(w,$,U,Q){E.transform(w,function(){var te=t.apply(this,arguments),ee=this.__zoom,pe=U==null?I(te):typeof U=="function"?U.apply(this,arguments):U,_e=ee.invert(pe),Ce=typeof $=="function"?$.apply(this,arguments):$;return n(P(T(ee,Ce),pe,_e),te,u)},U,Q)},E.translateBy=function(w,$,U,Q){E.transform(w,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof U=="function"?U.apply(this,arguments):U),t.apply(this,arguments),u)},null,Q)},E.translateTo=function(w,$,U,Q,te){E.transform(w,function(){var ee=t.apply(this,arguments),pe=this.__zoom,_e=Q==null?I(ee):typeof Q=="function"?Q.apply(this,arguments):Q;return n(ul.translate(_e[0],_e[1]).scale(pe.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof U=="function"?-U.apply(this,arguments):-U),ee,u)},Q,te)};function T(w,$){return $=Math.max(a[0],Math.min(a[1],$)),$===w.k?w:new Bo($,w.x,w.y)}function P(w,$,U){var Q=$[0]-U[0]*w.k,te=$[1]-U[1]*w.k;return Q===w.x&&te===w.y?w:new Bo(w.k,Q,te)}function I(w){return[(+w[0][0]+ +w[1][0])/2,(+w[0][1]+ +w[1][1])/2]}function F(w,$,U,Q){w.on("start.zoom",function(){R(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){R(this,arguments).event(Q).end()}).tween("zoom",function(){var te=this,ee=arguments,pe=R(te,ee).event(Q),_e=t.apply(te,ee),Ce=U==null?I(_e):typeof U=="function"?U.apply(te,ee):U,at=Math.max(_e[1][0]-_e[0][0],_e[1][1]-_e[0][1]),Ye=te.__zoom,st=typeof $=="function"?$.apply(te,ee):$,bt=d(Ye.invert(Ce).concat(at/Ye.k),st.invert(Ce).concat(at/st.k));return function(It){if(It===1)It=st;else{var gt=bt(It),fn=at/gt[2];It=new Bo(fn,Ce[0]-gt[0]*fn,Ce[1]-gt[1]*fn)}pe.zoom(null,It)}})}function R(w,$,U){return!U&&w.__zooming||new z(w,$)}function z(w,$){this.that=w,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(w,$),this.taps=0}z.prototype={event:function(w){return w&&(this.sourceEvent=w),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(w,$){return this.mouse&&w!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&w!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&w!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(w){var $=lt(this.that).datum();h.call(w,this.that,new yb(w,{sourceEvent:this.sourceEvent,target:E,type:w,transform:this.that.__zoom,dispatch:h}),$)}};function M(w,...$){if(!i.apply(this,arguments))return;var U=R(this,$).event(w),Q=this.__zoom,te=Math.max(a[0],Math.min(a[1],Q.k*Math.pow(2,s.apply(this,arguments)))),ee=Gn(w);if(U.wheel)(U.mouse[0][0]!==ee[0]||U.mouse[0][1]!==ee[1])&&(U.mouse[1]=Q.invert(U.mouse[0]=ee)),clearTimeout(U.wheel);else{if(Q.k===te)return;U.mouse=[ee,Q.invert(ee)],Uo(this),U.start()}Kr(w),U.wheel=setTimeout(pe,k),U.zoom("mouse",n(P(T(Q,te),U.mouse[0],U.mouse[1]),U.extent,u));function pe(){U.wheel=null,U.end()}}function W(w,...$){if(v||!i.apply(this,arguments))return;var U=w.currentTarget,Q=R(this,$,!0).event(w),te=lt(w.view).on("mousemove.zoom",Ce,!0).on("mouseup.zoom",at,!0),ee=Gn(w,U),pe=w.clientX,_e=w.clientY;Hw(w.view),Ho(w),Q.mouse=[ee,this.__zoom.invert(ee)],Uo(this),Q.start();function Ce(Ye){if(Kr(Ye),!Q.moved){var st=Ye.clientX-pe,bt=Ye.clientY-_e;Q.moved=st*st+bt*bt>A}Q.event(Ye).zoom("mouse",n(P(Q.that.__zoom,Q.mouse[0]=Gn(Ye,U),Q.mouse[1]),Q.extent,u))}function at(Ye){te.on("mousemove.zoom mouseup.zoom",null),Gw(Ye.view,Q.moved),Kr(Ye),Q.event(Ye).end()}}function V(w,...$){if(!!i.apply(this,arguments)){var U=this.__zoom,Q=Gn(w.changedTouches?w.changedTouches[0]:w,this),te=U.invert(Q),ee=U.k*(w.shiftKey?.5:2),pe=n(P(T(U,ee),Q,te),t.apply(this,$),u);Kr(w),c>0?lt(this).transition().duration(c).call(F,pe,Q,w):lt(this).call(E.transform,pe,Q,w)}}function Z(w,...$){if(!!i.apply(this,arguments)){var U=w.touches,Q=U.length,te=R(this,$,w.changedTouches.length===Q).event(w),ee,pe,_e,Ce;for(Ho(w),pe=0;pe<Q;++pe)_e=U[pe],Ce=Gn(_e,this),Ce=[Ce,this.__zoom.invert(Ce),_e.identifier],te.touch0?!te.touch1&&te.touch0[2]!==Ce[2]&&(te.touch1=Ce,te.taps=0):(te.touch0=Ce,ee=!0,te.taps=1+!!g);g&&(g=clearTimeout(g)),ee&&(te.taps<2&&(p=Ce[0],g=setTimeout(function(){g=null},y)),Uo(this),te.start())}}function ue(w,...$){if(!!this.__zooming){var U=R(this,$).event(w),Q=w.changedTouches,te=Q.length,ee,pe,_e,Ce;for(Kr(w),ee=0;ee<te;++ee)pe=Q[ee],_e=Gn(pe,this),U.touch0&&U.touch0[2]===pe.identifier?U.touch0[0]=_e:U.touch1&&U.touch1[2]===pe.identifier&&(U.touch1[0]=_e);if(pe=U.that.__zoom,U.touch1){var at=U.touch0[0],Ye=U.touch0[1],st=U.touch1[0],bt=U.touch1[1],It=(It=st[0]-at[0])*It+(It=st[1]-at[1])*It,gt=(gt=bt[0]-Ye[0])*gt+(gt=bt[1]-Ye[1])*gt;pe=T(pe,Math.sqrt(It/gt)),_e=[(at[0]+st[0])/2,(at[1]+st[1])/2],Ce=[(Ye[0]+bt[0])/2,(Ye[1]+bt[1])/2]}else if(U.touch0)_e=U.touch0[0],Ce=U.touch0[1];else return;U.zoom("touch",n(P(pe,_e,Ce),U.extent,u))}}function ie(w,...$){if(!!this.__zooming){var U=R(this,$).event(w),Q=w.changedTouches,te=Q.length,ee,pe;for(Ho(w),v&&clearTimeout(v),v=setTimeout(function(){v=null},y),ee=0;ee<te;++ee)pe=Q[ee],U.touch0&&U.touch0[2]===pe.identifier?delete U.touch0:U.touch1&&U.touch1[2]===pe.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(pe=Gn(pe,this),Math.hypot(p[0]-pe[0],p[1]-pe[1])<x)){var _e=lt(this).on("dblclick.zoom");_e&&_e.apply(this,arguments)}}}return E.wheelDelta=function(w){return arguments.length?(s=typeof w=="function"?w:es(+w),E):s},E.filter=function(w){return arguments.length?(i=typeof w=="function"?w:es(!!w),E):i},E.touchable=function(w){return arguments.length?(o=typeof w=="function"?w:es(!!w),E):o},E.extent=function(w){return arguments.length?(t=typeof w=="function"?w:es([[+w[0][0],+w[0][1]],[+w[1][0],+w[1][1]]]),E):t},E.scaleExtent=function(w){return arguments.length?(a[0]=+w[0],a[1]=+w[1],E):[a[0],a[1]]},E.translateExtent=function(w){return arguments.length?(u[0][0]=+w[0][0],u[1][0]=+w[1][0],u[0][1]=+w[0][1],u[1][1]=+w[1][1],E):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},E.constrain=function(w){return arguments.length?(n=w,E):n},E.duration=function(w){return arguments.length?(c=+w,E):c},E.interpolate=function(w){return arguments.length?(d=w,E):d},E.on=function(){var w=h.on.apply(h,arguments);return w===h?E:w},E.clickDistance=function(w){return arguments.length?(A=(w=+w)*w,E):Math.sqrt(A)},E.tapDistance=function(w){return arguments.length?(x=+w,E):x},E}function $c(i,t,n){const s=i.slice();s[16]=t[n],s[19]=n;const o=s[6]&&s[16].id.split("-")[0]!==s[6]?.2:1;return s[17]=o,s}function Dc(i){let t,n,s,o,a=i[16][i[0]]+"",u,c,d,h,g,p;return{c(){t=je("g"),n=je("ellipse"),o=je("text"),u=xe(a),this.h()},l(v){t=We(v,"g",{id:!0,class:!0,opacity:!0});var y=K(t);n=We(y,"ellipse",{rx:!0,ry:!0,fill:!0}),K(n).forEach(C),o=We(y,"text",{class:!0,fill:!0});var k=K(o);u=Ae(k,a),k.forEach(C),y.forEach(C),this.h()},h(){S(n,"rx",Cn),S(n,"ry",Cn*1.2),S(n,"fill",s=i[1]?i[16].color:Zn.color["grey-balloon"]),S(o,"class","label svelte-1ow1g3w"),S(o,"fill",c=i[1]?cs(i[16].color):null),S(t,"id",d=i[16].id),S(t,"class","node svelte-1ow1g3w"),S(t,"opacity",h=i[17])},m(v,y){oe(v,t,y),N(t,n),N(t,o),N(o,u),g||(p=[Fe(t,"mouseenter",i[7]),Fe(t,"mouseleave",i[8])],g=!0)},p(v,y){y&18&&s!==(s=v[1]?v[16].color:Zn.color["grey-balloon"])&&S(n,"fill",s),y&17&&a!==(a=v[16][v[0]]+"")&&cn(u,a),y&18&&c!==(c=v[1]?cs(v[16].color):null)&&S(o,"fill",c),y&16&&d!==(d=v[16].id)&&S(t,"id",d),y&80&&h!==(h=v[17])&&S(t,"opacity",h)},d(v){v&&C(t),g=!1,Ar(p)}}}function kb(i){let t,n,s,o,a,u,c,d,h=i[4],g=[];for(let p=0;p<h.length;p+=1)g[p]=Dc($c(i,h,p));return{c(){t=G("div"),n=je("svg"),s=je("text"),o=xe("Here's how the last 50 people who visited this site felt."),c=je("g");for(let p=0;p<g.length;p+=1)g[p].c();this.h()},l(p){t=q(p,"DIV",{class:!0});var v=K(t);n=We(v,"svg",{class:!0});var y=K(n);s=We(y,"text",{class:!0,x:!0,y:!0});var k=K(s);o=Ae(k,"Here's how the last 50 people who visited this site felt."),k.forEach(C),c=We(y,"g",{class:!0});var A=K(c);for(let x=0;x<g.length;x+=1)g[x].l(A);A.forEach(C),y.forEach(C),v.forEach(C),this.h()},h(){S(s,"class","title svelte-1ow1g3w"),S(s,"x",a=i[2]/2),S(s,"y",u=i[3]/2),S(c,"class","nodes"),S(n,"class","svelte-1ow1g3w"),S(t,"class","viz svelte-1ow1g3w"),xr(()=>i[12].call(t))},m(p,v){oe(p,t,v),N(t,n),N(n,s),N(s,o),N(n,c);for(let y=0;y<g.length;y+=1)g[y].m(c,null);i[11](n),d=ll(t,i[12].bind(t))},p(p,[v]){if(v&4&&a!==(a=p[2]/2)&&S(s,"x",a),v&8&&u!==(u=p[3]/2)&&S(s,"y",u),v&467){h=p[4];let y;for(y=0;y<h.length;y+=1){const k=$c(p,h,y);g[y]?g[y].p(k,v):(g[y]=Dc(k),g[y].c(),g[y].m(c,null))}for(;y<g.length;y+=1)g[y].d(1);g.length=h.length}},i:we,o:we,d(p){p&&C(t),tn(g,p),i[11](null),d()}}}let Cn=15;function Ib(i,t,n){let s,o,{data:a}=t,{wordAccessor:u}=t,{groupBy:c}=t,{withColor:d=!1}=t,h,g=0,p=0;const v=()=>{lt(h).selectAll("g.node").data(s).attr("transform",P=>(P.x=Math.max(Cn*1.2,Math.min(g-Cn*1.2,P.x)),P.y=Math.max(Cn*1.2,Math.min(p-Cn*1.2,P.y)),`translate(${P.x}, ${P.y})`))},y=()=>{Mf(s).force("charge",Lf().strength(-20)).force("center",qw(g/2,p/2)).force("collision",Of().radius(P=>Cn*1.2)).force("y",Cf().y(P=>p/2).strength(-.02)).force("link",Rf().links(o).id(P=>P.id).distance(P=>Cn*1.2)).on("tick",v)};let k;const A=P=>{u!=="basic_word"&&n(6,k=P.target.id.split("-")[0])},x=()=>{u!=="basic_word"&&n(6,k=void 0)};function E(P){yt[P?"unshift":"push"](()=>{h=P,n(5,h)})}function T(){g=this.clientWidth,p=this.clientHeight,n(2,g),n(3,p)}return i.$$set=P=>{"data"in P&&n(9,a=P.data),"wordAccessor"in P&&n(0,u=P.wordAccessor),"groupBy"in P&&n(10,c=P.groupBy),"withColor"in P&&n(1,d=P.withColor)},i.$$.update=()=>{i.$$.dirty&512&&n(4,s=a),i.$$.dirty&1040&&(o=s.reduce((P,I)=>{const z=s.filter(M=>M[c]===I[c]).map(M=>({source:I.id,target:M.id,value:10})).filter(M=>M.source!==M.target&&!P.some(W=>W.source===M.target&&W.target===M.source));return[...P,...z]},[])),i.$$.dirty&12&&g&&p&&y()},[u,d,g,p,s,h,k,A,x,a,c,E,T]}class Tl extends Ve{constructor(t){super(),Je(this,t,Ib,kb,Ke,{data:9,wordAccessor:0,groupBy:10,withColor:1})}}function Nc(i,t,n){const s=i.slice();s[8]=t[n];const o=s[8]===s[1];return s[9]=o,s}function Bc(i){let t,n=i[8]+"",s,o,a;return{c(){t=G("button"),s=xe(n),this.h()},l(u){t=q(u,"BUTTON",{id:!0,class:!0});var c=K(t);s=Ae(c,n),c.forEach(C),this.h()},h(){S(t,"id",i[8]),S(t,"class","svelte-g7dmgb"),Ge(t,"selected",i[9])},m(u,c){oe(u,t,c),N(t,s),o||(a=Fe(t,"click",i[3]),o=!0)},p(u,c){c&6&&Ge(t,"selected",u[9])},d(u){u&&C(t),o=!1,a()}}}function Uc(i){let t,n;return t=new Tl({props:{data:i[0],wordAccessor:"basic_word",groupBy:"basic_word"}}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p(s,o){const a={};o&1&&(a.data=s[0]),t.$set(a)},i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function Sb(i){let t,n,s,o,a,u,c,d=i[2],h=[];for(let p=0;p<d.length;p+=1)h[p]=Bc(Nc(i,d,p));let g=i[0]&&Uc(i);return{c(){t=G("div"),n=G("div"),s=G("p"),o=xe("Hi, how are you doing?"),a=ce();for(let p=0;p<h.length;p+=1)h[p].c();u=ce(),g&&g.c(),this.h()},l(p){t=q(p,"DIV",{class:!0});var v=K(t);n=q(v,"DIV",{class:!0});var y=K(n);s=q(y,"P",{});var k=K(s);o=Ae(k,"Hi, how are you doing?"),k.forEach(C),a=fe(y);for(let A=0;A<h.length;A+=1)h[A].l(y);y.forEach(C),u=fe(v),g&&g.l(v),v.forEach(C),this.h()},h(){S(n,"class","words svelte-g7dmgb"),S(t,"class","container svelte-g7dmgb")},m(p,v){oe(p,t,v),N(t,n),N(n,s),N(s,o),N(n,a);for(let y=0;y<h.length;y+=1)h[y].m(n,null);N(t,u),g&&g.m(t,null),c=!0},p(p,[v]){if(v&14){d=p[2];let y;for(y=0;y<d.length;y+=1){const k=Nc(p,d,y);h[y]?h[y].p(k,v):(h[y]=Bc(k),h[y].c(),h[y].m(n,null))}for(;y<h.length;y+=1)h[y].d(1);h.length=d.length}p[0]?g?(g.p(p,v),v&1&&re(g,1)):(g=Uc(p),g.c(),re(g,1),g.m(t,null)):g&&($t(),le(g,1,1,()=>{g=null}),Dt())},i(p){c||(re(g),c=!0)},o(p){le(g),c=!1},d(p){p&&C(t),tn(h,p),g&&g.d()}}}function Ob(i,t,n){let s,o,a;ye(i,is,p=>n(5,s=p)),ye(i,wr,p=>n(1,o=p)),ye(i,ei,p=>n(4,a=p));let u;const c=["ok","good","busy"],d=new cl.Howl({src:["assets/sound/after-basic.wav"]}),h=async()=>{const p=await wl(),v=un.orderBy(p.filter(y=>y.basic_word!==""),"created_at","desc").slice(0,50);n(0,u=v.map(y=>un.pick(y,["id","created_at","basic_word"])))},g=async p=>{d.play();const v=p.target.id;if(an(wr,o=v,o),s===void 0){const y=await Bw({table:"emotions",data:{basic_word:v}});an(is,s=y[0].id,s),h()}else await yl({table:"emotions",column:"basic_word",value:o,id:s})};return al(()=>{d.unload()}),i.$$.update=()=>{i.$$.dirty&16&&(a||d.mute(!0)),i.$$.dirty&16&&a&&d.mute(!1)},[u,o,c,g,a]}class Rb extends Ve{constructor(t){super(),Je(this,t,Ob,Sb,Ke,{})}}const Mb=`<svg id="grey-wheel" viewBox="0 0 1150 1121" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="slices">
<path id="grateful" d="M536.5 53.5L433 72L536 429L564 425L536.5 53.5Z" fill="black"/>
<path id="connected" d="M544 52.5L674 59L595 428.5L569 424.5L544 52.5Z" fill="black"/>
<path id="belonging" d="M425 73.5L311 120.5L500.5 439L531.5 428.5L425 73.5Z" fill="black"/>
<path id="avoidant" d="M198.5 202.5L302.5 126L493.5 442L464 465.5L198.5 202.5Z" fill="black"/>
<path id="guilty" d="M119 303L195 207L459.5 468.5L442 494.5L119 303Z" fill="black"/>
<path id="embarassed" d="M116 309.5L66.5 417L428.5 527.5L439 498.5L116 309.5Z" fill="black"/>
<path id="not-good-enough" d="M423 563L46.5 551.5L64.5 423L427 533.5L423 563Z" fill="black"/>
<path id="overwhelmed" d="M429 608L68 700.5L46.5 558.5L422.5 569L429 608Z" fill="black"/>
<path id="anxious" d="M116.5 813.5L70.5 707.5L430.5 612L447.5 646L116.5 813.5Z" fill="black"/>
<path id="worried" d="M450 650L473.5 677L217.5 934L119.5 818L450 650Z" fill="black"/>
<path id="stressed" d="M477 680L507 699L347.5 1016L223 938.5L477 680Z" fill="black"/>
<path id="isolated" d="M548.5 712L512.5 701L353 1019.5L486.5 1058.5L548.5 712Z" fill="black"/>
<path id="tired" d="M582 715L553 712.5L492 1058.5L612 1065.5L582 715Z" fill="black"/>
<path id="bored" d="M716 1047.5L618.5 1065L587 715L613.5 710L716 1047.5Z" fill="black"/>
<path id="disappointed" d="M618 709.5L648 698.5L831 1000.5L721.5 1046L618 709.5Z" fill="black"/>
<path id="furious" d="M655 695L681.5 673L939.5 925.5L836 997L655 695Z" fill="black"/>
<path id="irritated" d="M684.5 669.5L700 651L1011 845.5L943.5 920L684.5 669.5Z" fill="black"/>
<path id="protective" d="M1015.5 839L1072.5 724.5L718 612.5L703 647L1015.5 839Z" fill="black"/>
<path id="tense" d="M719.5 607.5L723.5 578.5L1102 590L1075.5 718.5L719.5 607.5Z" fill="black"/>
<path id="challenged" d="M1094.5 461.5L719.5 543.5L724 572.5L1102 584L1094.5 461.5Z" fill="black"/>
<path id="motivated" d="M719.5 538L707.5 507L1046 340L1093.5 454L719.5 538Z" fill="black"/>
<path id="proud" d="M704.5 502L681.5 472.5L953.5 202.5L1043.5 335.5L704.5 502Z" fill="black"/>
<path id="creative" d="M678.5 469.5L642.5 443L812.5 104L949.5 198.5L678.5 469.5Z" fill="black"/>
<path id="satisfied" d="M638 441L602 428.5L680 60L808 101.5L638 441Z" fill="black"/>
</g>
</svg>
`;function Lb(i){let t,n,s,o,a,u,c;return{c(){t=G("p"),n=xe("Nice work!"),s=ce(),o=G("button"),a=xe("Edit my words")},l(d){t=q(d,"P",{});var h=K(t);n=Ae(h,"Nice work!"),h.forEach(C),s=fe(d),o=q(d,"BUTTON",{});var g=K(o);a=Ae(g,"Edit my words"),g.forEach(C)},m(d,h){oe(d,t,h),N(t,n),oe(d,s,h),oe(d,o,h),N(o,a),u||(c=Fe(o,"click",i[5]),u=!0)},p:we,i:we,o:we,d(d){d&&C(t),d&&C(s),d&&C(o),u=!1,c()}}}function Cb(i){let t,n,s,o,a,u,c,d,h,g,p,v,y,k,A,x,E,T,P,I;function F(z){i[7](z)}let R={slices:Mb,imgSrc:"assets/img/grey_wheel.png",wheelId:"grey-wheel",limit:3};return i[0]!==void 0&&(R.selected=i[0]),y=new Pv({props:R}),yt.push(()=>kr(y,"selected",F)),{c(){t=G("p"),n=xe("Here, you try..."),s=ce(),o=G("p"),a=xe("What do you mean by "),u=G("strong"),c=xe(i[3]),d=xe("?"),h=ce(),g=G("p"),p=xe("You can choose up to 3."),v=ce(),Oe(y.$$.fragment),A=ce(),x=G("button"),E=xe("Confirm")},l(z){t=q(z,"P",{});var M=K(t);n=Ae(M,"Here, you try..."),M.forEach(C),s=fe(z),o=q(z,"P",{});var W=K(o);a=Ae(W,"What do you mean by "),u=q(W,"STRONG",{});var V=K(u);c=Ae(V,i[3]),V.forEach(C),d=Ae(W,"?"),W.forEach(C),h=fe(z),g=q(z,"P",{});var Z=K(g);p=Ae(Z,"You can choose up to 3."),Z.forEach(C),v=fe(z),Re(y.$$.fragment,z),A=fe(z),x=q(z,"BUTTON",{});var ue=K(x);E=Ae(ue,"Confirm"),ue.forEach(C)},m(z,M){oe(z,t,M),N(t,n),oe(z,s,M),oe(z,o,M),N(o,a),N(o,u),N(u,c),N(o,d),oe(z,h,M),oe(z,g,M),N(g,p),oe(z,v,M),Me(y,z,M),oe(z,A,M),oe(z,x,M),N(x,E),T=!0,P||(I=Fe(x,"click",i[4]),P=!0)},p(z,M){(!T||M&8)&&cn(c,z[3]);const W={};!k&&M&1&&(k=!0,W.selected=z[0],Ir(()=>k=!1)),y.$set(W)},i(z){T||(re(y.$$.fragment,z),T=!0)},o(z){le(y.$$.fragment,z),T=!1},d(z){z&&C(t),z&&C(s),z&&C(o),z&&C(h),z&&C(g),z&&C(v),Le(y,z),z&&C(A),z&&C(x),P=!1,I()}}}function Fc(i){let t,n;return t=new Tl({props:{data:i[1],wordAccessor:"deeper_word",groupBy:"deeper_word"}}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p(s,o){const a={};o&2&&(a.data=s[1]),t.$set(a)},i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function Pb(i){let t,n,s,o,a,u;const c=[Cb,Lb],d=[];function h(p,v){return p[2]?0:1}s=h(i),o=d[s]=c[s](i);let g=i[1]&&!i[2]&&Fc(i);return{c(){t=G("div"),n=G("div"),o.c(),a=ce(),g&&g.c(),this.h()},l(p){t=q(p,"DIV",{class:!0});var v=K(t);n=q(v,"DIV",{class:!0});var y=K(n);o.l(y),y.forEach(C),a=fe(v),g&&g.l(v),v.forEach(C),this.h()},h(){S(n,"class","words svelte-yx0er8"),S(t,"class","container svelte-yx0er8")},m(p,v){oe(p,t,v),N(t,n),d[s].m(n,null),N(t,a),g&&g.m(t,null),u=!0},p(p,[v]){let y=s;s=h(p),s===y?d[s].p(p,v):($t(),le(d[y],1,1,()=>{d[y]=null}),Dt(),o=d[s],o?o.p(p,v):(o=d[s]=c[s](p),o.c()),re(o,1),o.m(n,null)),p[1]&&!p[2]?g?(g.p(p,v),v&6&&re(g,1)):(g=Fc(p),g.c(),re(g,1),g.m(t,null)):g&&($t(),le(g,1,1,()=>{g=null}),Dt())},i(p){u||(re(o),re(g),u=!0)},o(p){le(o),le(g),u=!1},d(p){p&&C(t),d[s].d(),g&&g.d()}}}function $b(i,t,n){let s,o,a,u;ye(i,is,A=>n(8,s=A)),ye(i,Xn,A=>n(0,o=A)),ye(i,ei,A=>n(6,a=A)),ye(i,wr,A=>n(3,u=A));let c,d=!0;const h=new cl.Howl({src:["assets/sound/after-word.wav"]}),g=async()=>{const A=await wl(),E=un.orderBy(A.filter(T=>T.deeper_words),"created_at","desc").slice(0,50).map(T=>un.pick(T,["id","created_at","deeper_words"])).reduce((T,P)=>{const I=P.deeper_words.split("|"),F=un.omit(P,["deeper_words","id"]),R=I.map((z,M)=>({id:`${P.id}-${M}`,deeper_word:z,...F}));return[...T,...R]},[]);n(1,c=E)},p=async()=>{await yl({table:"emotions",column:"deeper_words",value:o.join("|"),id:s})},v=async()=>{await p(),n(2,d=!1)},y=()=>{n(2,d=!0)};al(()=>{h.unload()});function k(A){o=A,Xn.set(o)}return i.$$.update=()=>{i.$$.dirty&64&&(a||h.mute(!0)),i.$$.dirty&64&&a&&h.mute(!1),i.$$.dirty&1&&o.length&&g()},[o,c,d,u,v,y,a,k]}class Db extends Ve{constructor(t){super(),Je(this,t,$b,Pb,Ke,{})}}function Nb(i){let t,n,s,o;return{c(){t=G("div"),n=G("hex-color-picker"),this.h()},l(a){t=q(a,"DIV",{});var u=K(t);n=q(u,"HEX-COLOR-PICKER",{color:!0}),K(n).forEach(C),u.forEach(C),this.h()},h(){nc(n,"color",i[0])},m(a,u){oe(a,t,u),N(t,n),s||(o=Fe(n,"color-changed",i[1]),s=!0)},p(a,[u]){u&1&&nc(n,"color",a[0])},i:we,o:we,d(a){a&&C(t),s=!1,o()}}}function Bb(i,t,n){let{color:s}=t;const o=a=>{n(0,s=a.detail.value)};return ri(async()=>{(await ii(()=>import("../../chunks/hex-color-picker-5c6f56b9.js"),[],import.meta.url)).default}),i.$$set=a=>{"color"in a&&n(0,s=a.color)},[s,o]}class Pf extends Ve{constructor(t){super(),Je(this,t,Bb,Nb,Ke,{color:0})}}const zc=[{hex:"#FFFFFF",name:"White"},{hex:"#000000",name:"Black"},{hex:"#808080",name:"Grey"},{hex:"#ff0000",name:"Red"},{hex:"#ffa500",name:"Orange"},{hex:"#ffff00",name:"Yellow"},{hex:"#008000",name:"Green"},{hex:"#0000ff",name:"Blue"},{hex:"#4b0082",name:"Indigo"},{hex:"#ee82ee",name:"Violet"}];function jc(i){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;i=i.replace(t,function(s,o,a,u){return o+o+a+a+u+u});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function Ub(i,t){return Math.sqrt(Math.pow(i.r-t.r,2)+Math.pow(i.g-t.g,2)+Math.pow(i.b-t.b,2))}function Fb(i){var t=Number.POSITIVE_INFINITY,n;let s=0;return zc.forEach((o,a)=>{n=Ub(jc(i),jc(o.hex)),n<t&&(t=n,s=a)}),zc[s]}function zb(i){let t,n,s,o,a,u,c;return{c(){t=G("p"),n=xe("Nice work!"),s=ce(),o=G("button"),a=xe("Edit my colors"),this.h()},l(d){t=q(d,"P",{});var h=K(t);n=Ae(h,"Nice work!"),h.forEach(C),s=fe(d),o=q(d,"BUTTON",{class:!0});var g=K(o);a=Ae(g,"Edit my colors"),g.forEach(C),this.h()},h(){S(o,"class","svelte-152jnps")},m(d,h){oe(d,t,h),N(t,n),oe(d,s,h),oe(d,o,h),N(o,a),u||(c=Fe(o,"click",i[6]),u=!0)},p:we,i:we,o:we,d(d){d&&C(t),d&&C(s),d&&C(o),u=!1,c()}}}function jb(i){let t,n,s,o,a,u,c,d,h,g,p,v,y,k;function A(E){i[12](E)}let x={};return i[0]!==void 0&&(x.color=i[0]),c=new Pf({props:x}),yt.push(()=>kr(c,"color",A)),{c(){t=G("p"),n=xe("You're feeling "),s=G("strong"),o=xe(i[4]),a=xe(` - what color is
				it?`),u=ce(),Oe(c.$$.fragment),h=ce(),g=G("button"),p=xe("That's it"),this.h()},l(E){t=q(E,"P",{class:!0});var T=K(t);n=Ae(T,"You're feeling "),s=q(T,"STRONG",{class:!0});var P=K(s);o=Ae(P,i[4]),P.forEach(C),a=Ae(T,` - what color is
				it?`),T.forEach(C),u=fe(E),Re(c.$$.fragment,E),h=fe(E),g=q(E,"BUTTON",{class:!0});var I=K(g);p=Ae(I,"That's it"),I.forEach(C),this.h()},h(){S(s,"class","word svelte-152jnps"),S(t,"class","text svelte-152jnps"),vr(t,"color",i[3],!1),S(g,"class","svelte-152jnps")},m(E,T){oe(E,t,T),N(t,n),N(t,s),N(s,o),N(t,a),oe(E,u,T),Me(c,E,T),oe(E,h,T),oe(E,g,T),N(g,p),v=!0,y||(k=Fe(g,"click",i[5]),y=!0)},p(E,T){(!v||T&16)&&cn(o,E[4]),T&8&&vr(t,"color",E[3],!1);const P={};!d&&T&1&&(d=!0,P.color=E[0],Ir(()=>d=!1)),c.$set(P)},i(E){v||(re(c.$$.fragment,E),v=!0)},o(E){le(c.$$.fragment,E),v=!1},d(E){E&&C(t),E&&C(u),Le(c,E),E&&C(h),E&&C(g),y=!1,k()}}}function Wc(i){let t,n;return t=new Tl({props:{data:i[2],wordAccessor:"deeper_word",groupBy:"color_group",withColor:!0}}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p(s,o){const a={};o&4&&(a.data=s[2]),t.$set(a)},i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function Wb(i){let t,n,s,o,a,u;const c=[jb,zb],d=[];function h(p,v){return p[1]?0:1}s=h(i),o=d[s]=c[s](i);let g=i[2]&&!i[1]&&Wc(i);return{c(){t=G("div"),n=G("div"),o.c(),a=ce(),g&&g.c(),this.h()},l(p){t=q(p,"DIV",{class:!0});var v=K(t);n=q(v,"DIV",{class:!0});var y=K(n);o.l(y),y.forEach(C),a=fe(v),g&&g.l(v),v.forEach(C),this.h()},h(){S(n,"class","words svelte-152jnps"),S(t,"class","container svelte-152jnps")},m(p,v){oe(p,t,v),N(t,n),d[s].m(n,null),N(t,a),g&&g.m(t,null),u=!0},p(p,[v]){let y=s;s=h(p),s===y?d[s].p(p,v):($t(),le(d[y],1,1,()=>{d[y]=null}),Dt(),o=d[s],o?o.p(p,v):(o=d[s]=c[s](p),o.c()),re(o,1),o.m(n,null)),p[2]&&!p[1]?g?(g.p(p,v),v&6&&re(g,1)):(g=Wc(p),g.c(),re(g,1),g.m(t,null)):g&&($t(),le(g,1,1,()=>{g=null}),Dt())},i(p){u||(re(o),re(g),u=!0)},o(p){le(o),le(g),u=!1},d(p){p&&C(t),d[s].d(),g&&g.d()}}}const ts="#b5bbbb";function Hb(i,t,n){let s,o,a,u,c,d,h;ye(i,Yr,R=>n(8,a=R)),ye(i,br,R=>n(9,u=R)),ye(i,Xn,R=>n(10,c=R)),ye(i,is,R=>n(13,d=R)),ye(i,ei,R=>n(11,h=R));const g=new cl.Howl({src:["assets/sound/after-color.wav"]});let p=ts,v=0,y=!0,k;const A=async()=>{const R=await wl(),M=un.orderBy(R.filter(W=>W.deeper_words&&W.colors&&W.colors.split("|").length===W.deeper_words.split("|").length),"created_at","desc").slice(0,50).map(W=>un.pick(W,["id","created_at","deeper_words","colors"])).reduce((W,V)=>{const Z=V.deeper_words.split("|"),ue=V.colors.split("|"),ie=un.omit(V,["deeper_words","colors","id"]),w=Z.map(($,U)=>({id:`${V.id}-${U}`,deeper_word:$,color:ue[U],color_group:Fb(ue[U]).hex,...ie}));return[...W,...w]},[]);n(2,k=M)},x=()=>{p!==ts&&an(Yr,a=p,a)},E=()=>{u[v]?n(0,p=u[v]):n(0,p=ts),an(Yr,a=ts,a)},T=async()=>{await yl({table:"emotions",column:"colors",value:u.join("|"),id:d})},P=async()=>{g.play(),an(br,u[v]=p,u),await T(),v+1<c.length?n(7,v+=1):n(1,y=!1),E()},I=()=>{n(1,y=!0),n(7,v=0),n(0,p=u[v]),an(Yr,a=p,a)};al(()=>{g.unload()});function F(R){p=R,n(0,p)}return i.$$.update=()=>{i.$$.dirty&1152&&n(4,s=c[v]),i.$$.dirty&1&&x(),i.$$.dirty&256&&n(3,o=cs(a)),i.$$.dirty&2048&&(h||g.mute(!0)),i.$$.dirty&2048&&h&&g.mute(!1),i.$$.dirty&512&&u.length&&A()},[p,y,k,o,s,P,I,v,a,u,c,h,F]}class Gb extends Ve{constructor(t){super(),Je(this,t,Hb,Wb,Ke,{})}}var qb="Expected a function",Hc=0/0,Vb="[object Symbol]",Jb=/^\s+|\s+$/g,Kb=/^[-+]0x[0-9a-f]+$/i,Yb=/^0b[01]+$/i,Zb=/^0o[0-7]+$/i,Xb=parseInt,Qb=typeof ln=="object"&&ln&&ln.Object===Object&&ln,e2=typeof self=="object"&&self&&self.Object===Object&&self,t2=Qb||e2||Function("return this")(),n2=Object.prototype,r2=n2.toString,i2=Math.max,s2=Math.min,Go=function(){return t2.Date.now()};function o2(i,t,n){var s,o,a,u,c,d,h=0,g=!1,p=!1,v=!0;if(typeof i!="function")throw new TypeError(qb);t=Gc(t)||0,il(n)&&(g=!!n.leading,p="maxWait"in n,a=p?i2(Gc(n.maxWait)||0,t):a,v="trailing"in n?!!n.trailing:v);function y(R){var z=s,M=o;return s=o=void 0,h=R,u=i.apply(M,z),u}function k(R){return h=R,c=setTimeout(E,t),g?y(R):u}function A(R){var z=R-d,M=R-h,W=t-z;return p?s2(W,a-M):W}function x(R){var z=R-d,M=R-h;return d===void 0||z>=t||z<0||p&&M>=a}function E(){var R=Go();if(x(R))return T(R);c=setTimeout(E,A(R))}function T(R){return c=void 0,v&&s?y(R):(s=o=void 0,u)}function P(){c!==void 0&&clearTimeout(c),h=0,s=d=o=c=void 0}function I(){return c===void 0?u:T(Go())}function F(){var R=Go(),z=x(R);if(s=arguments,o=this,d=R,z){if(c===void 0)return k(d);if(p)return c=setTimeout(E,t),y(d)}return c===void 0&&(c=setTimeout(E,t)),u}return F.cancel=P,F.flush=I,F}function il(i){var t=typeof i;return!!i&&(t=="object"||t=="function")}function l2(i){return!!i&&typeof i=="object"}function a2(i){return typeof i=="symbol"||l2(i)&&r2.call(i)==Vb}function Gc(i){if(typeof i=="number")return i;if(a2(i))return Hc;if(il(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=il(t)?t+"":t}if(typeof i!="string")return i===0?i:+i;i=i.replace(Jb,"");var n=Yb.test(i);return n||Zb.test(i)?Xb(i.slice(2),n?2:8):Kb.test(i)?Hc:+i}var u2=o2;const $f=uf({width:0,height:0},i=>{const t=()=>i({width:window.innerWidth,height:window.innerHeight});return t(),window.addEventListener("resize",u2(t,250)),()=>{window.removeEventListener("resize",t)}});function c2(i){let t,n,s,o,a,u,c,d,h,g,p,v,y,k,A,x,E,T,P,I,F,R,z,M,W,V,Z,ue;function ie($){i[17]($)}let w={};return i[5]!==void 0&&(w.color=i[5]),F=new Pf({props:w}),yt.push(()=>kr(F,"color",ie)),{c(){t=G("div"),n=G("div"),s=G("p"),o=xe("How does "),a=G("span"),u=xe(i[8]),c=xe(" show up in your body?"),d=ce(),h=G("p"),g=xe(`Take a breath\u2013 scan from the top of your head down through your chest,
			down into your toes. Make a mark on the diagram on the right based on what
			you notice.`),p=ce(),v=G("div"),y=G("div"),k=G("canvas"),x=ce(),E=G("div"),P=ce(),I=G("div"),Oe(F.$$.fragment),z=ce(),M=G("button"),W=xe("clear"),this.h()},l($){t=q($,"DIV",{class:!0});var U=K(t);n=q(U,"DIV",{class:!0});var Q=K(n);s=q(Q,"P",{});var te=K(s);o=Ae(te,"How does "),a=q(te,"SPAN",{class:!0});var ee=K(a);u=Ae(ee,i[8]),ee.forEach(C),c=Ae(te," show up in your body?"),te.forEach(C),d=fe(Q),h=q(Q,"P",{});var pe=K(h);g=Ae(pe,`Take a breath\u2013 scan from the top of your head down through your chest,
			down into your toes. Make a mark on the diagram on the right based on what
			you notice.`),pe.forEach(C),Q.forEach(C),p=fe(U),v=q(U,"DIV",{class:!0});var _e=K(v);y=q(_e,"DIV",{class:!0});var Ce=K(y);k=q(Ce,"CANVAS",{height:!0,width:!0,style:!0,class:!0}),K(k).forEach(C),x=fe(Ce),E=q(Ce,"DIV",{class:!0,style:!0}),K(E).forEach(C),Ce.forEach(C),P=fe(_e),I=q(_e,"DIV",{class:!0});var at=K(I);Re(F.$$.fragment,at),z=fe(at),M=q(at,"BUTTON",{});var Ye=K(M);W=Ae(Ye,"clear"),Ye.forEach(C),at.forEach(C),_e.forEach(C),U.forEach(C),this.h()},h(){S(a,"class","word svelte-16bfp5"),S(n,"class","words svelte-16bfp5"),S(k,"height",i[0]),S(k,"width",i[6]),S(k,"style",A=`background-image: url(${i[7]})`),S(k,"class","svelte-16bfp5"),S(E,"class","cursor svelte-16bfp5"),S(E,"style",T=`--color: ${i[5]}`),Ge(E,"visible",i[4]),vr(E,"left",`${i[2]}px`,!1),vr(E,"top",`${i[3]}px`,!1),S(y,"class","canvas svelte-16bfp5"),S(I,"class","color-picker svelte-16bfp5"),S(v,"class","interactive svelte-16bfp5"),S(t,"class","container svelte-16bfp5")},m($,U){oe($,t,U),N(t,n),N(n,s),N(s,o),N(s,a),N(a,u),N(s,c),N(n,d),N(n,h),N(h,g),N(t,p),N(t,v),N(v,y),N(y,k),i[16](k),N(y,x),N(y,E),N(v,P),N(v,I),Me(F,I,null),N(I,z),N(I,M),N(M,W),V=!0,Z||(ue=[Fe(k,"mousedown",i[9]),Fe(k,"mouseup",i[10]),Fe(k,"mousemove",i[11]),Fe(k,"mouseenter",i[12]),Fe(k,"mouseleave",i[13]),Fe(M,"click",i[14])],Z=!0)},p($,[U]){(!V||U&1)&&S(k,"height",$[0]),(!V||U&64)&&S(k,"width",$[6]),(!V||U&128&&A!==(A=`background-image: url(${$[7]})`))&&S(k,"style",A),(!V||U&32&&T!==(T=`--color: ${$[5]}`))&&S(E,"style",T),(!V||U&16)&&Ge(E,"visible",$[4]),U&4&&vr(E,"left",`${$[2]}px`,!1),U&8&&vr(E,"top",`${$[3]}px`,!1);const Q={};!R&&U&32&&(R=!0,Q.color=$[5],Ir(()=>R=!1)),F.$set(Q)},i($){V||(re(F.$$.fragment,$),V=!0)},o($){le(F.$$.fragment,$),V=!1},d($){$&&C(t),i[16](null),Le(F),Z=!1,Ar(ue)}}}function f2(i,t,n){let s,o,a,u,c,d;ye(i,$f,W=>n(15,u=W)),ye(i,br,W=>n(20,c=W)),ye(i,Xn,W=>n(21,d=W));let h,g,p=!1,v,y,k=!1,A=un.sample(d),x=un.sample(c);const E=W=>{p=!0,P(W)},T=()=>{p=!1,g.beginPath()},P=W=>{n(2,v=W.offsetX),n(3,y=W.offsetY),p&&(g.lineWidth=4,g.lineCap="round",g.lineTo(W.offsetX,W.offsetY),g.strokeStyle=x,g.stroke(),g.beginPath(),g.moveTo(W.offsetX,W.offsetY))},I=()=>{n(4,k=!0)},F=()=>{n(4,k=!1)},R=()=>{g.clearRect(0,0,o,s)};ri(()=>{g=h.getContext("2d")});function z(W){yt[W?"unshift":"push"](()=>{h=W,n(1,h)})}function M(W){x=W,n(5,x)}return i.$$.update=()=>{i.$$.dirty&32768&&n(0,s=u.height*.5),i.$$.dirty&1&&n(6,o=s)},n(7,a=`${ol}/assets/img/blank_body.png`),[s,h,v,y,k,x,o,a,A,E,T,P,I,F,R,u,z,M]}class h2 extends Ve{constructor(t){super(),Je(this,t,f2,c2,Ke,{})}}function qc(i){let t,n;return{c(){t=G("div"),n=xe(i[1]),this.h()},l(s){t=q(s,"DIV",{class:!0});var o=K(t);n=Ae(o,i[1]),o.forEach(C),this.h()},h(){S(t,"class","title svelte-18g1jre")},m(s,o){oe(s,t,o),N(t,n)},p(s,o){o&2&&cn(n,s[1])},d(s){s&&C(t)}}}function d2(i){let t,n,s,o,a,u,c=i[2]&&qc(i);return{c(){t=G("div"),n=G("img"),o=ce(),c&&c.c(),this.h()},l(d){t=q(d,"DIV",{class:!0});var h=K(t);n=q(h,"IMG",{src:!0,class:!0}),o=fe(h),c&&c.l(h),h.forEach(C),this.h()},h(){dt(n.src,s=`assets/img/gallery/${i[0]}`)||S(n,"src",s),S(n,"class","svelte-18g1jre"),Ge(n,"faded",i[2]),S(t,"class","card svelte-18g1jre")},m(d,h){oe(d,t,h),N(t,n),N(t,o),c&&c.m(t,null),a||(u=[Fe(t,"mouseenter",i[4]),Fe(t,"mouseleave",i[5]),Fe(t,"click",i[3])],a=!0)},p(d,[h]){h&1&&!dt(n.src,s=`assets/img/gallery/${d[0]}`)&&S(n,"src",s),h&4&&Ge(n,"faded",d[2]),d[2]?c?c.p(d,h):(c=qc(d),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i:we,o:we,d(d){d&&C(t),c&&c.d(),a=!1,Ar(u)}}}function g2(i,t,n){let s;ye(i,Er,g=>n(6,s=g));let{img:o}=t,{title:a}=t,u=!1;const c=()=>{an(Er,s=o,s)},d=()=>n(2,u=!0),h=()=>n(2,u=!1);return i.$$set=g=>{"img"in g&&n(0,o=g.img),"title"in g&&n(1,a=g.title)},[o,a,u,c,d,h]}class _r extends Ve{constructor(t){super(),Je(this,t,g2,d2,Ke,{img:0,title:1})}}function p2(i){return new Promise((t,n)=>{const s=new Image;s.onload=()=>t(s),s.onerror=()=>n(`error loading ${i}`),s.src=i})}function _2(i){let t,n,s,o,a,u,c,d,h,g,p,v,y,k,A,x,E;return{c(){t=G("div"),n=G("div"),s=G("img"),u=ce(),c=G("div"),d=G("div"),h=xe("Zoom"),g=ce(),p=G("button"),v=xe("+"),y=ce(),k=G("button"),A=xe("-"),this.h()},l(T){t=q(T,"DIV",{class:!0});var P=K(t);n=q(P,"DIV",{class:!0});var I=K(n);s=q(I,"IMG",{src:!0,class:!0}),I.forEach(C),P.forEach(C),u=fe(T),c=q(T,"DIV",{class:!0});var F=K(c);d=q(F,"DIV",{class:!0});var R=K(d);h=Ae(R,"Zoom"),R.forEach(C),g=fe(F),p=q(F,"BUTTON",{class:!0});var z=K(p);v=Ae(z,"+"),z.forEach(C),y=fe(F),k=q(F,"BUTTON",{class:!0});var M=K(k);A=Ae(M,"-"),M.forEach(C),F.forEach(C),this.h()},h(){dt(s.src,o=i[0])||S(s,"src",o),S(s,"class","svelte-efz6ni"),S(n,"class","image-wrapper svelte-efz6ni"),S(t,"class","outer svelte-efz6ni"),xr(()=>i[8].call(t)),S(d,"class","zoom-title svelte-efz6ni"),S(p,"class","svelte-efz6ni"),S(k,"class","svelte-efz6ni"),S(c,"class","buttons svelte-efz6ni")},m(T,P){oe(T,t,P),N(t,n),N(n,s),i[6](n),i[7](t),a=ll(t,i[8].bind(t)),oe(T,u,P),oe(T,c,P),N(c,d),N(d,h),N(c,g),N(c,p),N(p,v),N(c,y),N(c,k),N(k,A),x||(E=[Fe(p,"click",i[4]),Fe(k,"click",i[5])],x=!0)},p(T,[P]){P&1&&!dt(s.src,o=T[0])&&S(s,"src",o)},i:we,o:we,d(T){T&&C(t),i[6](null),i[7](null),a(),T&&C(u),T&&C(c),x=!1,Ar(E)}}}function m2(i,t,n){let s;ye(i,$f,T=>n(11,s=T));let{src:o}=t,a,u,c,d,h;const g=T=>{lt(u).style("transform",`translate(${T.transform.x}px, ${T.transform.y}px) scale(${T.transform.k})`)},p=()=>{h.scaleBy(lt(a).transition(),1.3)},v=()=>{h.scaleBy(lt(a).transition(),1/1.3)},y=async()=>{h&&lt(a).call(h.transform,ul),k()},k=async()=>{if(o!==""){const T=await p2(o);let I=T.height/T.width*d;c=Math.max(s.height*.7,I),h=Ab().scaleExtent([1,4]).translateExtent([[0,0],[d,c]]).on("zoom",g),lt(a).call(h)}};ri(async()=>{k()});function A(T){yt[T?"unshift":"push"](()=>{u=T,n(2,u)})}function x(T){yt[T?"unshift":"push"](()=>{a=T,n(1,a)})}function E(){d=this.clientWidth,n(3,d)}return i.$$set=T=>{"src"in T&&n(0,o=T.src)},i.$$.update=()=>{i.$$.dirty&1&&y()},[o,a,u,d,p,v,A,x,E]}class v2 extends Ve{constructor(t){super(),Je(this,t,m2,_2,Ke,{src:0})}}function y2(i){let t,n,s,o,a,u,c,d;return n=new v2({props:{src:i[1]?`assets/img/gallery/${i[1]}`:""}}),a=new cf({props:{name:"x"}}),{c(){t=G("div"),Oe(n.$$.fragment),s=ce(),o=G("div"),Oe(a.$$.fragment),this.h()},l(h){t=q(h,"DIV",{class:!0});var g=K(t);Re(n.$$.fragment,g),s=fe(g),o=q(g,"DIV",{class:!0});var p=K(o);Re(a.$$.fragment,p),p.forEach(C),g.forEach(C),this.h()},h(){S(o,"class","close svelte-18kcdsc"),S(t,"class","modal svelte-18kcdsc"),Ge(t,"visible",i[1])},m(h,g){oe(h,t,g),Me(n,t,null),N(t,s),N(t,o),Me(a,o,null),i[3](t),u=!0,c||(d=Fe(o,"click",i[2]),c=!0)},p(h,[g]){const p={};g&2&&(p.src=h[1]?`assets/img/gallery/${h[1]}`:""),n.$set(p),(!u||g&2)&&Ge(t,"visible",h[1])},i(h){u||(re(n.$$.fragment,h),re(a.$$.fragment,h),u=!0)},o(h){le(n.$$.fragment,h),le(a.$$.fragment,h),u=!1},d(h){h&&C(t),Le(n),Le(a),i[3](null),c=!1,d()}}}function w2(i,t,n){let s;ye(i,Er,c=>n(1,s=c));let o;const a=()=>{an(Er,s=void 0,s)};function u(c){yt[c?"unshift":"push"](()=>{o=c,n(0,o)})}return[o,s,a,u]}class b2 extends Ve{constructor(t){super(),Je(this,t,w2,y2,Ke,{})}}function E2(i){let t,n,s,o,a,u,c,d,h,g,p,v,y,k,A,x,E;return s=new _r({props:{img:"george_floyd_6.png",title:"George Floyd protests"}}),a=new _r({props:{img:"dress.png",title:"Dress"}}),c=new _r({props:{img:"suit.png",title:"Suit"}}),h=new _r({props:{img:"family.png",title:"Family"}}),v=new _r({props:{img:"pronouns.png",title:"Pronouns"}}),k=new _r({props:{img:"the_things_color.png",title:"Life audit"}}),x=new b2({}),{c(){t=G("div"),n=G("div"),Oe(s.$$.fragment),o=ce(),Oe(a.$$.fragment),u=ce(),Oe(c.$$.fragment),d=ce(),Oe(h.$$.fragment),g=ce(),p=G("div"),Oe(v.$$.fragment),y=ce(),Oe(k.$$.fragment),A=ce(),Oe(x.$$.fragment),this.h()},l(T){t=q(T,"DIV",{class:!0});var P=K(t);n=q(P,"DIV",{class:!0});var I=K(n);Re(s.$$.fragment,I),o=fe(I),Re(a.$$.fragment,I),u=fe(I),Re(c.$$.fragment,I),d=fe(I),Re(h.$$.fragment,I),I.forEach(C),g=fe(P),p=q(P,"DIV",{class:!0});var F=K(p);Re(v.$$.fragment,F),y=fe(F),Re(k.$$.fragment,F),F.forEach(C),P.forEach(C),A=fe(T),Re(x.$$.fragment,T),this.h()},h(){S(n,"class","row svelte-1xkj1d"),S(p,"class","row svelte-1xkj1d"),S(t,"class","container svelte-1xkj1d"),Ge(t,"faded",i[0])},m(T,P){oe(T,t,P),N(t,n),Me(s,n,null),N(n,o),Me(a,n,null),N(n,u),Me(c,n,null),N(n,d),Me(h,n,null),N(t,g),N(t,p),Me(v,p,null),N(p,y),Me(k,p,null),oe(T,A,P),Me(x,T,P),E=!0},p(T,[P]){(!E||P&1)&&Ge(t,"faded",T[0])},i(T){E||(re(s.$$.fragment,T),re(a.$$.fragment,T),re(c.$$.fragment,T),re(h.$$.fragment,T),re(v.$$.fragment,T),re(k.$$.fragment,T),re(x.$$.fragment,T),E=!0)},o(T){le(s.$$.fragment,T),le(a.$$.fragment,T),le(c.$$.fragment,T),le(h.$$.fragment,T),le(v.$$.fragment,T),le(k.$$.fragment,T),le(x.$$.fragment,T),E=!1},d(T){T&&C(t),Le(s),Le(a),Le(c),Le(h),Le(v),Le(k),T&&C(A),Le(x,T)}}}function T2(i,t,n){let s;return ye(i,Er,o=>n(0,s=o)),[s]}class x2 extends Ve{constructor(t){super(),Je(this,t,T2,E2,Ke,{})}}function A2(i,t={}){let n;const s=a=>{const u=a[0].isIntersecting,c=u?"enter":"exit";if(i.dispatchEvent(new CustomEvent(c)),t.progress&&u){const h={ratio:a[0].intersectionRatio};i.dispatchEvent(new CustomEvent("progress",{detail:h}))}},o=({root:a,top:u,bottom:c})=>{const d=u?u*-1:0,h=c?c*-1:0,g=`${d}px 0px ${h}px 0px`,p={root:a,rootMargin:g};n&&n.disconnect(),n=new IntersectionObserver(s,p),n.observe(i)};return o(t),{update(a){o(a)},destroy(){n&&n.disconnect()}}}function k2(i){let t,n,s,o;return{c(){t=G("img"),this.h()},l(a){t=q(a,"IMG",{src:!0,class:!0}),this.h()},h(){dt(t.src,n=`assets/img/${i[1]}`)||S(t,"src",n),S(t,"class","svelte-1xxeb8t"),Ge(t,"roll-in",i[3]===i[0]||i[2])},m(a,u){oe(a,t,u),s||(o=[kv(A2.call(null,t)),Fe(t,"enter",i[4]),Fe(t,"exit",i[5])],s=!0)},p(a,[u]){u&2&&!dt(t.src,n=`assets/img/${a[1]}`)&&S(t,"src",n),u&13&&Ge(t,"roll-in",a[3]===a[0]||a[2])},i:we,o:we,d(a){a&&C(t),s=!1,Ar(o)}}}function I2(i,t,n){let s;ye(i,ss,h=>n(3,s=h));let{i:o}=t,{img:a}=t,u=!1;const c=()=>n(2,u=!0),d=()=>n(2,u=!1);return i.$$set=h=>{"i"in h&&n(0,o=h.i),"img"in h&&n(1,a=h.img)},[o,a,u,s,c,d]}class xl extends Ve{constructor(t){super(),Je(this,t,I2,k2,Ke,{i:0,img:1})}}function Vc(i,t,n){const s=i.slice();return s[3]=t[n],s}function Jc(i){let t,n=i[3]+"";return{c(){t=G("p")},l(s){t=q(s,"P",{});var o=K(t);o.forEach(C)},m(s,o){oe(s,t,o),t.innerHTML=n},p(s,o){o&2&&n!==(n=s[3]+"")&&(t.innerHTML=n)},d(s){s&&C(t)}}}function S2(i){let t,n=i[1],s=[];for(let o=0;o<n.length;o+=1)s[o]=Jc(Vc(i,n,o));return{c(){t=G("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){t=q(o,"DIV",{class:!0});var a=K(t);for(let u=0;u<s.length;u+=1)s[u].l(a);a.forEach(C),this.h()},h(){S(t,"class","words svelte-1nq2mrq"),Ge(t,"visible",i[0]===i[2])},m(o,a){oe(o,t,a);for(let u=0;u<s.length;u+=1)s[u].m(t,null)},p(o,[a]){if(a&2){n=o[1];let u;for(u=0;u<n.length;u+=1){const c=Vc(o,n,u);s[u]?s[u].p(c,a):(s[u]=Jc(c),s[u].c(),s[u].m(t,null))}for(;u<s.length;u+=1)s[u].d(1);s.length=n.length}a&5&&Ge(t,"visible",o[0]===o[2])},i:we,o:we,d(o){o&&C(t),tn(s,o)}}}function O2(i,t,n){let s;ye(i,ss,u=>n(2,s=u));let{i:o}=t,{text:a}=t;return i.$$set=u=>{"i"in u&&n(0,o=u.i),"text"in u&&n(1,a=u.text)},[o,a,s]}class R2 extends Ve{constructor(t){super(),Je(this,t,O2,S2,Ke,{i:0,text:1})}}function Kc(i,t,n){const s=i.slice();s[14]=t[n].id,s[15]=t[n].text,s[18]=n;const o=s[4].includes(s[14])?"ground":s[14];return s[16]=o,s}function Yc(i){let t,n;return{c(){t=G("img"),this.h()},l(s){t=q(s,"IMG",{src:!0,class:!0}),this.h()},h(){dt(t.src,n=`assets/img/panels/${i[16]}2.png`)||S(t,"src",n),S(t,"class","full-panel overlay svelte-rykcxq"),Ge(t,"visible",i[2]===i[18])},m(s,o){oe(s,t,o)},p(s,o){o&2&&!dt(t.src,n=`assets/img/panels/${s[16]}2.png`)&&S(t,"src",n),o&4&&Ge(t,"visible",s[2]===s[18])},d(s){s&&C(t)}}}function M2(i){let t,n;return t=new R2({props:{i:i[18],text:i[15]}}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p(s,o){const a={};o&2&&(a.text=s[15]),t.$set(a)},i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function L2(i){let t,n;return t=new x2({}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p:we,i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function C2(i){let t,n;return t=new h2({}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p:we,i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function P2(i){let t,n;return t=new Gb({}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p:we,i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function $2(i){let t,n;return t=new Db({}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p:we,i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function D2(i){let t,n;return t=new Rb({}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p:we,i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function N2(i){let t,n;return t=new xl({props:{img:"final_wheel.png",i:i[18]}}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function B2(i){let t,n;return{c(){t=G("img"),this.h()},l(s){t=q(s,"IMG",{class:!0,src:!0}),this.h()},h(){S(t,"class","body-diagram svelte-rykcxq"),dt(t.src,n="assets/img/blank_body.png")||S(t,"src",n)},m(s,o){oe(s,t,o)},i:we,o:we,d(s){s&&C(t)}}}function U2(i){let t,n;return t=new xl({props:{img:"simple_wheel_color.png",i:i[18]}}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function F2(i){let t,n;return{c(){t=G("img"),this.h()},l(s){t=q(s,"IMG",{class:!0,src:!0}),this.h()},h(){S(t,"class","simple-wheel svelte-rykcxq"),dt(t.src,n="assets/img/grey_wheel.png")||S(t,"src",n)},m(s,o){oe(s,t,o)},i:we,o:we,d(s){s&&C(t)}}}function z2(i){let t,n;return t=new xl({props:{img:"grey_wheel_blank.png",i:i[18]}}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function Zc(i){let t,n,s,o,a=i[5].includes(i[14]),u,c,d,h,g,p,v,y,k,A=a&&Yc(i);const x=[D2,$2,P2,C2,L2,M2],E=[];function T(R,z){return R[14]==="survey-basic"?0:R[14]==="survey-words"?1:R[14]==="survey-color"?2:R[14]==="survey-body"?3:R[14]==="gallery"?4:5}c=T(i),d=E[c]=x[c](i);const P=[z2,F2,U2,B2,N2],I=[];function F(R,z){return R[14]==="try-wheel"?0:R[14]==="granularity"?1:R[14]==="color"?2:R[14]==="body"?3:R[14]==="final-wheel"?4:-1}return~(g=F(i))&&(p=I[g]=P[g](i)),{c(){t=G("div"),n=G("img"),o=ce(),A&&A.c(),u=ce(),d.c(),h=ce(),p&&p.c(),v=ce(),this.h()},l(R){t=q(R,"DIV",{class:!0,id:!0});var z=K(t);n=q(z,"IMG",{src:!0,class:!0}),o=fe(z),A&&A.l(z),u=fe(z),d.l(z),h=fe(z),p&&p.l(z),v=fe(z),z.forEach(C),this.h()},h(){dt(n.src,s=`assets/img/panels/${i[16]}.png`)||S(n,"src",s),S(n,"class","full-panel svelte-rykcxq"),S(t,"class","step svelte-rykcxq"),S(t,"id",y=i[14]),Ge(t,"visible",i[3])},m(R,z){oe(R,t,z),N(t,n),N(t,o),A&&A.m(t,null),N(t,u),E[c].m(t,null),N(t,h),~g&&I[g].m(t,null),N(t,v),k=!0},p(R,z){(!k||z&2&&!dt(n.src,s=`assets/img/panels/${R[16]}.png`))&&S(n,"src",s),z&2&&(a=R[5].includes(R[14])),a?A?A.p(R,z):(A=Yc(R),A.c(),A.m(t,u)):A&&(A.d(1),A=null);let M=c;c=T(R),c===M?E[c].p(R,z):($t(),le(E[M],1,1,()=>{E[M]=null}),Dt(),d=E[c],d?d.p(R,z):(d=E[c]=x[c](R),d.c()),re(d,1),d.m(t,h));let W=g;g=F(R),g!==W&&(p&&($t(),le(I[W],1,1,()=>{I[W]=null}),Dt()),~g?(p=I[g],p||(p=I[g]=P[g](R),p.c()),re(p,1),p.m(t,v)):p=null),(!k||z&2&&y!==(y=R[14]))&&S(t,"id",y),(!k||z&8)&&Ge(t,"visible",R[3])},i(R){k||(re(d),re(p),k=!0)},o(R){le(d),le(p),k=!1},d(R){R&&C(t),A&&A.d(),E[c].d(),~g&&I[g].d()}}}function j2(i){let t,n,s=i[1],o=[];for(let u=0;u<s.length;u+=1)o[u]=Zc(Kc(i,s,u));const a=u=>le(o[u],1,1,()=>{o[u]=null});return{c(){for(let u=0;u<o.length;u+=1)o[u].c();t=$n()},l(u){for(let c=0;c<o.length;c+=1)o[c].l(u);t=$n()},m(u,c){for(let d=0;d<o.length;d+=1)o[d].m(u,c);oe(u,t,c),n=!0},p(u,c){if(c&62){s=u[1];let d;for(d=0;d<s.length;d+=1){const h=Kc(u,s,d);o[d]?(o[d].p(h,c),re(o[d],1)):(o[d]=Zc(h),o[d].c(),re(o[d],1),o[d].m(t.parentNode,t))}for($t(),d=s.length;d<o.length;d+=1)a(d);Dt()}},i(u){if(!n){for(let c=0;c<s.length;c+=1)re(o[c]);n=!0}},o(u){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)le(o[c]);n=!1},d(u){tn(o,u),u&&C(t)}}}function W2(i){let t,n,s;function o(u){i[11](u)}let a={$$slots:{default:[j2]},$$scope:{ctx:i}};return i[2]!==void 0&&(a.value=i[2]),t=new z1({props:a}),yt.push(()=>kr(t,"value",o)),i[12](t),{c(){Oe(t.$$.fragment)},l(u){Re(t.$$.fragment,u)},m(u,c){Me(t,u,c),s=!0},p(u,[c]){const d={};c&524302&&(d.$$scope={dirty:c,ctx:u}),!n&&c&4&&(n=!0,d.value=u[2],Ir(()=>n=!1)),t.$set(d)},i(u){s||(re(t.$$.fragment,u),s=!0)},o(u){le(t.$$.fragment,u),s=!1},d(u){i[12](null),Le(t,u)}}}function H2(i,t,n){let s,o,a,u,c,d,h,g;ye(i,br,E=>n(8,u=E)),ye(i,Xn,E=>n(9,c=E)),ye(i,wr,E=>n(10,d=E)),ye(i,ss,E=>n(2,h=E)),ye(i,Qr,E=>n(3,g=E));let p;const v=async()=>{await Iv(),p.refreshNodes(a)},y=["survey-words","survey-color","survey-body","try-wheel","granularity","color","body","fascinating","brene","final-wheel","visual-language","gallery","closing"],k=["core","body-color"];function A(E){h=E,ss.set(h)}function x(E){yt[E?"unshift":"push"](()=>{p=E,n(0,p)})}return i.$$.update=()=>{i.$$.dirty&1792&&n(7,s=d?c.length<=0?"survey-words":u.length<=0?"survey-color":null:"survey-basic"),i.$$.dirty&128&&n(6,o=s?qt.steps.findIndex(E=>E.id===s)+1:qt.steps.length),i.$$.dirty&64&&n(1,a=qt.steps.map((E,T)=>({...E,i:T})).slice(0,o)),i.$$.dirty&3&&p&&v()},[p,a,h,g,y,k,o,s,u,c,d,A,x]}class G2 extends Ve{constructor(t){super(),Je(this,t,H2,W2,Ke,{})}}const q2=uf(0,i=>{let t=!1,n=0;const s=()=>{i(n),t=!1},o=()=>{n=document.querySelector("div.everything").scrollLeft,t||(requestAnimationFrame(s),t=!0)};{const a=document.querySelector("div.everything");a&&a.addEventListener("scroll",o)}return()=>{{const a=document.querySelector("div.everything");a&&a.removeEventListener("scroll",o)}}});function Xc(i,t,n){const s=i.slice();s[21]=t[n],s[25]=n;const o=s[21].name==="source"?0:1;s[22]=o;const a=s[2][s[25]-1]?s[2][s[25]-1]:s[6]?s[6]:"";return s[23]=a,s}function Qc(i,t,n){const s=i.slice();return s[26]=t[n],s}function ef(i){let t;return{c(){t=je("line"),this.h()},l(n){t=We(n,"line",{stroke:!0}),K(t).forEach(C),this.h()},h(){S(t,"stroke","darkgrey")},m(n,s){oe(n,t,s)},p:we,d(n){n&&C(t)}}}function tf(i){let t,n=i[23]+"",s,o,a;return{c(){t=je("text"),s=xe(n),this.h()},l(u){t=We(u,"text",{class:!0});var c=K(t);s=Ae(c,n),c.forEach(C),this.h()},h(){S(t,"class","label svelte-1g6a8ym")},m(u,c){oe(u,t,c),N(t,s),a=!0},p(u,c){(!a||c&68)&&n!==(n=u[23]+"")&&cn(s,n)},i(u){a||(xr(()=>{o||(o=rs(t,os,{},!0)),o.run(1)}),a=!0)},o(u){o||(o=rs(t,os,{},!1)),o.run(0),a=!1},d(u){u&&C(t),u&&o&&o.end()}}}function nf(i){let t,n,s,o,a,u,c=i[23]!==""&&tf(i);return{c(){t=je("g"),n=je("polygon"),s=je("ellipse"),c&&c.c(),this.h()},l(d){t=We(d,"g",{class:!0,opacity:!0});var h=K(t);n=We(h,"polygon",{points:!0,class:!0,fill:!0,opacity:!0}),K(n).forEach(C),s=We(h,"ellipse",{class:!0,rx:!0,ry:!0,fill:!0,filter:!0}),K(s).forEach(C),c&&c.l(h),h.forEach(C),this.h()},h(){S(n,"points",`0,${i[7]+2} -3,${i[7]+8} 3,${i[7]+8}`),S(n,"class","triangle"),S(n,"fill",Zn.color["grey-balloon"]),S(n,"opacity",.75),S(s,"class",o=i[21].name==="source"?"source":"balloon"),S(s,"rx",i[7]),S(s,"ry",i[7]*1.2),S(s,"fill",Zn.color["grey-balloon"]),S(s,"filter","url(#inset-shadow)"),S(t,"class","node"),S(t,"opacity",a=i[22])},m(d,h){oe(d,t,h),N(t,n),N(t,s),c&&c.m(t,null),u=!0},p(d,h){(!u||h&2&&o!==(o=d[21].name==="source"?"source":"balloon"))&&S(s,"class",o),d[23]!==""?c?(c.p(d,h),h&68&&re(c,1)):(c=tf(d),c.c(),re(c,1),c.m(t,null)):c&&($t(),le(c,1,1,()=>{c=null}),Dt()),(!u||h&2&&a!==(a=d[22]))&&S(t,"opacity",a)},i(d){u||(re(c),u=!0)},o(d){le(c),u=!1},d(d){d&&C(t),c&&c.d()}}}function V2(i){let t,n,s,o,a,u,c,d,h,g,p,v,y,k,A,x,E,T,P=i[0],I=[];for(let M=0;M<P.length;M+=1)I[M]=ef(Qc(i,P,M));let F=i[1],R=[];for(let M=0;M<F.length;M+=1)R[M]=nf(Xc(i,F,M));const z=M=>le(R[M],1,1,()=>{R[M]=null});return{c(){t=G("img"),s=ce(),o=je("svg"),a=je("filter"),u=je("feComponentTransfer"),c=je("feFuncA"),d=je("feGaussianBlur"),h=je("feOffset"),g=je("feFlood"),p=je("feComposite"),v=je("feComposite"),y=je("feMerge"),k=je("feMergeNode"),A=je("feMergeNode"),x=je("g");for(let M=0;M<I.length;M+=1)I[M].c();E=je("g");for(let M=0;M<R.length;M+=1)R[M].c();this.h()},l(M){t=q(M,"IMG",{class:!0,src:!0}),s=fe(M),o=We(M,"svg",{id:!0,width:!0,height:!0,class:!0});var W=K(o);a=We(W,"filter",{id:!0,x:!0,y:!0,width:!0,height:!0});var V=K(a);u=We(V,"feComponentTransfer",{in:!0});var Z=K(u);c=We(Z,"feFuncA",{type:!0,tableValues:!0}),K(c).forEach(C),Z.forEach(C),d=We(V,"feGaussianBlur",{stdDeviation:!0}),K(d).forEach(C),h=We(V,"feOffset",{dx:!0,dy:!0,result:!0}),K(h).forEach(C),g=We(V,"feFlood",{"flood-color":!0,result:!0}),K(g).forEach(C),p=We(V,"feComposite",{in2:!0,operator:!0}),K(p).forEach(C),v=We(V,"feComposite",{in2:!0,operator:!0}),K(v).forEach(C),y=We(V,"feMerge",{});var ue=K(y);k=We(ue,"feMergeNode",{in:!0}),K(k).forEach(C),A=We(ue,"feMergeNode",{}),K(A).forEach(C),ue.forEach(C),V.forEach(C),x=We(W,"g",{class:!0});var ie=K(x);for(let $=0;$<I.length;$+=1)I[$].l(ie);ie.forEach(C),E=We(W,"g",{class:!0});var w=K(E);for(let $=0;$<R.length;$+=1)R[$].l(w);w.forEach(C),W.forEach(C),this.h()},h(){S(t,"class","character svelte-1g6a8ym"),dt(t.src,n="assets/img/wagon.png")||S(t,"src",n),Ge(t,"visible",i[4]),S(c,"type","table"),S(c,"tableValues","1 0"),S(u,"in","SourceAlpha"),S(d,"stdDeviation","4"),S(h,"dx","6"),S(h,"dy","-5"),S(h,"result","offsetblur"),S(g,"flood-color","rgb(0, 0, 0, 0.3)"),S(g,"result","color"),S(p,"in2","offsetblur"),S(p,"operator","in"),S(v,"in2","SourceAlpha"),S(v,"operator","in"),S(k,"in","SourceGraphic"),S(a,"id","inset-shadow"),S(a,"x","-50%"),S(a,"y","-50%"),S(a,"width","200%"),S(a,"height","200%"),S(x,"class","links"),S(E,"class","nodes"),S(o,"id","character-balloon-area"),S(o,"width",i[5]),S(o,"height",400),S(o,"class","svelte-1g6a8ym"),Ge(o,"visible",i[4])},m(M,W){oe(M,t,W),oe(M,s,W),oe(M,o,W),N(o,a),N(a,u),N(u,c),N(a,d),N(a,h),N(a,g),N(a,p),N(a,v),N(a,y),N(y,k),N(y,A),N(o,x);for(let V=0;V<I.length;V+=1)I[V].m(x,null);N(o,E);for(let V=0;V<R.length;V+=1)R[V].m(E,null);i[11](o),T=!0},p(M,[W]){if((!T||W&16)&&Ge(t,"visible",M[4]),W&1){P=M[0];let V;for(V=0;V<P.length;V+=1){const Z=Qc(M,P,V);I[V]?I[V].p(Z,W):(I[V]=ef(),I[V].c(),I[V].m(x,null))}for(;V<I.length;V+=1)I[V].d(1);I.length=P.length}if(W&198){F=M[1];let V;for(V=0;V<F.length;V+=1){const Z=Xc(M,F,V);R[V]?(R[V].p(Z,W),re(R[V],1)):(R[V]=nf(Z),R[V].c(),re(R[V],1),R[V].m(E,null))}for($t(),V=F.length;V<R.length;V+=1)z(V);Dt()}(!T||W&32)&&S(o,"width",M[5]),(!T||W&16)&&Ge(o,"visible",M[4])},i(M){if(!T){for(let W=0;W<F.length;W+=1)re(R[W]);T=!0}},o(M){R=R.filter(Boolean);for(let W=0;W<R.length;W+=1)le(R[W]);T=!1},d(M){M&&C(t),M&&C(s),M&&C(o),tn(I,M),tn(R,M),i[11](null)}}}function J2(i,t,n){let s,o,a,u,c,d,h,g,p,v,y;ye(i,q2,M=>n(9,c=M)),ye(i,br,M=>n(10,d=M)),ye(i,Xn,M=>n(2,h=M)),ye(i,Ov,M=>n(13,g=M)),ye(i,Qr,M=>n(4,p=M)),ye(i,qo,M=>n(5,v=M)),ye(i,wr,M=>n(6,y=M));let k;const A=g?12:20,x=g?65:98,E=g?350:278,T=g?75:150,P=async()=>{if(u){const M=o.find(W=>W.name==="source");M.fx=c+x}},I=()=>{d.length&&(lt(k).selectAll("ellipse").data(o).attr("fill",(M,W)=>M.name==="source"?null:d[W-1]?d[W-1]:Zn.color["grey-balloon"]),lt(k).selectAll("polygon").data(o).attr("fill",(M,W)=>M.name==="source"?null:d[W-1]?d[W-1]:Zn.color["grey-balloon"]),lt(k).selectAll("text").data(o).attr("fill",(M,W)=>{if(M.name==="source")return null;const V=d[W-1]?d[W-1]:Zn.color["grey-balloon"];return cs(V)}))},F=()=>{if(c&&u){const M=o.find(W=>W.name==="source");M.fx=c+x,u.alpha(.5).restart()}},R=()=>{lt(k).selectAll("line").data(a).attr("x1",M=>M.source.x).attr("y1",M=>M.source.y).attr("x2",M=>M.target.x).attr("y2",M=>M.target.y),lt(k).selectAll("g.node").data(o).attr("transform",M=>`translate(${M.x}, ${M.y})`)};function z(M){yt[M?"unshift":"push"](()=>{k=M,n(3,k)})}return i.$$.update=()=>{i.$$.dirty&4&&n(8,s=h.length>0?h.length:1),i.$$.dirty&256&&n(1,o=[{name:"source",fx:x,fy:E},...dc(s).map(M=>({name:M}))]),i.$$.dirty&256&&n(0,a=dc(s).map(M=>({source:0,target:M+1}))),i.$$.dirty&256&&P(),i.$$.dirty&1024&&I(),i.$$.dirty&512&&F(),i.$$.dirty&3&&(u=Mf(o).force("charge",Lf().strength(5)).force("collision",Of().radius(M=>A)).force("y",Cf().y(M=>M.name==="source"?500:0)).force("link",Rf().links(a).distance(M=>T)).on("tick",R))},[a,o,h,k,p,v,y,A,s,c,d,z]}class K2 extends Ve{constructor(t){super(),Je(this,t,J2,V2,Ke,{})}}const Y2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192.6 50"><path class="st0" d="M150.1 9.5c1.5 0 2.8 1.3 2.8 2.8s-1.3 2.8-2.8 2.8-2.8-1.3-2.8-2.8 1.3-2.8 2.8-2.8zM147.2 17.3h5.6v18.2h-5.6V17.3zM77.1 9.5h-8.9v26h5.6v-8.1h3.3c4.9 0 8.9-4 8.9-8.9s-3.9-9-8.9-9zm0 12.3h-3.3v-6.6h3.3c1.8 0 3.3 1.5 3.3 3.3s-1.4 3.3-3.3 3.3zM105.7 17.6h-5.6v8.9c0 1.8-1.5 3.3-3.3 3.3s-3.3-1.5-3.3-3.3v-8.9h-5.6v8.9c0 4.9 4 8.9 8.9 8.9s8.9-4 8.9-8.9v-8.9zM164.1 17.6c-4.9 0-8.9 4-8.9 8.9v8.9h5.6v-8.9c0-1.8 1.5-3.3 3.3-3.3s3.3 1.5 3.3 3.3v8.9h5.6v-8.9c0-4.9-4-8.9-8.9-8.9zM119.7 16.2v1.4h-3.3c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h8.9V9.5l-5.6 3.3v3.4zm.1 8.4V29.8h-3.3c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3v1.4zM139.3 16.2v1.4H136c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h8.9V9.5l-5.6 3.3v3.4zm.1 8.4V29.8H136c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3v1.4h.1zM183.7 17.6c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h3.3v5.1c0 1.8-1.5 3.3-3.3 3.3s-3.3-1.5-3.3-3.3V38l-5.6 3.3c.4 4.5 4.2 8.1 8.9 8.1 4.9 0 8.9-4 8.9-8.9V17.6h-8.9zm3.3 5.8V30h-3.3c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3zM28.6 17.6c-1.2 0-2.3.2-3.3.6V9.5l-5.6 3.3v22.6h5.6v-8.9c0-1.8 1.5-3.3 3.3-3.3s3.3 1.5 3.3 3.3v8.9h5.6v-8.9c0-4.9-4-8.9-8.9-8.9zM17.8 9.5H0v5.6h6.1v20.3h5.6V15.1h6.1V9.5zM48.3 30.2c-.4 0-1.2-.1-1.8-.4l5.2-2.1 5.6-2.3-1-2.3-.1-.2c-.1-.3-.3-.6-.5-1-.1-.1-.1-.2-.2-.3 0 0 0-.1-.1-.1l-.1-.1-.1-.1c-1.6-2.2-4-3.5-6.7-3.7h-.6c-4.9 0-8.9 4-8.9 8.9 0 .4 0 .9.1 1.4V28.2c0 .3.1.5.2.8v.2c.1.3.2.7.4 1v.2c.1.3.3.5.4.8 0 .1.1.1.1.2.1.2.3.4.4.6v.1s0 .1.1.1l.1.1c1.7 2.1 4.4 3.4 7.2 3.4h6.1v-5.2c.4-.3-3.5-.3-5.8-.3zm7.9-7.3zm-11.6 2.8l-.2.1c.2-1.9 1.8-3.5 3.7-3.5.9 0 1.8.4 2.4.9L46.2 25l-1.6.7z"/></svg>';function rf(i,t,n){const s=i.slice();return s[5]=t[n],s}function sf(i,t,n){const s=i.slice();return s[8]=t[n].hed,s[2]=t[n].url,s[9]=t[n].image,s}function of(i){let t,n,s,o,a,u,c=i[8]+"",d,h,g;return{c(){t=G("div"),n=G("a"),s=G("img"),a=ce(),u=G("span"),d=xe(c),g=ce(),this.h()},l(p){t=q(p,"DIV",{class:!0});var v=K(t);n=q(v,"A",{href:!0,class:!0});var y=K(n);s=q(y,"IMG",{src:!0,alt:!0}),a=fe(y),u=q(y,"SPAN",{class:!0});var k=K(u);d=Ae(k,c),k.forEach(C),y.forEach(C),g=fe(v),v.forEach(C),this.h()},h(){dt(s.src,o="https://pudding.cool/common/assets/thumbnails/640/"+i[9]+".jpg")||S(s,"src",o),S(s,"alt","thumbnail"),S(u,"class","svelte-1gi2agl"),S(n,"href",h="https://pudding.cool/"+i[2]),S(n,"class","svelte-1gi2agl"),S(t,"class","story svelte-1gi2agl")},m(p,v){oe(p,t,v),N(t,n),N(n,s),N(n,a),N(n,u),N(u,d),N(t,g)},p(p,v){v&1&&!dt(s.src,o="https://pudding.cool/common/assets/thumbnails/640/"+p[9]+".jpg")&&S(s,"src",o),v&1&&c!==(c=p[8]+"")&&cn(d,c),v&1&&h!==(h="https://pudding.cool/"+p[2])&&S(n,"href",h)},d(p){p&&C(t)}}}function lf(i){let t,n,s,o=i[5].name.toUpperCase()+"",a,u;return{c(){t=G("li"),n=G("a"),s=G("span"),a=xe(o),u=ce(),this.h()},l(c){t=q(c,"LI",{class:!0});var d=K(t);n=q(d,"A",{href:!0,class:!0});var h=K(n);s=q(h,"SPAN",{class:!0});var g=K(s);a=Ae(g,o),g.forEach(C),h.forEach(C),u=fe(d),d.forEach(C),this.h()},h(){S(s,"class","svelte-1gi2agl"),S(n,"href",i[5].url),S(n,"class","svelte-1gi2agl"),S(t,"class","svelte-1gi2agl")},m(c,d){oe(c,t,d),N(t,n),N(n,s),N(s,a),N(t,u)},p:we,d(c){c&&C(t)}}}function Z2(i){let t,n,s,o,a,u,c,d,h,g,p,v,y,k=i[0],A=[];for(let T=0;T<k.length;T+=1)A[T]=of(sf(i,k,T));let x=i[1],E=[];for(let T=0;T<x.length;T+=1)E[T]=lf(rf(i,x,T));return{c(){t=G("footer"),n=G("section");for(let T=0;T<A.length;T+=1)A[T].c();s=ce(),o=G("section"),a=G("div"),u=ce(),c=G("p"),d=G("a"),h=xe("The Pudding"),g=xe(`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),p=ce(),v=G("section"),y=G("ul");for(let T=0;T<E.length;T+=1)E[T].c();this.h()},l(T){t=q(T,"FOOTER",{class:!0});var P=K(t);n=q(P,"SECTION",{class:!0});var I=K(n);for(let Z=0;Z<A.length;Z+=1)A[Z].l(I);I.forEach(C),s=fe(P),o=q(P,"SECTION",{class:!0});var F=K(o);a=q(F,"DIV",{class:!0});var R=K(a);R.forEach(C),u=fe(F),c=q(F,"P",{});var z=K(c);d=q(z,"A",{href:!0});var M=K(d);h=Ae(M,"The Pudding"),M.forEach(C),g=Ae(z,`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),z.forEach(C),F.forEach(C),p=fe(P),v=q(P,"SECTION",{class:!0});var W=K(v);y=q(W,"UL",{class:!0});var V=K(y);for(let Z=0;Z<E.length;Z+=1)E[Z].l(V);V.forEach(C),W.forEach(C),P.forEach(C),this.h()},h(){S(n,"class","stories svelte-1gi2agl"),S(a,"class","wordmark svelte-1gi2agl"),S(d,"href","https://pudding.cool"),S(o,"class","about svelte-1gi2agl"),S(y,"class","svelte-1gi2agl"),S(v,"class","links svelte-1gi2agl"),S(t,"class","svelte-1gi2agl")},m(T,P){oe(T,t,P),N(t,n);for(let I=0;I<A.length;I+=1)A[I].m(n,null);N(t,s),N(t,o),N(o,a),a.innerHTML=Y2,N(o,u),N(o,c),N(c,d),N(d,h),N(c,g),N(t,p),N(t,v),N(v,y);for(let I=0;I<E.length;I+=1)E[I].m(y,null)},p(T,[P]){if(P&1){k=T[0];let I;for(I=0;I<k.length;I+=1){const F=sf(T,k,I);A[I]?A[I].p(F,P):(A[I]=of(F),A[I].c(),A[I].m(n,null))}for(;I<A.length;I+=1)A[I].d(1);A.length=k.length}if(P&2){x=T[1];let I;for(I=0;I<x.length;I+=1){const F=rf(T,x,I);E[I]?E[I].p(F,P):(E[I]=lf(F),E[I].c(),E[I].m(y,null))}for(;I<E.length;I+=1)E[I].d(1);E.length=x.length}},i:we,o:we,d(T){T&&C(t),tn(A,T),tn(E,T)}}}function X2(i,t,n){let s,o=[];const u=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,c=[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"https://thepuddingmail.substack.com"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}];return ri(async()=>{s=window.location.href;const h=await(await fetch(u)).json();n(0,o=h.filter(g=>!s.includes(g.url)).slice(0,4))}),[o,c,u]}class Q2 extends Ve{constructor(t){super(),Je(this,t,X2,Z2,Ke,{})}}function eE(i){let t,n,s,o,a,u,c,d,h,g,p,v,y;function k(E){i[15](E)}let A={scrollMax:sl};i[0]!==void 0&&(A.scrolled=i[0]),n=new B1({props:A}),yt.push(()=>kr(n,"scrolled",k)),u=new K2({props:{scrollLeft:i[1]?i[1].scrollLeft:0}}),d=new G2({});let x=i[5]&&af();return{c(){t=G("div"),Oe(n.$$.fragment),o=ce(),a=G("div"),Oe(u.$$.fragment),c=ce(),Oe(d.$$.fragment),h=ce(),x&&x.c(),this.h()},l(E){t=q(E,"DIV",{class:!0,style:!0});var T=K(t);Re(n.$$.fragment,T),o=fe(T),a=q(T,"DIV",{class:!0});var P=K(a);Re(u.$$.fragment,P),c=fe(P),Re(d.$$.fragment,P),P.forEach(C),h=fe(T),x&&x.l(T),T.forEach(C),this.h()},h(){S(a,"class","world svelte-si6mxh"),S(t,"class","everything svelte-si6mxh"),S(t,"style",g=`--height: ${i[3]}px; --backgroundColor: ${i[7]}; background-image: url(${i[4]})`)},m(E,T){oe(E,t,T),Me(n,t,null),N(t,o),N(t,a),Me(u,a,null),N(a,c),Me(d,a,null),N(t,h),x&&x.m(t,null),i[16](t),p=!0,v||(y=Fe(t,"mousewheel",Sv(i[8])),v=!0)},p(E,T){const P={};!s&&T&1&&(s=!0,P.scrolled=E[0],Ir(()=>s=!1)),n.$set(P);const I={};T&2&&(I.scrollLeft=E[1]?E[1].scrollLeft:0),u.$set(I),E[5]?x?T&32&&re(x,1):(x=af(),x.c(),re(x,1),x.m(t,null)):x&&($t(),le(x,1,1,()=>{x=null}),Dt()),(!p||T&152&&g!==(g=`--height: ${E[3]}px; --backgroundColor: ${E[7]}; background-image: url(${E[4]})`))&&S(t,"style",g)},i(E){p||(re(n.$$.fragment,E),re(u.$$.fragment,E),re(d.$$.fragment,E),re(x),p=!0)},o(E){le(n.$$.fragment,E),le(u.$$.fragment,E),le(d.$$.fragment,E),le(x),p=!1},d(E){E&&C(t),Le(n),Le(u),Le(d),x&&x.d(),i[16](null),v=!1,y()}}}function tE(i){let t,n;return t=new Kv({}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p:we,i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function af(i){let t,n;return t=new Q2({}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}function nE(i){let t,n,s=i[6]?"Mute":"Unmute",o,a,u,c,d,h,g,p,v,y,k;xr(i[13]);function A(I){i[14](I)}let x={label:"Text Version",style:"inner"};i[2]!==void 0&&(x.value=i[2]),u=new zv({props:x}),yt.push(()=>kr(u,"value",A));const E=[tE,eE],T=[];function P(I,F){return I[2]==="on"?0:1}return h=P(i),g=T[h]=E[h](i),{c(){t=G("div"),n=G("button"),o=xe(s),a=ce(),Oe(u.$$.fragment),d=ce(),g.c(),p=$n(),this.h()},l(I){t=q(I,"DIV",{class:!0});var F=K(t);n=q(F,"BUTTON",{class:!0});var R=K(n);o=Ae(R,s),R.forEach(C),a=fe(F),Re(u.$$.fragment,F),F.forEach(C),d=fe(I),g.l(I),p=$n(),this.h()},h(){S(n,"class","mute svelte-si6mxh"),S(t,"class","top-bar svelte-si6mxh")},m(I,F){oe(I,t,F),N(t,n),N(n,o),N(t,a),Me(u,t,null),oe(I,d,F),T[h].m(I,F),oe(I,p,F),v=!0,y||(k=[Fe(window,"resize",i[13]),Fe(n,"click",i[9])],y=!0)},p(I,[F]){(!v||F&64)&&s!==(s=I[6]?"Mute":"Unmute")&&cn(o,s);const R={};!c&&F&4&&(c=!0,R.value=I[2],Ir(()=>c=!1)),u.$set(R);let z=h;h=P(I),h===z?T[h].p(I,F):($t(),le(T[z],1,1,()=>{T[z]=null}),Dt(),g=T[h],g?g.p(I,F):(g=T[h]=E[h](I),g.c()),re(g,1),g.m(p.parentNode,p))},i(I){v||(re(u.$$.fragment,I),re(g),v=!0)},o(I){le(u.$$.fragment,I),le(g),v=!1},d(I){I&&C(t),Le(u),I&&C(d),T[h].d(I),I&&C(p),y=!1,Ar(k)}}}const sl=400;function rE(i,t,n){let s,o,a,u,c,d,h,g,p;ye(i,ei,R=>n(6,a=R)),ye(i,Qr,R=>n(17,u=R)),ye(i,Er,R=>n(18,c=R)),ye(i,br,R=>n(10,d=R)),ye(i,Xn,R=>n(11,h=R)),ye(i,wr,R=>n(12,g=R)),ye(i,Yr,R=>n(7,p=R));let v,y="off",k=0,A;const x=R=>{if(c)return;const z=u&&v.scrollLeft===0&&R.deltaY<0;!u||z?(R.deltaY>0&&k<sl||R.deltaY<0&&k>=0)&&n(0,k+=R.deltaY):n(1,v.scrollLeft+=R.deltaY,v)},E=()=>{an(ei,a=!a,a)};function T(){n(3,A=window.innerHeight)}function P(R){y=R,n(2,y)}function I(R){k=R,n(0,k)}function F(R){yt[R?"unshift":"push"](()=>{v=R,n(1,v)})}return i.$$.update=()=>{i.$$.dirty&1&&an(Qr,u=k>=sl,u),i.$$.dirty&7168&&n(5,s=g&&h.length>0&&d.length>0)},n(4,o=`${ol}/assets/img/bg.png`),[k,v,y,A,o,s,a,p,x,E,d,h,g,T,P,I,F]}class iE extends Ve{constructor(t){super(),Je(this,t,rE,nE,Ke,{})}}function sE(i){let t,n;return t=new iE({}),{c(){Oe(t.$$.fragment)},l(s){Re(t.$$.fragment,s)},m(s,o){Me(t,s,o),n=!0},p:we,i(s){n||(re(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Le(t,s)}}}class oE extends Ve{constructor(t){super(),Je(this,t,null,sE,Ke,{})}}function lE(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 4.2.1"),console.log("build: 2022-11-09-12:26"),console.log("--- --- --- --- --- ---")}function aE(i){let t,n,s,o;return t=new Bv({props:{title:i[1],description:i[2],url:i[3],preloadFont:i[0],keywords:i[4]}}),s=new oE({}),{c(){Oe(t.$$.fragment),n=ce(),Oe(s.$$.fragment)},l(a){Re(t.$$.fragment,a),n=fe(a),Re(s.$$.fragment,a)},m(a,u){Me(t,a,u),oe(a,n,u),Me(s,a,u),o=!0},p:we,i(a){o||(re(t.$$.fragment,a),re(s.$$.fragment,a),o=!0)},o(a){le(t.$$.fragment,a),le(s.$$.fragment,a),o=!1},d(a){Le(t,a),a&&C(n),Le(s,a)}}}function uE(i,t,n){let{data:s}=t;lE();const o=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:a,description:u,url:c,keywords:d}=qt;return rc("copy",qt),rc("data",s.data),i.$$set=h=>{"data"in h&&n(5,s=h.data)},[o,a,u,c,d,s]}class gE extends Ve{constructor(t){super(),Je(this,t,uE,aE,Ke,{data:5})}}export{gE as default};
