import{S as qe,i as Ve,s as Je,k as H,e as $n,M as mv,l as G,h as L,n as S,F as B,C as me,N as tn,b as ie,q as Te,a as ce,m as K,r as Ae,c as fe,O as Ne,u as En,P as vv,E as Ye,f as oe,g as Pt,t as le,d as $t,G as Se,H as cs,D as vt,Q as Qr,R as rs,I as yv,T as sa,J as wv,K as bv,L as Ev,o as ei,U as Dt,V as je,W as We,X as Qn,Y as oa,v as Re,w as Me,x as Le,y as Ce,Z as bn,_ as ti,$ as ni,a0 as Xu,p as yr,a1 as sf,a2 as xv,a3 as Qu}from"../../chunks/paths-50d1d316.js";import{e as Zr,v as qo,u as is,b as br,w as Xn,a as Vr,c as Er,s as xr,p as ec,i as Tv}from"../../chunks/misc-31799ac2.js";import{c as Av,i as Vo,a as tc,b as nc,d as kv,g as Iv,e as an,s as at,t as Sv,f as of,h as aa,T as Bo,j as Uo,k as la,C as Ov,I as Rv}from"../../chunks/Icon-a4d6c022.js";import{_ as ri}from"../../chunks/preload-helper-aa6bc0ce.js";import{r as Mv}from"../../chunks/index-0ff4f484.js";function Lv(i,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(i,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}function rc(i,t,n){const s=i.slice();return s[5]=t[n],s}function ic(i){let t,n;return{c(){t=H("link"),this.h()},l(s){t=G(s,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){S(t,"rel","preload"),S(t,"href",n=i[5]),S(t,"as","font"),S(t,"type","font/woff2"),S(t,"crossorigin","")},m(s,o){ie(s,t,o)},p(s,o){o&16&&n!==(n=s[5])&&S(t,"href",n)},d(s){s&&L(t)}}}function Cv(i){let t,n,s,o,l,u,c,d,h,g,p,y,m,E,T,A,x,k,R,O,C,j,z,P,q,Z;document.title=t=i[0];let X=i[4],ue=[];for(let re=0;re<X.length;re+=1)ue[re]=ic(rc(i,X,re));return{c(){n=H("meta"),s=H("meta"),o=H("meta"),l=H("meta"),u=H("meta"),c=H("meta"),d=H("meta"),h=H("meta"),g=H("meta"),p=H("meta"),m=H("meta"),E=H("meta"),T=H("meta"),A=H("meta"),x=H("meta"),k=H("meta"),R=H("meta"),O=H("meta"),C=H("meta"),z=H("meta"),P=H("link");for(let re=0;re<ue.length;re+=1)ue[re].c();Z=$n(),this.h()},l(re){const b=mv('[data-svelte="svelte-1htu80s"]',document.head);n=G(b,"META",{name:!0,content:!0}),s=G(b,"META",{name:!0,content:!0}),o=G(b,"META",{name:!0,content:!0}),l=G(b,"META",{property:!0,content:!0}),u=G(b,"META",{property:!0,content:!0}),c=G(b,"META",{property:!0,content:!0}),d=G(b,"META",{property:!0,content:!0}),h=G(b,"META",{property:!0,content:!0}),g=G(b,"META",{property:!0,content:!0}),p=G(b,"META",{property:!0,content:!0}),m=G(b,"META",{property:!0,content:!0}),E=G(b,"META",{property:!0,content:!0}),T=G(b,"META",{property:!0,content:!0}),A=G(b,"META",{name:!0,content:!0}),x=G(b,"META",{name:!0,content:!0}),k=G(b,"META",{name:!0,content:!0}),R=G(b,"META",{name:!0,content:!0}),O=G(b,"META",{name:!0,content:!0}),C=G(b,"META",{name:!0,content:!0}),z=G(b,"META",{name:!0,content:!0}),P=G(b,"LINK",{rel:!0,href:!0});for(let $=0;$<ue.length;$+=1)ue[$].l(b);Z=$n(),b.forEach(L),this.h()},h(){S(n,"name","description"),S(n,"content",i[1]),S(s,"name","author"),S(s,"content","The Pudding"),S(o,"name","news_keywords"),S(o,"content",i[3]),S(l,"property","og:title"),S(l,"content",i[0]),S(u,"property","og:site_name"),S(u,"content","The Pudding"),S(c,"property","og:url"),S(c,"content",i[2]),S(d,"property","og:description"),S(d,"content",i[1]),S(h,"property","og:type"),S(h,"content","article"),S(g,"property","og:locale"),S(g,"content","en_US"),S(p,"property","og:image"),S(p,"content",y=i[2]+"/assets/social-facebook.jpg"),S(m,"property","og:image:type"),S(m,"content","image/jpeg"),S(E,"property","og:image:width"),S(E,"content","1200"),S(T,"property","og:image:height"),S(T,"content","600"),S(A,"name","twitter:card"),S(A,"content","summary_large_image"),S(x,"name","twitter:site"),S(x,"content","https://pudding.cool"),S(k,"name","twitter:creator"),S(k,"content","@puddingviz"),S(R,"name","twitter:title"),S(R,"content",i[0]),S(O,"name","twitter:description"),S(O,"content",i[1]),S(C,"name","twitter:image:src"),S(C,"content",j=i[2]+"/assets/social-twitter.jpg"),S(z,"name","robots"),S(z,"content","max-image-preview:large"),S(P,"rel","canonical"),S(P,"href",q=i[2]+"/")},m(re,b){B(document.head,n),B(document.head,s),B(document.head,o),B(document.head,l),B(document.head,u),B(document.head,c),B(document.head,d),B(document.head,h),B(document.head,g),B(document.head,p),B(document.head,m),B(document.head,E),B(document.head,T),B(document.head,A),B(document.head,x),B(document.head,k),B(document.head,R),B(document.head,O),B(document.head,C),B(document.head,z),B(document.head,P);for(let $=0;$<ue.length;$+=1)ue[$].m(document.head,null);B(document.head,Z)},p(re,[b]){if(b&1&&t!==(t=re[0])&&(document.title=t),b&2&&S(n,"content",re[1]),b&8&&S(o,"content",re[3]),b&1&&S(l,"content",re[0]),b&4&&S(c,"content",re[2]),b&2&&S(d,"content",re[1]),b&4&&y!==(y=re[2]+"/assets/social-facebook.jpg")&&S(p,"content",y),b&1&&S(R,"content",re[0]),b&2&&S(O,"content",re[1]),b&4&&j!==(j=re[2]+"/assets/social-twitter.jpg")&&S(C,"content",j),b&4&&q!==(q=re[2]+"/")&&S(P,"href",q),b&16){X=re[4];let $;for($=0;$<X.length;$+=1){const U=rc(re,X,$);ue[$]?ue[$].p(U,b):(ue[$]=ic(U),ue[$].c(),ue[$].m(Z.parentNode,Z))}for(;$<ue.length;$+=1)ue[$].d(1);ue.length=X.length}},i:me,o:me,d(re){L(n),L(s),L(o),L(l),L(u),L(c),L(d),L(h),L(g),L(p),L(m),L(E),L(T),L(A),L(x),L(k),L(R),L(O),L(C),L(z),L(P),tn(ue,re),L(Z)}}}function Pv(i,t,n){let{title:s="Title TK"}=t,{description:o="Description TK"}=t,{url:l="https://pudding.cool"}=t,{keywords:u=""}=t,{preloadFont:c=[]}=t;return i.$$set=d=>{"title"in d&&n(0,s=d.title),"description"in d&&n(1,o=d.description),"url"in d&&n(2,l=d.url),"keywords"in d&&n(3,u=d.keywords),"preloadFont"in d&&n(4,c=d.preloadFont)},[s,o,l,u,c]}class $v extends qe{constructor(t){super(),Ve(this,t,Pv,Cv,Je,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function sc(i){let t,n=i[2][0]+"",s,o,l,u=i[2][1]+"",c;return{c(){t=H("span"),s=Te(n),o=ce(),l=H("span"),c=Te(u),this.h()},l(d){t=G(d,"SPAN",{class:!0});var h=K(t);s=Ae(h,n),h.forEach(L),o=fe(d),l=G(d,"SPAN",{class:!0});var g=K(l);c=Ae(g,u),g.forEach(L),this.h()},h(){S(t,"class","svelte-157h5as"),S(l,"class","svelte-157h5as")},m(d,h){ie(d,t,h),B(t,s),ie(d,o,h),ie(d,l,h),B(l,c)},p(d,h){h&4&&n!==(n=d[2][0]+"")&&En(s,n),h&4&&u!==(u=d[2][1]+"")&&En(c,u)},d(d){d&&L(t),d&&L(o),d&&L(l)}}}function Dv(i){let t,n,s,o,l,u,c,d,h=i[1]==="inner"&&sc(i);return{c(){t=H("div"),n=H("span"),s=Te(i[0]),o=ce(),l=H("button"),h&&h.c(),this.h()},l(g){t=G(g,"DIV",{class:!0});var p=K(t);n=G(p,"SPAN",{class:!0,id:!0});var y=K(n);s=Ae(y,i[0]),y.forEach(L),o=fe(p),l=G(p,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var m=K(l);h&&h.l(m),m.forEach(L),p.forEach(L),this.h()},h(){S(n,"class","label svelte-157h5as"),S(n,"id",i[4]),S(l,"role","switch"),S(l,"aria-checked",i[3]),S(l,"aria-labelledby",i[4]),S(l,"class","svelte-157h5as"),S(t,"class",u="toggle toggle--"+i[1]+" svelte-157h5as")},m(g,p){ie(g,t,p),B(t,n),B(n,s),B(t,o),B(t,l),h&&h.m(l,null),c||(d=Ne(l,"click",i[5]),c=!0)},p(g,[p]){p&1&&En(s,g[0]),g[1]==="inner"?h?h.p(g,p):(h=sc(g),h.c(),h.m(l,null)):h&&(h.d(1),h=null),p&8&&S(l,"aria-checked",g[3]),p&2&&u!==(u="toggle toggle--"+g[1]+" svelte-157h5as")&&S(t,"class",u)},i:me,o:me,d(g){g&&L(t),h&&h.d(),c=!1,d()}}}function Nv(i,t,n){let{label:s}=t,{style:o="inner"}=t,{options:l=["on","off"]}=t,{value:u=l[0]}=t,c=u===l[0];const d=`toggle-${Math.floor(Math.random()*1e6)}`,h=g=>{const y=g.target.getAttribute("aria-checked");n(3,c=y!=="true"),n(6,u=c?l[0]:l[1])};return i.$$set=g=>{"label"in g&&n(0,s=g.label),"style"in g&&n(1,o=g.style),"options"in g&&n(2,l=g.options),"value"in g&&n(6,u=g.value)},[s,o,l,c,d,h,u]}class Bv extends qe{constructor(t){super(),Ve(this,t,Nv,Dv,Je,{label:0,style:1,options:2,value:6})}}const Uv="Title tk",Fv="Description Tk",zv="https://pudding.cool/2022/11/emotion-wheel",jv="By <a href=# target=_blank>Abby VanMuijen</a> and <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",Wv=[{id:"survey-basic"},{id:"show-you",text:["This is a story about emotions. Can I show you what I\u2019ve been learning?","Up until recently, I would always answer that question (\u201Chow are you doing?\u201D) with one of those 3 options."]},{id:"change",text:["But then that started to change."]},{id:"depression-anxiety",text:["I started to experience panic attacks, self harm, depression, and anxiety."]},{id:"therapy",text:["So I got my butt into therapy (where they don't let you off the hook with answers like this...)."]},{id:"try-wheel",text:['My therapist suggested I use a feelings wheel to help improve my "emotional vocabulary."',"I could choose words from the wheel to be more specific about how I was feeling and give that feeling a name."]},{id:"survey-words"},{id:"granularity",text:[`This kind of specificity of emotional vocabulary is what Susan David calls <a href="https://resources.soundstrue.com/transcript/susan-david-emotional-agility/" target="_blank">"emotional granularity."</a> When we can identify what we're feeling, we can identify what our body is telling us it needs. Pretty cool, eh?`]},{id:"color",text:["The other thing I thought was interesting about the wheel was that it organized the feelings by color and category. Although I didn't quite like the colors and categories on the wheels I found...","Colors can have very strong emotional associations - but they're different for everyone."]},{id:"survey-color"},{id:"blocks",text:["I started to do this every day - I'd write the words I was feeling and the color I associated with that feeling."]},{id:"inside-out",text:['I found a lot of my associations lined up with the colors & character designs from "Inside Out" - and studied their process.']},{id:"core",text:["It turns out, most scientists agree, there are at least 5 core emotions that track back to the way our bodies intuitively communicate our needs before we have language."]},{id:"fascinating",text:["FASCINATING."]},{id:"body",text:["So I added a new element to my practice - tracking how feelings showed up in my body and facial expressions.","When I feel frustrated, it looks like this:"]},{id:"survey-body"},{id:"body-color",text:["I started to notice some patterns in how the colors I was using lined up with how and where the feelings showed up in my body\u2026 there\u2019s so much here!"]},{id:"brene",text:["Bren\xE9 Brown says there are as many theories on emotions as there are emotions researchers - which seems right to me.","And while I'm more of an artist than a researcher, this work has helped me very deeply."]},{id:"final-wheel",text:["I ended up turning all of this into my own emotion wheel, and have used the <strong>words</strong>, the <strong>colors</strong>, and the <strong>somatic mapping</strong> to build a more visual vocabulary to understand and express how I'm doing each day and what I maybe needing to experience more joy (satisfied needs) in my life."]},{id:"needs-1",text:["I could no longer answer the question \u201Chow are you doing?\u201D the same way."]},{id:"needs-2",text:["In difficult moments, I had learned how to pause\u2026 and ask what word is this? What color is it? Where is the feeling manifesting? What is my body telling me it needs?"]},{id:"needs-3",text:["When I can identify my feelings, I can identify my needs. When I can identify my needs, I can take care of myself and ask those who care for me for help."]},{id:"visual-language",text:["And to keep on digging into different visual language for some of my toughest emotional experiences.","If you\u2019re interested in seeing some more of those drawings\u2013 check out these other rabbit holes: (they\u2019re juicy, promise!)"]},{id:"gallery"},{id:"closing",text:["Thanks for making it all the way to the end! Look how far we\u2019ve come! (show us from the beginning and one concrete sentence about how we now have visual language hooray!)","If you\u2019re interested in digging deeper, here are some of the resources that inspired me in this work."]}],qt={title:Uv,description:Fv,url:zv,byline:jv,steps:Wv};function oc(i,t,n){const s=i.slice();return s[1]=t[n],s}function ac(i,t,n){const s=i.slice();return s[4]=t[n],s}function lc(i){let t,n=i[4]+"";return{c(){t=H("p")},l(s){t=G(s,"P",{});var o=K(t);o.forEach(L)},m(s,o){ie(s,t,o),t.innerHTML=n},p:me,d(s){s&&L(t)}}}function uc(i){let t,n=i[1].text,s=[];for(let o=0;o<n.length;o+=1)s[o]=lc(ac(i,n,o));return{c(){for(let o=0;o<s.length;o+=1)s[o].c();t=$n()},l(o){for(let l=0;l<s.length;l+=1)s[l].l(o);t=$n()},m(o,l){for(let u=0;u<s.length;u+=1)s[u].m(o,l);ie(o,t,l)},p(o,l){if(l&1){n=o[1].text;let u;for(u=0;u<n.length;u+=1){const c=ac(o,n,u);s[u]?s[u].p(c,l):(s[u]=lc(c),s[u].c(),s[u].m(t.parentNode,t))}for(;u<s.length;u+=1)s[u].d(1);s.length=n.length}},d(o){tn(s,o),o&&L(t)}}}function Hv(i){let t,n,s=qt.title+"",o,l,u=qt.description+"",c,d,h=qt.byline+"",g,p=i[0],y=[];for(let m=0;m<p.length;m+=1)y[m]=uc(oc(i,p,m));return{c(){t=H("div"),n=H("h1"),o=ce(),l=H("div"),c=ce(),d=H("div"),g=ce();for(let m=0;m<y.length;m+=1)y[m].c();this.h()},l(m){t=G(m,"DIV",{class:!0});var E=K(t);n=G(E,"H1",{});var T=K(n);T.forEach(L),o=fe(E),l=G(E,"DIV",{});var A=K(l);A.forEach(L),c=fe(E),d=G(E,"DIV",{});var x=K(d);x.forEach(L),g=fe(E);for(let k=0;k<y.length;k+=1)y[k].l(E);E.forEach(L),this.h()},h(){S(t,"class","wrapper svelte-odmr0s")},m(m,E){ie(m,t,E),B(t,n),n.innerHTML=s,B(t,o),B(t,l),l.innerHTML=u,B(t,c),B(t,d),d.innerHTML=h,B(t,g);for(let T=0;T<y.length;T+=1)y[T].m(t,null)},p(m,[E]){if(E&1){p=m[0];let T;for(T=0;T<p.length;T+=1){const A=oc(m,p,T);y[T]?y[T].p(A,E):(y[T]=uc(A),y[T].c(),y[T].m(t,null))}for(;T<y.length;T+=1)y[T].d(1);y.length=p.length}},i:me,o:me,d(m){m&&L(t),tn(y,m)}}}function Gv(i){return[qt.steps.filter(n=>n.text)]}class qv extends qe{constructor(t){super(),Ve(this,t,Gv,Hv,Je,{})}}function ss(i,{delay:t=0,duration:n=400,easing:s=vv}={}){const o=+getComputedStyle(i).opacity;return{delay:t,duration:n,easing:s,css:l=>`opacity: ${l*o}`}}function ts(i,t){return i==null||t==null?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function Vv(i,t){return i==null||t==null?NaN:t<i?-1:t>i?1:t>=i?0:NaN}function af(i){let t,n,s;i.length!==2?(t=ts,n=(c,d)=>ts(i(c),d),s=(c,d)=>i(c)-d):(t=i===ts||i===Vv?i:Jv,n=i,s=i);function o(c,d,h=0,g=c.length){if(h<g){if(t(d,d)!==0)return g;do{const p=h+g>>>1;n(c[p],d)<0?h=p+1:g=p}while(h<g)}return h}function l(c,d,h=0,g=c.length){if(h<g){if(t(d,d)!==0)return g;do{const p=h+g>>>1;n(c[p],d)<=0?h=p+1:g=p}while(h<g)}return h}function u(c,d,h=0,g=c.length){const p=o(c,d,h,g-1);return p>h&&s(c[p-1],d)>-s(c[p],d)?p-1:p}return{left:o,center:u,right:l}}function Jv(){return 0}function Kv(i){return i===null?NaN:+i}const Zv=af(ts),Yv=Zv.right;af(Kv).center;const Xv=Yv;var Jo=Math.sqrt(50),Ko=Math.sqrt(10),Zo=Math.sqrt(2);function Qv(i,t,n){var s,o=-1,l,u,c;if(t=+t,i=+i,n=+n,i===t&&n>0)return[i];if((s=t<i)&&(l=i,i=t,t=l),(c=lf(i,t,n))===0||!isFinite(c))return[];if(c>0){let d=Math.round(i/c),h=Math.round(t/c);for(d*c<i&&++d,h*c>t&&--h,u=new Array(l=h-d+1);++o<l;)u[o]=(d+o)*c}else{c=-c;let d=Math.round(i*c),h=Math.round(t*c);for(d/c<i&&++d,h/c>t&&--h,u=new Array(l=h-d+1);++o<l;)u[o]=(d+o)/c}return s&&u.reverse(),u}function lf(i,t,n){var s=(t-i)/Math.max(0,n),o=Math.floor(Math.log(s)/Math.LN10),l=s/Math.pow(10,o);return o>=0?(l>=Jo?10:l>=Ko?5:l>=Zo?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(l>=Jo?10:l>=Ko?5:l>=Zo?2:1)}function e1(i,t,n){var s=Math.abs(t-i)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),l=s/o;return l>=Jo?o*=10:l>=Ko?o*=5:l>=Zo&&(o*=2),t<i?-o:o}function cc(i,t,n){i=+i,t=+t,n=(o=arguments.length)<2?(t=i,i=0,1):o<3?1:+n;for(var s=-1,o=Math.max(0,Math.ceil((t-i)/n))|0,l=new Array(o);++s<o;)l[s]=i+s*n;return l}function t1(i,t){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(t).domain(i);break}return this}function n1(i,t){t||(t=[]);var n=i?Math.min(t.length,i.length):0,s=t.slice(),o;return function(l){for(o=0;o<n;++o)s[o]=i[o]*(1-l)+t[o]*l;return s}}function r1(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function i1(i,t){var n=t?t.length:0,s=i?Math.min(n,i.length):0,o=new Array(s),l=new Array(n),u;for(u=0;u<s;++u)o[u]=ua(i[u],t[u]);for(;u<n;++u)l[u]=t[u];return function(c){for(u=0;u<s;++u)l[u]=o[u](c);return l}}function s1(i,t){var n=new Date;return i=+i,t=+t,function(s){return n.setTime(i*(1-s)+t*s),n}}function o1(i,t){var n={},s={},o;(i===null||typeof i!="object")&&(i={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in i?n[o]=ua(i[o],t[o]):s[o]=t[o];return function(l){for(o in n)s[o]=n[o](l);return s}}function ua(i,t){var n=typeof t,s;return t==null||n==="boolean"?Av(t):(n==="number"?Vo:n==="string"?(s=tc(t))?(t=s,nc):kv:t instanceof tc?nc:t instanceof Date?s1:r1(t)?n1:Array.isArray(t)?i1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?o1:Vo)(i,t)}function a1(i,t){return i=+i,t=+t,function(n){return Math.round(i*(1-n)+t*n)}}var l1=1e-12;function fc(i){return((i=Math.exp(i))+1/i)/2}function u1(i){return((i=Math.exp(i))-1/i)/2}function c1(i){return((i=Math.exp(2*i))-1)/(i+1)}const f1=function i(t,n,s){function o(l,u){var c=l[0],d=l[1],h=l[2],g=u[0],p=u[1],y=u[2],m=g-c,E=p-d,T=m*m+E*E,A,x;if(T<l1)x=Math.log(y/h)/t,A=function(z){return[c+z*m,d+z*E,h*Math.exp(t*z*x)]};else{var k=Math.sqrt(T),R=(y*y-h*h+s*T)/(2*h*n*k),O=(y*y-h*h-s*T)/(2*y*n*k),C=Math.log(Math.sqrt(R*R+1)-R),j=Math.log(Math.sqrt(O*O+1)-O);x=(j-C)/t,A=function(z){var P=z*x,q=fc(C),Z=h/(n*k)*(q*c1(t*P+C)-u1(C));return[c+Z*m,d+Z*E,h*q/fc(t*P+C)]}}return A.duration=x*1e3*t/Math.SQRT2,A}return o.rho=function(l){var u=Math.max(.001,+l),c=u*u,d=c*c;return i(u,c,d)},o}(Math.SQRT2,2,4);function h1(i){return function(){return i}}function d1(i){return+i}var hc=[0,1];function wr(i){return i}function Yo(i,t){return(t-=i=+i)?function(n){return(n-i)/t}:h1(isNaN(t)?NaN:.5)}function g1(i,t){var n;return i>t&&(n=i,i=t,t=n),function(s){return Math.max(i,Math.min(t,s))}}function p1(i,t,n){var s=i[0],o=i[1],l=t[0],u=t[1];return o<s?(s=Yo(o,s),l=n(u,l)):(s=Yo(s,o),l=n(l,u)),function(c){return l(s(c))}}function _1(i,t,n){var s=Math.min(i.length,t.length)-1,o=new Array(s),l=new Array(s),u=-1;for(i[s]<i[0]&&(i=i.slice().reverse(),t=t.slice().reverse());++u<s;)o[u]=Yo(i[u],i[u+1]),l[u]=n(t[u],t[u+1]);return function(c){var d=Xv(i,c,1,s)-1;return l[d](o[d](c))}}function m1(i,t){return t.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function v1(){var i=hc,t=hc,n=ua,s,o,l,u=wr,c,d,h;function g(){var y=Math.min(i.length,t.length);return u!==wr&&(u=g1(i[0],i[y-1])),c=y>2?_1:p1,d=h=null,p}function p(y){return y==null||isNaN(y=+y)?l:(d||(d=c(i.map(s),t,n)))(s(u(y)))}return p.invert=function(y){return u(o((h||(h=c(t,i.map(s),Vo)))(y)))},p.domain=function(y){return arguments.length?(i=Array.from(y,d1),g()):i.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),g()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),n=a1,g()},p.clamp=function(y){return arguments.length?(u=y?!0:wr,g()):u!==wr},p.interpolate=function(y){return arguments.length?(n=y,g()):n},p.unknown=function(y){return arguments.length?(l=y,p):l},function(y,m){return s=y,o=m,g()}}function y1(){return v1()(wr,wr)}function w1(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function os(i,t){if((n=(i=t?i.toExponential(t-1):i.toExponential()).indexOf("e"))<0)return null;var n,s=i.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+i.slice(n+1)]}function Tr(i){return i=os(Math.abs(i)),i?i[1]:NaN}function b1(i,t){return function(n,s){for(var o=n.length,l=[],u=0,c=i[0],d=0;o>0&&c>0&&(d+c+1>s&&(c=Math.max(1,s-d)),l.push(n.substring(o-=c,o+c)),!((d+=c+1)>s));)c=i[u=(u+1)%i.length];return l.reverse().join(t)}}function E1(i){return function(t){return t.replace(/[0-9]/g,function(n){return i[+n]})}}var x1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function as(i){if(!(t=x1.exec(i)))throw new Error("invalid format: "+i);var t;return new ca({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}as.prototype=ca.prototype;function ca(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}ca.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T1(i){e:for(var t=i.length,n=1,s=-1,o;n<t;++n)switch(i[n]){case".":s=o=n;break;case"0":s===0&&(s=n),o=n;break;default:if(!+i[n])break e;s>0&&(s=0);break}return s>0?i.slice(0,s)+i.slice(o+1):i}var uf;function A1(i,t){var n=os(i,t);if(!n)return i+"";var s=n[0],o=n[1],l=o-(uf=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=s.length;return l===u?s:l>u?s+new Array(l-u+1).join("0"):l>0?s.slice(0,l)+"."+s.slice(l):"0."+new Array(1-l).join("0")+os(i,Math.max(0,t+l-1))[0]}function dc(i,t){var n=os(i,t);if(!n)return i+"";var s=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+s:s.length>o+1?s.slice(0,o+1)+"."+s.slice(o+1):s+new Array(o-s.length+2).join("0")}const gc={"%":(i,t)=>(i*100).toFixed(t),b:i=>Math.round(i).toString(2),c:i=>i+"",d:w1,e:(i,t)=>i.toExponential(t),f:(i,t)=>i.toFixed(t),g:(i,t)=>i.toPrecision(t),o:i=>Math.round(i).toString(8),p:(i,t)=>dc(i*100,t),r:dc,s:A1,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function pc(i){return i}var _c=Array.prototype.map,mc=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function k1(i){var t=i.grouping===void 0||i.thousands===void 0?pc:b1(_c.call(i.grouping,Number),i.thousands+""),n=i.currency===void 0?"":i.currency[0]+"",s=i.currency===void 0?"":i.currency[1]+"",o=i.decimal===void 0?".":i.decimal+"",l=i.numerals===void 0?pc:E1(_c.call(i.numerals,String)),u=i.percent===void 0?"%":i.percent+"",c=i.minus===void 0?"\u2212":i.minus+"",d=i.nan===void 0?"NaN":i.nan+"";function h(p){p=as(p);var y=p.fill,m=p.align,E=p.sign,T=p.symbol,A=p.zero,x=p.width,k=p.comma,R=p.precision,O=p.trim,C=p.type;C==="n"?(k=!0,C="g"):gc[C]||(R===void 0&&(R=12),O=!0,C="g"),(A||y==="0"&&m==="=")&&(A=!0,y="0",m="=");var j=T==="$"?n:T==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",z=T==="$"?s:/[%p]/.test(C)?u:"",P=gc[C],q=/[defgprs%]/.test(C);R=R===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function Z(X){var ue=j,re=z,b,$,U;if(C==="c")re=P(X)+re,X="";else{X=+X;var Q=X<0||1/X<0;if(X=isNaN(X)?d:P(Math.abs(X),R),O&&(X=T1(X)),Q&&+X==0&&E!=="+"&&(Q=!1),ue=(Q?E==="("?E:c:E==="-"||E==="("?"":E)+ue,re=(C==="s"?mc[8+uf/3]:"")+re+(Q&&E==="("?")":""),q){for(b=-1,$=X.length;++b<$;)if(U=X.charCodeAt(b),48>U||U>57){re=(U===46?o+X.slice(b+1):X.slice(b))+re,X=X.slice(0,b);break}}}k&&!A&&(X=t(X,1/0));var te=ue.length+X.length+re.length,ee=te<x?new Array(x-te+1).join(y):"";switch(k&&A&&(X=t(ee+X,ee.length?x-re.length:1/0),ee=""),m){case"<":X=ue+X+re+ee;break;case"=":X=ue+ee+X+re;break;case"^":X=ee.slice(0,te=ee.length>>1)+ue+X+re+ee.slice(te);break;default:X=ee+ue+X+re;break}return l(X)}return Z.toString=function(){return p+""},Z}function g(p,y){var m=h((p=as(p),p.type="f",p)),E=Math.max(-8,Math.min(8,Math.floor(Tr(y)/3)))*3,T=Math.pow(10,-E),A=mc[8+E/3];return function(x){return m(T*x)+A}}return{format:h,formatPrefix:g}}var Ki,cf,ff;I1({thousands:",",grouping:[3],currency:["$",""]});function I1(i){return Ki=k1(i),cf=Ki.format,ff=Ki.formatPrefix,Ki}function S1(i){return Math.max(0,-Tr(Math.abs(i)))}function O1(i,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tr(t)/3)))*3-Tr(Math.abs(i)))}function R1(i,t){return i=Math.abs(i),t=Math.abs(t)-i,Math.max(0,Tr(t)-Tr(i))+1}function M1(i,t,n,s){var o=e1(i,t,n),l;switch(s=as(s==null?",f":s),s.type){case"s":{var u=Math.max(Math.abs(i),Math.abs(t));return s.precision==null&&!isNaN(l=O1(o,u))&&(s.precision=l),ff(s,u)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(l=R1(o,Math.max(Math.abs(i),Math.abs(t))))&&(s.precision=l-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(l=S1(o))&&(s.precision=l-(s.type==="%")*2);break}}return cf(s)}function L1(i){var t=i.domain;return i.ticks=function(n){var s=t();return Qv(s[0],s[s.length-1],n==null?10:n)},i.tickFormat=function(n,s){var o=t();return M1(o[0],o[o.length-1],n==null?10:n,s)},i.nice=function(n){n==null&&(n=10);var s=t(),o=0,l=s.length-1,u=s[o],c=s[l],d,h,g=10;for(c<u&&(h=u,u=c,c=h,h=o,o=l,l=h);g-- >0;){if(h=lf(u,c,n),h===d)return s[o]=u,s[l]=c,t(s);if(h>0)u=Math.floor(u/h)*h,c=Math.ceil(c/h)*h;else if(h<0)u=Math.ceil(u*h)/h,c=Math.floor(c*h)/h;else break;d=h}return i},i}function hf(){var i=y1();return i.copy=function(){return m1(i,hf())},t1.apply(i,arguments),L1(i)}function vc(i){let t,n,s,o,l,u,c=qt.title+"",d,h,g=qt.description+"",p,y,m=qt.byline+"",E,T,A,x,k,R,O,C;return{c(){t=H("div"),n=H("a"),s=H("img"),l=ce(),u=H("h1"),d=ce(),h=H("div"),p=ce(),y=H("div"),E=ce(),T=H("div"),A=Te("Scroll to continue ->"),x=ce(),k=H("a"),R=Te("Go to the emotion wheel"),this.h()},l(j){t=G(j,"DIV",{class:!0});var z=K(t);n=G(z,"A",{href:!0,"aria-label":!0,target:!0,class:!0});var P=K(n);s=G(P,"IMG",{class:!0,src:!0}),P.forEach(L),l=fe(z),u=G(z,"H1",{class:!0});var q=K(u);q.forEach(L),d=fe(z),h=G(z,"DIV",{});var Z=K(h);Z.forEach(L),p=fe(z),y=G(z,"DIV",{});var X=K(y);X.forEach(L),E=fe(z),T=G(z,"DIV",{class:!0});var ue=K(T);A=Ae(ue,"Scroll to continue ->"),ue.forEach(L),x=fe(z),k=G(z,"A",{class:!0,href:!0});var re=K(k);R=Ae(re,"Go to the emotion wheel"),re.forEach(L),z.forEach(L),this.h()},h(){S(s,"class","logo svelte-4t95c1"),vt(s.src,o="assets/img/logo_full.png")||S(s,"src",o),S(n,"href","https://pudding.cool"),S(n,"aria-label","The Pudding"),S(n,"target","_blank"),S(n,"class","svelte-4t95c1"),S(u,"class","svelte-4t95c1"),S(T,"class","scroll svelte-4t95c1"),S(k,"class","wheel svelte-4t95c1"),S(k,"href",`${cs}/wheel`),S(t,"class","words svelte-4t95c1")},m(j,z){ie(j,t,z),B(t,n),B(n,s),B(t,l),B(t,u),u.innerHTML=c,B(t,d),B(t,h),h.innerHTML=g,B(t,p),B(t,y),y.innerHTML=m,B(t,E),B(t,T),B(T,A),B(t,x),B(t,k),B(k,R),C=!0},p:me,i(j){C||(Qr(()=>{O||(O=rs(t,ss,{},!0)),O.run(1)}),C=!0)},o(j){O||(O=rs(t,ss,{},!1)),O.run(0),C=!1},d(j){j&&L(t),j&&O&&O.end()}}}function C1(i){let t,n,s,o,l,u=i[1]&&vc();return{c(){t=H("div"),n=H("div"),u&&u.c(),this.h()},l(c){t=G(c,"DIV",{class:!0,style:!0});var d=K(t);n=G(d,"DIV",{class:!0,style:!0});var h=K(n);u&&u.l(h),h.forEach(L),d.forEach(L),this.h()},h(){S(n,"class","title svelte-4t95c1"),S(n,"style",s=`background-image: url(${i[0]})`),S(t,"class","title-wrapper svelte-4t95c1"),S(t,"style",o=`transform: scale(${i[2]})`),Ye(t,"visible",!i[3])},m(c,d){ie(c,t,d),B(t,n),u&&u.m(n,null),l=!0},p(c,[d]){c[1]?u?(u.p(c,d),d&2&&oe(u,1)):(u=vc(),u.c(),oe(u,1),u.m(n,null)):u&&(Pt(),le(u,1,1,()=>{u=null}),$t()),(!l||d&1&&s!==(s=`background-image: url(${c[0]})`))&&S(n,"style",s),(!l||d&4&&o!==(o=`transform: scale(${c[2]})`))&&S(t,"style",o),(!l||d&8)&&Ye(t,"visible",!c[3])},i(c){l||(oe(u),l=!0)},o(c){le(u),l=!1},d(c){c&&L(t),u&&u.d()}}}function P1(i,t,n){let s,o,l,u;Se(i,Zr,g=>n(3,u=g));let{scrolled:c}=t,{scrollMax:d}=t;const h=hf().domain([0,d]).range([1,2.5]).clamp(!0);return i.$$set=g=>{"scrolled"in g&&n(4,c=g.scrolled),"scrollMax"in g&&n(5,d=g.scrollMax)},i.$$.update=()=>{i.$$.dirty&16&&n(2,s=h(c)),i.$$.dirty&16&&n(1,o=c<80)},n(0,l=`${cs}/assets/img/notebook.jpeg`),[l,o,s,u,c,d]}class $1 extends qe{constructor(t){super(),Ve(this,t,P1,C1,Je,{scrolled:4,scrollMax:5})}}function D1(i){let t,n,s;const o=i[8].default,l=yv(o,i,i[7],null);return{c(){t=H("div"),l&&l.c(),this.h()},l(u){t=G(u,"DIV",{id:!0,class:!0});var c=K(t);l&&l.l(c),c.forEach(L),this.h()},h(){S(t,"id","panel-steps"),S(t,"class","svelte-1y7i367"),Qr(()=>i[10].call(t))},m(u,c){ie(u,t,c),l&&l.m(t,null),i[9](t),n=sa(t,i[10].bind(t)),s=!0},p(u,[c]){l&&l.p&&(!s||c&128)&&wv(l,o,u,u[7],s?Ev(o,u[7],c,null):bv(u[7]),null)},i(u){s||(oe(l,u),s=!0)},o(u){le(l,u),s=!1},d(u){u&&L(t),l&&l.d(u),i[9](null),n()}}}function N1(i,t,n){let s;Se(i,qo,C=>n(1,s=C));let{$$slots:o={},$$scope:l}=t,{root:u}=t,{top:c=0}=t,{bottom:d=0}=t,{increments:h=100}=t,{value:g=void 0}=t;const p=[],y=[];let m=[],E=[],T;const A=()=>{!m.length||m.forEach(k)},x=()=>{let C=0,j=0;for(let z=0;z<p.length;z++)p[z]>C&&(C=p[z],j=z);C>0?n(2,g=j):n(2,g=void 0)},k=(C,j)=>{const z=re=>{re[0].isIntersecting;const b=re[0].intersectionRatio;p[j]=b,x()},P=c?c*-1:0,q=d?d*-1:0,Z=`${P}px 0px ${q}px 0px`,X={root:u,rootMargin:Z,threshold:y};E[j]&&E[j].disconnect();const ue=new IntersectionObserver(z,X);ue.observe(C),E[j]=ue};ei(()=>{for(let C=0;C<h+1;C++)y.push(C/h);m=T.querySelectorAll(":scope > *"),A()});function R(C){Dt[C?"unshift":"push"](()=>{T=C,n(0,T)})}function O(){s=this.clientWidth,qo.set(s)}return i.$$set=C=>{"root"in C&&n(3,u=C.root),"top"in C&&n(4,c=C.top),"bottom"in C&&n(5,d=C.bottom),"increments"in C&&n(6,h=C.increments),"value"in C&&n(2,g=C.value),"$$scope"in C&&n(7,l=C.$$scope)},i.$$.update=()=>{i.$$.dirty&48&&A()},[T,s,g,u,c,d,h,l,o,R,O]}class B1 extends qe{constructor(t){super(),Ve(this,t,N1,D1,Je,{root:3,top:4,bottom:5,increments:6,value:2})}}var U1=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const F1=i=>{let t;return i?t=i:typeof fetch>"u"?t=(...n)=>U1(void 0,void 0,void 0,function*(){return yield(yield ri(()=>Promise.resolve().then(()=>fs),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)};class fa extends Error{constructor(t,n="FunctionsError",s){super(t),super.name=n,this.context=s}}class z1 extends fa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class j1 extends fa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class W1 extends fa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var H1=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};class G1{constructor(t,{headers:n={},customFetch:s}={}){this.url=t,this.headers=n,this.fetch=F1(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return H1(this,void 0,void 0,function*(){try{const{headers:o,body:l}=n;let u={},c;l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=l):typeof l=="string"?(u["Content-Type"]="text/plain",c=l):typeof FormData<"u"&&l instanceof FormData?c=l:(u["Content-Type"]="application/json",c=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:c}).catch(y=>{throw new z1(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new j1(d);if(!d.ok)throw new W1(d);let g=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return g==="application/json"?p=yield d.json():g==="application/octet-stream"?p=yield d.blob():g==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(o){return{data:null,error:o}}})}}var Yr={exports:{}};(function(i,t){var n=typeof self<"u"?self:an,s=function(){function l(){this.fetch=!1,this.DOMException=n.DOMException}return l.prototype=n,new l}();(function(l){(function(u){var c={searchParams:"URLSearchParams"in l,iterable:"Symbol"in l&&"iterator"in Symbol,blob:"FileReader"in l&&"Blob"in l&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in l,arrayBuffer:"ArrayBuffer"in l};function d(b){return b&&DataView.prototype.isPrototypeOf(b)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],g=ArrayBuffer.isView||function(b){return b&&h.indexOf(Object.prototype.toString.call(b))>-1};function p(b){if(typeof b!="string"&&(b=String(b)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(b))throw new TypeError("Invalid character in header field name");return b.toLowerCase()}function y(b){return typeof b!="string"&&(b=String(b)),b}function m(b){var $={next:function(){var U=b.shift();return{done:U===void 0,value:U}}};return c.iterable&&($[Symbol.iterator]=function(){return $}),$}function E(b){this.map={},b instanceof E?b.forEach(function($,U){this.append(U,$)},this):Array.isArray(b)?b.forEach(function($){this.append($[0],$[1])},this):b&&Object.getOwnPropertyNames(b).forEach(function($){this.append($,b[$])},this)}E.prototype.append=function(b,$){b=p(b),$=y($);var U=this.map[b];this.map[b]=U?U+", "+$:$},E.prototype.delete=function(b){delete this.map[p(b)]},E.prototype.get=function(b){return b=p(b),this.has(b)?this.map[b]:null},E.prototype.has=function(b){return this.map.hasOwnProperty(p(b))},E.prototype.set=function(b,$){this.map[p(b)]=y($)},E.prototype.forEach=function(b,$){for(var U in this.map)this.map.hasOwnProperty(U)&&b.call($,this.map[U],U,this)},E.prototype.keys=function(){var b=[];return this.forEach(function($,U){b.push(U)}),m(b)},E.prototype.values=function(){var b=[];return this.forEach(function($){b.push($)}),m(b)},E.prototype.entries=function(){var b=[];return this.forEach(function($,U){b.push([U,$])}),m(b)},c.iterable&&(E.prototype[Symbol.iterator]=E.prototype.entries);function T(b){if(b.bodyUsed)return Promise.reject(new TypeError("Already read"));b.bodyUsed=!0}function A(b){return new Promise(function($,U){b.onload=function(){$(b.result)},b.onerror=function(){U(b.error)}})}function x(b){var $=new FileReader,U=A($);return $.readAsArrayBuffer(b),U}function k(b){var $=new FileReader,U=A($);return $.readAsText(b),U}function R(b){for(var $=new Uint8Array(b),U=new Array($.length),Q=0;Q<$.length;Q++)U[Q]=String.fromCharCode($[Q]);return U.join("")}function O(b){if(b.slice)return b.slice(0);var $=new Uint8Array(b.byteLength);return $.set(new Uint8Array(b)),$.buffer}function C(){return this.bodyUsed=!1,this._initBody=function(b){this._bodyInit=b,b?typeof b=="string"?this._bodyText=b:c.blob&&Blob.prototype.isPrototypeOf(b)?this._bodyBlob=b:c.formData&&FormData.prototype.isPrototypeOf(b)?this._bodyFormData=b:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)?this._bodyText=b.toString():c.arrayBuffer&&c.blob&&d(b)?(this._bodyArrayBuffer=O(b.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(b)||g(b))?this._bodyArrayBuffer=O(b):this._bodyText=b=Object.prototype.toString.call(b):this._bodyText="",this.headers.get("content-type")||(typeof b=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(b)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var b=T(this);if(b)return b;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(x)}),this.text=function(){var b=T(this);if(b)return b;if(this._bodyBlob)return k(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(R(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(q)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function z(b){var $=b.toUpperCase();return j.indexOf($)>-1?$:b}function P(b,$){$=$||{};var U=$.body;if(b instanceof P){if(b.bodyUsed)throw new TypeError("Already read");this.url=b.url,this.credentials=b.credentials,$.headers||(this.headers=new E(b.headers)),this.method=b.method,this.mode=b.mode,this.signal=b.signal,!U&&b._bodyInit!=null&&(U=b._bodyInit,b.bodyUsed=!0)}else this.url=String(b);if(this.credentials=$.credentials||this.credentials||"same-origin",($.headers||!this.headers)&&(this.headers=new E($.headers)),this.method=z($.method||this.method||"GET"),this.mode=$.mode||this.mode||null,this.signal=$.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(U)}P.prototype.clone=function(){return new P(this,{body:this._bodyInit})};function q(b){var $=new FormData;return b.trim().split("&").forEach(function(U){if(U){var Q=U.split("="),te=Q.shift().replace(/\+/g," "),ee=Q.join("=").replace(/\+/g," ");$.append(decodeURIComponent(te),decodeURIComponent(ee))}}),$}function Z(b){var $=new E,U=b.replace(/\r?\n[\t ]+/g," ");return U.split(/\r?\n/).forEach(function(Q){var te=Q.split(":"),ee=te.shift().trim();if(ee){var pe=te.join(":").trim();$.append(ee,pe)}}),$}C.call(P.prototype);function X(b,$){$||($={}),this.type="default",this.status=$.status===void 0?200:$.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in $?$.statusText:"OK",this.headers=new E($.headers),this.url=$.url||"",this._initBody(b)}C.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new E(this.headers),url:this.url})},X.error=function(){var b=new X(null,{status:0,statusText:""});return b.type="error",b};var ue=[301,302,303,307,308];X.redirect=function(b,$){if(ue.indexOf($)===-1)throw new RangeError("Invalid status code");return new X(null,{status:$,headers:{location:b}})},u.DOMException=l.DOMException;try{new u.DOMException}catch{u.DOMException=function($,U){this.message=$,this.name=U;var Q=Error($);this.stack=Q.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function re(b,$){return new Promise(function(U,Q){var te=new P(b,$);if(te.signal&&te.signal.aborted)return Q(new u.DOMException("Aborted","AbortError"));var ee=new XMLHttpRequest;function pe(){ee.abort()}ee.onload=function(){var _e={status:ee.status,statusText:ee.statusText,headers:Z(ee.getAllResponseHeaders()||"")};_e.url="responseURL"in ee?ee.responseURL:_e.headers.get("X-Request-URL");var Oe="response"in ee?ee.response:ee.responseText;U(new X(Oe,_e))},ee.onerror=function(){Q(new TypeError("Network request failed"))},ee.ontimeout=function(){Q(new TypeError("Network request failed"))},ee.onabort=function(){Q(new u.DOMException("Aborted","AbortError"))},ee.open(te.method,te.url,!0),te.credentials==="include"?ee.withCredentials=!0:te.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&c.blob&&(ee.responseType="blob"),te.headers.forEach(function(_e,Oe){ee.setRequestHeader(Oe,_e)}),te.signal&&(te.signal.addEventListener("abort",pe),ee.onreadystatechange=function(){ee.readyState===4&&te.signal.removeEventListener("abort",pe)}),ee.send(typeof te._bodyInit>"u"?null:te._bodyInit)})}return re.polyfill=!0,l.fetch||(l.fetch=re,l.Headers=E,l.Request=P,l.Response=X),u.Headers=E,u.Request=P,u.Response=X,u.fetch=re,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var o=s;t=o.fetch,t.default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,i.exports=t})(Yr,Yr.exports);const ha=Iv(Yr.exports),fs=Lv({__proto__:null,default:ha},[Yr.exports]);var q1=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};class V1{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.allowEmpty=t.allowEmpty,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ha:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(l=>q1(this,void 0,void 0,function*(){var u,c,d;let h=null,g=null,p=null,y=l.status,m=l.statusText;if(l.ok){if(this.method!=="HEAD"){const x=yield l.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?g=x:g=JSON.parse(x))}const T=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),A=(c=l.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");T&&A&&A.length>1&&(p=parseInt(A[1]))}else{const T=yield l.text();try{h=JSON.parse(T)}catch{h={message:T}}if(h&&this.allowEmpty&&((d=h==null?void 0:h.details)===null||d===void 0?void 0:d.includes("Results contain 0 rows"))&&(h=null,y=200,m="OK"),h&&this.shouldThrowOnError)throw h}return{error:h,data:g,count:p,status:y,statusText:m}}));return this.shouldThrowOnError||(o=o.catch(l=>({error:{message:`FetchError: ${l.message}`,details:"",hint:"",code:l.code||""},data:null,count:null,status:0,statusText:""}))),o.then(t,n)}}class J1 extends V1{select(t){let n=!1;const s=(t!=null?t:"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:o}={}){const l=o?`${o}.order`:"order",u=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${u?`${u},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:s}={}){const o=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(l,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${d}"; options=${c};`,u==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}}class vr extends J1{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=n.map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${l}fts${u}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}}class K1{constructor(t,{headers:n={},schema:s,fetch:o}){this.url=t,this.headers=n,this.schema=s,this.fetch=o}select(t,{head:n=!1,count:s}={}){const o=n?"HEAD":"GET";let l=!1;const u=(t!=null?t:"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),s&&(this.headers.Prefer=`count=${s}`),new vr({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n}={}){const s="POST",o=[],l=t;if(n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new vr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:o}={}){const l="POST",u=[`resolution=${s?"ignore":"merge"}-duplicates`];n!==void 0&&this.url.searchParams.set("on_conflict",n);const c=t;return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new vr({method:l,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",o=[],l=t;return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new vr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new vr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Z1="1.0.0",Y1={"X-Client-Info":`postgrest-js/${Z1}`};class X1{constructor(t,{headers:n={},schema:s,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},Y1),n),this.schema=s,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new K1(n,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(t,n={},{head:s=!1,count:o}={}){let l;const u=new URL(`${this.url}/rpc/${t}`);let c;s?(l="HEAD",Object.entries(n).forEach(([h,g])=>{u.searchParams.append(h,`${g}`)})):(l="POST",c=n);const d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new vr({method:l,url:u,headers:d,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}}var Fo,yc;function Q1(){if(yc)return Fo;yc=1;var i=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Fo=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}(),Fo}const ey="websocket",ty="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",ny=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],ry="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",iy=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],sy="1.0.34",oy={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},ay="https://github.com/theturtle32/WebSocket-Node",ly={node:">=4.0.0"},uy={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},cy={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},fy={verbose:!1},hy={test:"tape test/unit/*.js",gulp:"gulp"},dy="index",gy={lib:"./lib"},py="lib/browser.js",_y="Apache-2.0",my={name:ey,description:ty,keywords:ny,author:ry,contributors:iy,version:sy,repository:oy,homepage:ay,engines:ly,dependencies:uy,devDependencies:cy,config:fy,scripts:hy,main:dy,directories:gy,browser:py,license:_y};var vy=my.version,qn;if(typeof globalThis=="object")qn=globalThis;else try{qn=Q1()}catch{}finally{if(!qn&&typeof window<"u"&&(qn=window),!qn)throw new Error("Could not determine global this")}var Xr=qn.WebSocket||qn.MozWebSocket,yy=vy;function df(i,t){var n;return t?n=new Xr(i,t):n=new Xr(i),n}Xr&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(df,i,{get:function(){return Xr[i]}})});var wy={w3cwebsocket:Xr?df:null,version:yy};const by="2.0.0",Ey={"X-Client-Info":`realtime-js/${by}`},xy="1.0.0",gf=1e4,Ty=1e3;var Jr;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Jr||(Jr={}));var Ct;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Ct||(Ct={}));var Qt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Qt||(Qt={}));var Xo;(function(i){i.websocket="websocket"})(Xo||(Xo={}));var Vn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Vn||(Vn={}));class pf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Ay{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const o=n.getUint8(1),l=n.getUint8(2);let u=this.HEADER_LENGTH+2;const c=s.decode(t.slice(u,u+o));u=u+o;const d=s.decode(t.slice(u,u+l));u=u+l;const h=JSON.parse(s.decode(t.slice(u,t.byteLength)));return{ref:null,topic:c,event:d,payload:h}}}class zo{constructor(t,n,s={},o=gf){this.channel=t,this.event=n,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var wc;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(wc||(wc={}));class Kr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kr.syncState(this.state,o,l,u),this.pendingDiffs.forEach(d=>{this.state=Kr.syncDiff(this.state,d,l,u)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},o=>{const{onJoin:l,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Kr.syncDiff(this.state,o,l,u),c())}),this.onJoin((o,l,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:l,newPresences:u})}),this.onLeave((o,l,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:l,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,o){const l=this.cloneDeep(t),u=this.transformState(n),c={},d={};return this.map(l,(h,g)=>{u[h]||(d[h]=g)}),this.map(u,(h,g)=>{const p=l[h];if(p){const y=g.map(A=>A.presence_ref),m=p.map(A=>A.presence_ref),E=g.filter(A=>m.indexOf(A.presence_ref)<0),T=p.filter(A=>y.indexOf(A.presence_ref)<0);E.length>0&&(c[h]=E),T.length>0&&(d[h]=T)}else c[h]=g}),this.syncDiff(l,{joins:c,leaves:d},s,o)}static syncDiff(t,n,s,o){const{joins:l,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(l,(c,d)=>{var h;const g=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),g.length>0){const p=t[c].map(m=>m.presence_ref),y=g.filter(m=>p.indexOf(m.presence_ref)<0);t[c].unshift(...y)}s(c,g,d)}),this.map(u,(c,d)=>{let h=t[c];if(!h)return;const g=d.map(p=>p.presence_ref);h=h.filter(p=>g.indexOf(p.presence_ref)<0),t[c]=h,o(c,h,d),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const o=t[s];return"metas"in o?n[s]=o.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[s]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fe;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Fe||(Fe={}));const bc=(i,t,n={})=>{var s;const o=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((l,u)=>(l[u]=ky(u,i,t,o),l),{})},ky=(i,t,n,s)=>{const o=t.find(c=>c.name===i),l=o==null?void 0:o.type,u=n[i];return l&&!s.includes(l)?_f(l,u):Qo(u)},_f=(i,t)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return Ry(t,n)}switch(i){case Fe.bool:return Iy(t);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return Sy(t);case Fe.json:case Fe.jsonb:return Oy(t);case Fe.timestamp:return My(t);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return Qo(t);default:return Qo(t)}},Qo=i=>i,Iy=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Sy=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},Oy=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(t){return console.log(`JSON parse error: ${t}`),i}return i},Ry=(i,t)=>{if(typeof i!="string")return i;const n=i.length-1,s=i[n];if(i[0]==="{"&&s==="}"){let l;const u=i.slice(1,n);try{l=JSON.parse("["+u+"]")}catch{l=u?u.split(","):[]}return l.map(c=>_f(t,c))}return i},My=i=>typeof i=="string"?i.replace(" ","T"):i;var Ec=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})},xc;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(xc||(xc={}));var Tc;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes"})(Tc||(Tc={}));var Ac;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Ac||(Ac={}));class da{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new zo(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new pf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ct.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Kr(this)}subscribe(t,n=this.timeout){var s,o;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:l,presence:u}}=this.params;this._onError(h=>t&&t("CHANNEL_ERROR",h)),this._onClose(()=>t&&t("CLOSED"));const c={},d={broadcast:l,presence:u,postgres_changes:(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(h=>h.filter))!==null&&o!==void 0?o:[]};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:h})=>{var g;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),h===void 0){t&&t("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,y=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,m=[];for(let E=0;E<y;E++){const T=p[E],{filter:{event:A,schema:x,table:k,filter:R}}=T,O=h&&h[E];if(O&&O.event===A&&O.schema===x&&O.table===k&&O.filter===R)m.push(Object.assign(Object.assign({},T),{id:O.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t("SUBSCRIBED");return}}).receive("error",h=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(t,n={}){return Ec(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(t={}){return Ec(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,s){return this._on(t,n,s)}send(t,n={}){return new Promise(s=>{var o,l,u;const c=this._push(t.type,t,n.timeout||this.timeout);c.rateLimited&&s("rate limited"),t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ct.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const o=new zo(this,Qt.leave,{},t);o.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new zo(this,t,n,s);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var o,l;const u=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:g}=Qt;if(s&&[c,d,h,g].indexOf(u)>=0&&s!==this._joinRef())return;let y=this._onMessage(u,n,s);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(m=>{var E,T,A;return((E=m.filter)===null||E===void 0?void 0:E.event)==="*"||((A=(T=m.filter)===null||T===void 0?void 0:T.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===u}).map(m=>m.callback(y,s)):(l=this.bindings[u])===null||l===void 0||l.filter(m=>{var E,T,A,x,k,R;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in m){const O=m.id,C=(E=m.filter)===null||E===void 0?void 0:E.event;return O&&((T=n.ids)===null||T===void 0?void 0:T.includes(O))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((A=n.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const O=(k=(x=m==null?void 0:m.filter)===null||x===void 0?void 0:x.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return O==="*"||O===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===u}).map(m=>{if(typeof y=="object"&&"ids"in y){const E=y.data,{schema:T,table:A,commit_timestamp:x,type:k,errors:R}=E;y=Object.assign(Object.assign({},{schema:T,table:A,commit_timestamp:x,eventType:k,new:{},old:{},errors:R}),this._getPayloadRecords(E))}m.callback(y,s)})}_isClosed(){return this.state===Ct.closed}_isJoined(){return this.state===Ct.joined}_isJoining(){return this.state===Ct.joining}_isLeaving(){return this.state===Ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const o=t.toLocaleLowerCase(),l={type:o,filter:n,callback:s};return this.bindings[o]?this.bindings[o].push(l):this.bindings[o]=[l],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(o=>{var l;return!(((l=o.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===s&&da.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qt.close,{},t)}_onError(t){this._on(Qt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=bc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=bc(t.columns,t.old_record)),n}}var Ly=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const Cy=()=>{};class Py{constructor(t,n){var s;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Ey,this.params={},this.timeout=gf,this.transport=wy.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Cy,this.conn=null,this.sendBuffer=[],this.serializer=new Ay,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${t}/${Xo.websocket}`,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.transport&&(this.transport=n.transport),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.eventsPerSecond;o&&(this.eventsPerSecondLimitMs=Math.floor(1e3/o)),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(l,u)=>u(JSON.stringify(l)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new pf(()=>Ly(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n!=null?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return t.unsubscribe().then(n=>(this.channels.length===0&&this.disconnect(),n))}removeAllChannels(){return Promise.all(this.channels.map(t=>t.unsubscribe())).then(t=>(this.disconnect(),t))}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case Jr.connecting:return Vn.Connecting;case Jr.open:return Vn.Open;case Jr.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}channel(t,n={config:{}}){this.isConnected()||this.connect();const s=new da(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:o,ref:l}=t;let u=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};if(this.log("push",`${n} ${s} (${l})`,o),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(s)){if(this._throttle(u)())return"rate limited"}else u();else this.sendBuffer.push(u)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Qt.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xy}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:o,payload:l,ref:u}=n;(u&&u===this.pendingHeartbeatRef||o===(l==null?void 0:l.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${s} ${o} ${u&&"("+u+")"||""}`,l),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(o,l,u)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${s}${o}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ty,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(t,n=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(t(),this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},n),!1)}}class mf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function At(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class $y extends mf{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dy extends mf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var vf=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const yf=i=>{let t;return i?t=i:typeof fetch>"u"?t=(...n)=>vf(void 0,void 0,void 0,function*(){return yield(yield ri(()=>Promise.resolve().then(()=>fs),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)},Ny=()=>vf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ri(()=>Promise.resolve().then(()=>fs),void 0,import.meta.url)).Response:Response});var Ar=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const kc=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),By=(i,t)=>Ar(void 0,void 0,void 0,function*(){const n=yield Ny();i instanceof n?i.json().then(s=>{t(new $y(kc(s),i.status||500))}):t(new Dy(kc(i),i))}),Uy=(i,t,n,s)=>{const o={method:i,headers:(t==null?void 0:t.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};function hs(i,t,n,s,o,l){return Ar(this,void 0,void 0,function*(){return new Promise((u,c)=>{i(n,Uy(t,s,o,l)).then(d=>{if(!d.ok)throw d;return s!=null&&s.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>By(d,c))})})}function ea(i,t,n,s){return Ar(this,void 0,void 0,function*(){return hs(i,"GET",t,n,s)})}function Jn(i,t,n,s,o){return Ar(this,void 0,void 0,function*(){return hs(i,"POST",t,s,o,n)})}function Fy(i,t,n,s,o){return Ar(this,void 0,void 0,function*(){return hs(i,"PUT",t,s,o,n)})}function wf(i,t,n,s,o){return Ar(this,void 0,void 0,function*(){return hs(i,"DELETE",t,s,o,n)})}var on=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const zy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wy{constructor(t,n={},s,o){this.url=t,this.headers=n,this.bucketId=s,this.fetch=yf(o)}uploadOrUpdate(t,n,s,o){return on(this,void 0,void 0,function*(){try{let l;const u=Object.assign(Object.assign({},jy),o),c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",s)):typeof FormData<"u"&&s instanceof FormData?(l=s,l.append("cacheControl",u.cacheControl)):(l=s,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=this._removeEmptyFolders(n),h=this._getFinalPath(d),g=yield this.fetch(`${this.url}/object/${h}`,{method:t,body:l,headers:c});if(g.ok)return{data:{path:d},error:null};{const p=yield g.json();return{data:null,error:p}}}catch(l){if(At(l))return{data:null,error:l};throw l}})}upload(t,n,s){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}update(t,n,s){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n){return on(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}copy(t,n){return on(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,s){return on(this,void 0,void 0,function*(){try{const o=this._getFinalPath(t);let l=yield Jn(this.fetch,`${this.url}/object/sign/${o}`,{expiresIn:n},{headers:this.headers});const u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${u}`)},{data:l,error:null}}catch(o){if(At(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,s){return on(this,void 0,void 0,function*(){try{const o=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${l}`):null})),error:null}}catch(o){if(At(o))return{data:null,error:o};throw o}})}download(t){return on(this,void 0,void 0,function*(){try{const n=this._getFinalPath(t);return{data:yield(yield ea(this.fetch,`${this.url}/object/${n}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}getPublicUrl(t,n){const s=this._getFinalPath(t),o=n!=null&&n.download?`?download=${n.download===!0?"":n.download}`:"";return{data:{publicUrl:encodeURI(`${this.url}/object/public/${s}${o}`)}}}remove(t){return on(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}list(t,n,s){return on(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},zy),n),{prefix:t||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(At(o))return{data:null,error:o};throw o}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}const Hy="2.0.0",Gy={"X-Client-Info":`storage-js/${Hy}`};var pr=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};class qy{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},Gy),n),this.fetch=yf(s)}listBuckets(){return pr(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(At(t))return{data:null,error:t};throw t}})}getBucket(t){return pr(this,void 0,void 0,function*(){try{return{data:yield ea(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return pr(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return pr(this,void 0,void 0,function*(){try{return{data:yield Fy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(s){if(At(s))return{data:null,error:s};throw s}})}emptyBucket(t){return pr(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}deleteBucket(t){return pr(this,void 0,void 0,function*(){try{return{data:yield wf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}})}}class Vy extends qy{constructor(t,n={},s){super(t,n,s)}from(t){return new Wy(this.url,this.headers,t,this.fetch)}}const Jy="2.0.0",Ky={"X-Client-Info":`supabase-js/${Jy}`};var Zy=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const Yy=i=>{let t;return i?t=i:typeof fetch>"u"?t=ha:t=fetch,(...n)=>t(...n)},Xy=()=>typeof Headers>"u"?Yr.exports.Headers:Headers,Qy=(i,t,n)=>{const s=Yy(n),o=Xy();return(l,u)=>Zy(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:i;let h=new o(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",i),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),s(l,Object.assign(Object.assign({},u),{headers:h}))})};function ew(i){return i.replace(/\/$/,"")}function tw(i,t){const{db:n,auth:s,realtime:o,global:l}=i,{db:u,auth:c,realtime:d,global:h}=t;return{db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign({},h),l)}}var ds=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};function nw(i){return Math.round(Date.now()/1e3)+i}function rw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const t=Math.random()*16|0;return(i=="x"?t:t&3|8).toString(16)})}const Zn=()=>typeof window<"u";function Gt(i,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),i=i.replace(/[\[\]]/g,"\\$&");const s=new RegExp("[?&#]"+i+"(=([^&#]*)|&|#|$)"),o=s.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}const bf=i=>{let t;return i?t=i:typeof fetch>"u"?t=(...n)=>ds(void 0,void 0,void 0,function*(){return yield(yield ri(()=>Promise.resolve().then(()=>fs),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)},iw=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",sw=(i,t,n)=>ds(void 0,void 0,void 0,function*(){yield i.setItem(t,JSON.stringify(n))}),Ic=(i,t)=>ds(void 0,void 0,void 0,function*(){const n=yield i.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),ow=(i,t)=>ds(void 0,void 0,void 0,function*(){yield i.removeItem(t)}),aw=i=>{try{return atob(i.replace(/[-]/g,"+").replace(/[_]/g,"/"))}catch(t){if(t instanceof ReferenceError)return Buffer.from(i,"base64").toString("utf-8");throw t}};class gs{constructor(){this.promise=new gs.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}gs.promiseConstructor=Promise;class ga extends Error{constructor(t){super(t),this.__isAuthError=!0,this.name="AuthError"}}function tt(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class lw extends ga{constructor(t,n){super(t),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ef extends ga{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class ps extends ga{constructor(t,n,s){super(t),this.name=n,this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Zi extends ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class jo extends ps{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class wn extends ps{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ls extends ps{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}var pa=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})},uw=globalThis&&globalThis.__rest||function(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};const Yi=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),cw=(i,t)=>pa(void 0,void 0,void 0,function*(){const n=[502,503,504];iw(i)?n.includes(i.status)?t(new ls(Yi(i),i.status)):i.json().then(s=>{t(new lw(Yi(s),i.status||500))}).catch(s=>{t(new Ef(Yi(s),s))}):t(new ls(Yi(i),0))}),fw=(i,t,n,s)=>{const o={method:i,headers:(t==null?void 0:t.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),n))};function it(i,t,n,s){var o,l;return pa(this,void 0,void 0,function*(){const u=(o=s==null?void 0:s.headers)!==null&&o!==void 0?o:{};s!=null&&s.jwt&&(u.Authorization=`Bearer ${s.jwt}`);const c=(l=s==null?void 0:s.query)!==null&&l!==void 0?l:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=yield hw(i,t,n+d,{headers:u,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(h):{data:Object.assign({},h),error:null}})}function hw(i,t,n,s,o,l){return pa(this,void 0,void 0,function*(){return new Promise((u,c)=>{i(n,fw(t,s,o,l)).then(d=>{if(!d.ok)throw d;return s!=null&&s.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>cw(d,c))})})}function _r(i){var t;let n=null;gw(i)&&(n=Object.assign({},i),n.expires_at=nw(i.expires_in));const s=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:n,user:s},error:null}}function Kn(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function dw(i){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l}=i,u=uw(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:s,redirect_to:o,verification_type:l},d=Object.assign({},u);return{data:{properties:c,user:d},error:null}}function gw(i){return i.access_token&&i.refresh_token&&i.expires_in}var Ln=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})},pw=globalThis&&globalThis.__rest||function(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n};class _w{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=bf(s)}signOut(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:t,noResolveJson:!0}),{error:null}}catch(n){if(tt(n))return{error:n};throw n}})}inviteUserByEmail(t,n={}){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kn})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}})}generateLink(t){return Ln(this,void 0,void 0,function*(){try{const{options:n}=t,s=pw(t,["options"]),o=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),yield it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:dw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(tt(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kn})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}listUsers(){return Ln(this,void 0,void 0,function*(){try{const{data:t,error:n}=yield it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers});if(n)throw n;return{data:Object.assign({},t),error:null}}catch(t){if(tt(t))return{data:{users:[]},error:t};throw t}})}getUserById(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kn})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kn})}catch(s){if(tt(s))return{data:{user:null},error:s};throw s}})}deleteUser(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kn})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}}const mw="2.0.1",vw="http://localhost:9999",yw="supabase.auth.token",ww={"X-Client-Info":`gotrue-js/${mw}`},Wo=10,Xi={MAX_RETRIES:10,RETRY_INTERVAL:2},bw={getItem:i=>Zn()?globalThis.localStorage.getItem(i):null,setItem:(i,t)=>{!Zn()||globalThis.localStorage.setItem(i,t)},removeItem:i=>{!Zn()||globalThis.localStorage.removeItem(i)}};function Ew(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var et=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};Ew();const xw={url:vw,storageKey:yw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ww};class Tw{constructor(t){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const n=Object.assign(Object.assign({},xw),t);this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||bw,this.admin=new _w({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=bf(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return et(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:n}=yield this._getSessionFromUrl();if(n)return yield this._removeSession(),{error:n};const{session:s,redirectType:o}=t;return yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s),o==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",s),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return tt(t)?{error:t}:{error:new Ef("Unexpected error during initialization",t)}}finally{this._handleVisibilityChange()}})}signUp(t){return et(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in t){const{email:c,password:d,options:h}=t;n=yield it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:d,data:h==null?void 0:h.data,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_r})}else if("phone"in t){const{phone:c,password:d,options:h}=t;n=yield it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:h==null?void 0:h.data,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:_r})}else throw new jo("You must provide either an email or phone number and a password");const{data:s,error:o}=n;if(o||!s)return{data:{user:null,session:null},error:o};const l=s.session,u=s.user;return s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithPassword(t){return et(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in t){const{email:l,password:u,options:c}=t;n=yield it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_r})}else if("phone"in t){const{phone:l,password:u,options:c}=t;n=yield it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:_r})}else throw new jo("You must provide either an email or phone number and a password");const{data:s,error:o}=n;return o||!s?{data:{user:null,session:null},error:o}:(s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:o})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(t){var n,s,o;return et(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams})})}signInWithOtp(t){var n,s,o,l;return et(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in t){const{email:u,options:c}=t,{error:d}=yield it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:u,options:c}=t,{error:d}=yield it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(l=c==null?void 0:c.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null},error:d}}throw new jo("You must provide either an email or phone number.")}catch(u){if(tt(u))return{data:{user:null,session:null},error:u};throw u}})}verifyOtp(t){var n,s;return et(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:o,error:l}=yield it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captchaToken:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,xform:_r});if(l)throw l;if(!o)throw"An error occurred on token verification.";const u=o.session,c=o.user;return u!=null&&u.access_token&&(yield this._saveSession(u),this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(o){if(tt(o))return{data:{user:null,session:null},error:o};throw o}})}getSession(){return et(this,void 0,void 0,function*(){yield this.initializePromise;let t=null;if(this.persistSession){const l=yield Ic(this.storage,this.storageKey);l!==null&&(this._isValidSession(l)?t=l:yield this._removeSession())}else t=this.inMemorySession;if(!t)return{data:{session:null},error:null};if(!(t.expires_at?t.expires_at<=Date.now()/1e3:!1))return{data:{session:t},error:null};const{session:s,error:o}=yield this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}})}getUser(t){var n,s;return et(this,void 0,void 0,function*(){try{if(!t){const{data:o,error:l}=yield this.getSession();if(l)throw l;t=(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0}return yield it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kn})}catch(o){if(tt(o))return{data:{user:null},error:o};throw o}})}updateUser(t){return et(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();if(s)throw s;if(!n.session)throw new Zi;const o=n.session,{data:l,error:u}=yield it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:t,jwt:o.access_token,xform:Kn});if(u)throw u;return o.user=l.user,yield this._saveSession(o),this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}setSession(t){return et(this,void 0,void 0,function*(){try{const n=Date.now()/1e3;let s=n,o=!0,l=null;if(t.access_token&&t.access_token.split(".")[1]){const u=JSON.parse(aw(t.access_token.split(".")[1]));u.exp&&(s=u.exp,o=s<=n)}if(o){if(!t.refresh_token)throw new Zi;const{data:u,error:c}=yield this._refreshAccessToken(t.refresh_token);if(c)return{data:{session:null,user:null},error:c};if(!u.session)return{data:{session:null,user:null},error:null};l=u.session}else{const{data:u,error:c}=yield this.getUser(t.access_token);if(c)throw c;l={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:s-n,expires_at:s}}return yield this._saveSession(l),this._notifyAllSubscribers("TOKEN_REFRESHED",l),{data:{session:l,user:l.user},error:null}}catch(n){if(tt(n))return{data:{session:null,user:null},error:n};throw n}})}_getSessionFromUrl(){return et(this,void 0,void 0,function*(){try{if(!Zn())throw new wn("No browser detected.");if(!this._isImplicitGrantFlow())throw new wn("Not a valid implicit grant flow url.");const t=Gt("error_description");if(t){const T=Gt("error_code");if(!T)throw new wn("No error_code detected.");const A=Gt("error");throw A?new wn(t,{error:A,code:T}):new wn("No error detected.")}const n=Gt("provider_token"),s=Gt("provider_refresh_token"),o=Gt("access_token");if(!o)throw new wn("No access_token detected.");const l=Gt("expires_in");if(!l)throw new wn("No expires_in detected.");const u=Gt("refresh_token");if(!u)throw new wn("No refresh_token detected.");const c=Gt("token_type");if(!c)throw new wn("No token_type detected.");const h=Math.round(Date.now()/1e3)+parseInt(l),{data:g,error:p}=yield this.getUser(o);if(p)throw p;const y=g.user,m={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:parseInt(l),expires_at:h,refresh_token:u,token_type:c,user:y},E=Gt("type");return window.location.hash="",{data:{session:m,redirectType:E},error:null}}catch(t){if(tt(t))return{data:{session:null,redirectType:null},error:t};throw t}})}_isImplicitGrantFlow(){return Zn()&&(Boolean(Gt("access_token"))||Boolean(Gt("error_description")))}signOut(){var t;return et(this,void 0,void 0,function*(){const{data:n,error:s}=yield this.getSession();if(s)return{error:s};const o=(t=n.session)===null||t===void 0?void 0:t.access_token;if(o){const{error:l}=yield this.admin.signOut(o);if(l)return{error:l}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(t){const n=rw(),s={id:n,callback:t,unsubscribe:()=>{this.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,s),{data:{subscription:s}}}resetPasswordForEmail(t,n={}){return et(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(tt(s))return{data:null,error:s};throw s}})}_refreshAccessToken(t){return et(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_r})}catch(n){if(tt(n))return{data:{session:null,user:null},error:n};throw n}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,n={}){const s=this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return Zn()&&(window.location.href=s),{data:{provider:t,url:s},error:null}}_recoverAndRefresh(){var t;return et(this,void 0,void 0,function*(){try{const n=yield Ic(this.storage,this.storageKey);if(!this._isValidSession(n)){n!==null&&(yield this._removeSession());return}const s=Math.round(Date.now()/1e3);if(((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+Wo)if(this.autoRefreshToken&&n.refresh_token){this.networkRetries++;const{error:o}=yield this._callRefreshToken(n.refresh_token);if(o){if(console.log(o.message),o instanceof ls&&this.networkRetries<Xi.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(Xi.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(n)),this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){console.error(n);return}})}_callRefreshToken(t){var n,s;return et(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new gs,!t)throw new Zi;const{data:o,error:l}=yield this._refreshAccessToken(t);if(l)throw l;if(!o.session)throw new Zi;yield this._saveSession(o.session),this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(tt(o)){const l={session:null,error:o};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(o),o}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(t,n){this.stateChangeEmitters.forEach(s=>s.callback(t,n))}_saveSession(t){return et(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=t);const n=t.expires_at;if(n){const s=Math.round(Date.now()/1e3),o=n-s,l=o>Wo?Wo:.5;this._startAutoRefreshToken((o-l)*1e3)}this.persistSession&&t.expires_at&&(yield this._persistSession(t))})}_persistSession(t){return sw(this.storage,this.storageKey,t)}_removeSession(){return et(this,void 0,void 0,function*(){this.persistSession?yield ow(this.storage,this.storageKey):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)})}_startAutoRefreshToken(t){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(t<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>et(this,void 0,void 0,function*(){this.networkRetries++;const{data:{session:n},error:s}=yield this.getSession();if(!s&&n){const{error:o}=yield this._callRefreshToken(n.refresh_token);o||(this.networkRetries=0),o instanceof ls&&this.networkRetries<Xi.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(Xi.RETRY_INTERVAL,this.networkRetries)*100)}}),t),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!Zn()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>et(this,void 0,void 0,function*(){document.visibilityState==="visible"&&(yield this.initializePromise,yield this._recoverAndRefresh())}))}catch(t){console.error("_handleVisibilityChange",t)}}_getUrlForProvider(t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return`${this.url}/authorize?${s.join("&")}`}}class Aw extends Tw{constructor(t){super(t)}}var kw=globalThis&&globalThis.__awaiter||function(i,t,n,s){function o(l){return l instanceof n?l:new n(function(u){u(l)})}return new(n||(n=Promise))(function(l,u){function c(g){try{h(s.next(g))}catch(p){u(p)}}function d(g){try{h(s.throw(g))}catch(p){u(p)}}function h(g){g.done?l(g.value):o(g.value).then(c,d)}h((s=s.apply(i,t||[])).next())})};const Iw={headers:Ky},Sw={schema:"public"},Ow={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Rw={};class Mw{constructor(t,n,s){var o,l,u,c,d,h,g,p;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const y=ew(t);if(this.realtimeUrl=`${y}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${y}/auth/v1`,this.storageUrl=`${y}/storage/v1`,y.match(/(supabase\.co)|(supabase\.in)/)){const x=y.split(".");this.functionsUrl=`${x[0]}.functions.${x[1]}.${x[2]}`}else this.functionsUrl=`${y}/functions/v1`;const E=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,T={db:Sw,realtime:Rw,auth:Object.assign(Object.assign({},Ow),{storageKey:E}),global:Iw},A=tw(s!=null?s:{},T);this.storageKey=(l=(o=A.auth)===null||o===void 0?void 0:o.storageKey)!==null&&l!==void 0?l:"",this.headers=(c=(u=A.global)===null||u===void 0?void 0:u.headers)!==null&&c!==void 0?c:{},this.auth=this._initSupabaseAuthClient((d=A.auth)!==null&&d!==void 0?d:{},this.headers,(h=A.global)===null||h===void 0?void 0:h.fetch),this.fetch=Qy(n,this._getAccessToken.bind(this),(g=A.global)===null||g===void 0?void 0:g.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},A.realtime)),this.rest=new X1(`${y}/rest/v1`,{headers:this.headers,schema:(p=A.db)===null||p===void 0?void 0:p.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new G1(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Vy(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},s){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return kw(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:o,storageKey:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Aw({url:this.authUrl,headers:Object.assign(Object.assign({},d),u),storageKey:l,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:o,fetch:c})}_initRealtimeClient(t){return new Py(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,s==null?void 0:s.access_token,"CLIENT")})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n!=null?n:null),this.changedAccessToken=n):(t==="SIGNED_OUT"||t==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut())}}const Lw=(i,t,n)=>new Mw(i,t,n),Cw="https://dbmtysppmiwwjwaeneex.supabase.co",Pw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibXR5c3BwbWl3d2p3YWVuZWV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDQ5NTI0NDUsImV4cCI6MTk2MDUyODQ0NX0.i_1JrAfv5fieeVaiJrVIQPL6V0_-H9sR-PKIuGDAIfI",_a=Lw(Cw,Pw),$w=async({table:i,data:t})=>{const n=await _a.from(i).insert(t).select();if(n.error)throw console.log(n.error),new Error("insert failed");if(n.data)return n.data},xf=async({table:i,column:t,value:n,id:s})=>{const o=await _a.from(i).update({[t]:n}).eq("id",s);if(o.error)throw console.log(o.error),new Error("update failed");if(o.data)return o.data},ma=async()=>{const i=await _a.from("emotions").select();if(i.error)throw console.log(i.error),new Error("getData failed");if(i.data)return i.data};var ta={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,t){(function(){var n,s="4.17.21",o=200,l="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",h=500,g="__lodash_placeholder__",p=1,y=2,m=4,E=1,T=2,A=1,x=2,k=4,R=8,O=16,C=32,j=64,z=128,P=256,q=512,Z=30,X="...",ue=800,re=16,b=1,$=2,U=3,Q=1/0,te=9007199254740991,ee=17976931348623157e292,pe=0/0,_e=4294967295,Oe=_e-1,lt=_e>>>1,Ke=[["ary",z],["bind",A],["bindKey",x],["curry",R],["curryRight",O],["flip",q],["partial",C],["partialRight",j],["rearg",P]],st="[object Arguments]",wt="[object Array]",kt="[object AsyncFunction]",dt="[object Boolean]",un="[object Date]",Cf="[object DOMException]",ii="[object Error]",si="[object Function]",ba="[object GeneratorFunction]",Vt="[object Map]",kr="[object Number]",Pf="[object Null]",cn="[object Object]",Ea="[object Promise]",$f="[object Proxy]",Ir="[object RegExp]",Jt="[object Set]",Sr="[object String]",oi="[object Symbol]",Df="[object Undefined]",Or="[object WeakMap]",Nf="[object WeakSet]",Rr="[object ArrayBuffer]",er="[object DataView]",_s="[object Float32Array]",ms="[object Float64Array]",vs="[object Int8Array]",ys="[object Int16Array]",ws="[object Int32Array]",bs="[object Uint8Array]",Es="[object Uint8ClampedArray]",xs="[object Uint16Array]",Ts="[object Uint32Array]",Bf=/\b__p \+= '';/g,Uf=/\b(__p \+=) '' \+/g,Ff=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xa=/&(?:amp|lt|gt|quot|#39);/g,Ta=/[&<>"']/g,zf=RegExp(xa.source),jf=RegExp(Ta.source),Wf=/<%-([\s\S]+?)%>/g,Hf=/<%([\s\S]+?)%>/g,Aa=/<%=([\s\S]+?)%>/g,Gf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,qf=/^\w*$/,Vf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,As=/[\\^$.*+?()[\]{}|]/g,Jf=RegExp(As.source),ks=/^\s+/,Kf=/\s/,Zf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Yf=/\{\n\/\* \[wrapped with (.+)\] \*/,Xf=/,? & /,Qf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,eh=/[()=,{}\[\]\/\s]/,th=/\\(\\)?/g,nh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ka=/\w*$/,rh=/^[-+]0x[0-9a-f]+$/i,ih=/^0b[01]+$/i,sh=/^\[object .+?Constructor\]$/,oh=/^0o[0-7]+$/i,ah=/^(?:0|[1-9]\d*)$/,lh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ai=/($^)/,uh=/['\n\r\u2028\u2029\\]/g,li="\\ud800-\\udfff",ch="\\u0300-\\u036f",fh="\\ufe20-\\ufe2f",hh="\\u20d0-\\u20ff",Ia=ch+fh+hh,Sa="\\u2700-\\u27bf",Oa="a-z\\xdf-\\xf6\\xf8-\\xff",dh="\\xac\\xb1\\xd7\\xf7",gh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ph="\\u2000-\\u206f",_h=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ra="A-Z\\xc0-\\xd6\\xd8-\\xde",Ma="\\ufe0e\\ufe0f",La=dh+gh+ph+_h,Is="['\u2019]",mh="["+li+"]",Ca="["+La+"]",ui="["+Ia+"]",Pa="\\d+",vh="["+Sa+"]",$a="["+Oa+"]",Da="[^"+li+La+Pa+Sa+Oa+Ra+"]",Ss="\\ud83c[\\udffb-\\udfff]",yh="(?:"+ui+"|"+Ss+")",Na="[^"+li+"]",Os="(?:\\ud83c[\\udde6-\\uddff]){2}",Rs="[\\ud800-\\udbff][\\udc00-\\udfff]",tr="["+Ra+"]",Ba="\\u200d",Ua="(?:"+$a+"|"+Da+")",wh="(?:"+tr+"|"+Da+")",Fa="(?:"+Is+"(?:d|ll|m|re|s|t|ve))?",za="(?:"+Is+"(?:D|LL|M|RE|S|T|VE))?",ja=yh+"?",Wa="["+Ma+"]?",bh="(?:"+Ba+"(?:"+[Na,Os,Rs].join("|")+")"+Wa+ja+")*",Eh="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ha=Wa+ja+bh,Th="(?:"+[vh,Os,Rs].join("|")+")"+Ha,Ah="(?:"+[Na+ui+"?",ui,Os,Rs,mh].join("|")+")",kh=RegExp(Is,"g"),Ih=RegExp(ui,"g"),Ms=RegExp(Ss+"(?="+Ss+")|"+Ah+Ha,"g"),Sh=RegExp([tr+"?"+$a+"+"+Fa+"(?="+[Ca,tr,"$"].join("|")+")",wh+"+"+za+"(?="+[Ca,tr+Ua,"$"].join("|")+")",tr+"?"+Ua+"+"+Fa,tr+"+"+za,xh,Eh,Pa,Th].join("|"),"g"),Oh=RegExp("["+Ba+li+Ia+Ma+"]"),Rh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Mh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Lh=-1,ze={};ze[_s]=ze[ms]=ze[vs]=ze[ys]=ze[ws]=ze[bs]=ze[Es]=ze[xs]=ze[Ts]=!0,ze[st]=ze[wt]=ze[Rr]=ze[dt]=ze[er]=ze[un]=ze[ii]=ze[si]=ze[Vt]=ze[kr]=ze[cn]=ze[Ir]=ze[Jt]=ze[Sr]=ze[Or]=!1;var Ue={};Ue[st]=Ue[wt]=Ue[Rr]=Ue[er]=Ue[dt]=Ue[un]=Ue[_s]=Ue[ms]=Ue[vs]=Ue[ys]=Ue[ws]=Ue[Vt]=Ue[kr]=Ue[cn]=Ue[Ir]=Ue[Jt]=Ue[Sr]=Ue[oi]=Ue[bs]=Ue[Es]=Ue[xs]=Ue[Ts]=!0,Ue[ii]=Ue[si]=Ue[Or]=!1;var Ch={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Ph={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$h={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Dh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nh=parseFloat,Bh=parseInt,Ga=typeof an=="object"&&an&&an.Object===Object&&an,Uh=typeof self=="object"&&self&&self.Object===Object&&self,ut=Ga||Uh||Function("return this")(),Ls=t&&!t.nodeType&&t,Dn=Ls&&!0&&i&&!i.nodeType&&i,qa=Dn&&Dn.exports===Ls,Cs=qa&&Ga.process,Nt=function(){try{var D=Dn&&Dn.require&&Dn.require("util").types;return D||Cs&&Cs.binding&&Cs.binding("util")}catch{}}(),Va=Nt&&Nt.isArrayBuffer,Ja=Nt&&Nt.isDate,Ka=Nt&&Nt.isMap,Za=Nt&&Nt.isRegExp,Ya=Nt&&Nt.isSet,Xa=Nt&&Nt.isTypedArray;function It(D,W,F){switch(F.length){case 0:return D.call(W);case 1:return D.call(W,F[0]);case 2:return D.call(W,F[0],F[1]);case 3:return D.call(W,F[0],F[1],F[2])}return D.apply(W,F)}function Fh(D,W,F,se){for(var ve=-1,Pe=D==null?0:D.length;++ve<Pe;){var nt=D[ve];W(se,nt,F(nt),D)}return se}function Bt(D,W){for(var F=-1,se=D==null?0:D.length;++F<se&&W(D[F],F,D)!==!1;);return D}function zh(D,W){for(var F=D==null?0:D.length;F--&&W(D[F],F,D)!==!1;);return D}function Qa(D,W){for(var F=-1,se=D==null?0:D.length;++F<se;)if(!W(D[F],F,D))return!1;return!0}function xn(D,W){for(var F=-1,se=D==null?0:D.length,ve=0,Pe=[];++F<se;){var nt=D[F];W(nt,F,D)&&(Pe[ve++]=nt)}return Pe}function ci(D,W){var F=D==null?0:D.length;return!!F&&nr(D,W,0)>-1}function Ps(D,W,F){for(var se=-1,ve=D==null?0:D.length;++se<ve;)if(F(W,D[se]))return!0;return!1}function He(D,W){for(var F=-1,se=D==null?0:D.length,ve=Array(se);++F<se;)ve[F]=W(D[F],F,D);return ve}function Tn(D,W){for(var F=-1,se=W.length,ve=D.length;++F<se;)D[ve+F]=W[F];return D}function $s(D,W,F,se){var ve=-1,Pe=D==null?0:D.length;for(se&&Pe&&(F=D[++ve]);++ve<Pe;)F=W(F,D[ve],ve,D);return F}function jh(D,W,F,se){var ve=D==null?0:D.length;for(se&&ve&&(F=D[--ve]);ve--;)F=W(F,D[ve],ve,D);return F}function Ds(D,W){for(var F=-1,se=D==null?0:D.length;++F<se;)if(W(D[F],F,D))return!0;return!1}var Wh=Ns("length");function Hh(D){return D.split("")}function Gh(D){return D.match(Qf)||[]}function el(D,W,F){var se;return F(D,function(ve,Pe,nt){if(W(ve,Pe,nt))return se=Pe,!1}),se}function fi(D,W,F,se){for(var ve=D.length,Pe=F+(se?1:-1);se?Pe--:++Pe<ve;)if(W(D[Pe],Pe,D))return Pe;return-1}function nr(D,W,F){return W===W?rd(D,W,F):fi(D,tl,F)}function qh(D,W,F,se){for(var ve=F-1,Pe=D.length;++ve<Pe;)if(se(D[ve],W))return ve;return-1}function tl(D){return D!==D}function nl(D,W){var F=D==null?0:D.length;return F?Us(D,W)/F:pe}function Ns(D){return function(W){return W==null?n:W[D]}}function Bs(D){return function(W){return D==null?n:D[W]}}function rl(D,W,F,se,ve){return ve(D,function(Pe,nt,Be){F=se?(se=!1,Pe):W(F,Pe,nt,Be)}),F}function Vh(D,W){var F=D.length;for(D.sort(W);F--;)D[F]=D[F].value;return D}function Us(D,W){for(var F,se=-1,ve=D.length;++se<ve;){var Pe=W(D[se]);Pe!==n&&(F=F===n?Pe:F+Pe)}return F}function Fs(D,W){for(var F=-1,se=Array(D);++F<D;)se[F]=W(F);return se}function Jh(D,W){return He(W,function(F){return[F,D[F]]})}function il(D){return D&&D.slice(0,ll(D)+1).replace(ks,"")}function St(D){return function(W){return D(W)}}function zs(D,W){return He(W,function(F){return D[F]})}function Mr(D,W){return D.has(W)}function sl(D,W){for(var F=-1,se=D.length;++F<se&&nr(W,D[F],0)>-1;);return F}function ol(D,W){for(var F=D.length;F--&&nr(W,D[F],0)>-1;);return F}function Kh(D,W){for(var F=D.length,se=0;F--;)D[F]===W&&++se;return se}var Zh=Bs(Ch),Yh=Bs(Ph);function Xh(D){return"\\"+Dh[D]}function Qh(D,W){return D==null?n:D[W]}function rr(D){return Oh.test(D)}function ed(D){return Rh.test(D)}function td(D){for(var W,F=[];!(W=D.next()).done;)F.push(W.value);return F}function js(D){var W=-1,F=Array(D.size);return D.forEach(function(se,ve){F[++W]=[ve,se]}),F}function al(D,W){return function(F){return D(W(F))}}function An(D,W){for(var F=-1,se=D.length,ve=0,Pe=[];++F<se;){var nt=D[F];(nt===W||nt===g)&&(D[F]=g,Pe[ve++]=F)}return Pe}function hi(D){var W=-1,F=Array(D.size);return D.forEach(function(se){F[++W]=se}),F}function nd(D){var W=-1,F=Array(D.size);return D.forEach(function(se){F[++W]=[se,se]}),F}function rd(D,W,F){for(var se=F-1,ve=D.length;++se<ve;)if(D[se]===W)return se;return-1}function id(D,W,F){for(var se=F+1;se--;)if(D[se]===W)return se;return se}function ir(D){return rr(D)?od(D):Wh(D)}function Kt(D){return rr(D)?ad(D):Hh(D)}function ll(D){for(var W=D.length;W--&&Kf.test(D.charAt(W)););return W}var sd=Bs($h);function od(D){for(var W=Ms.lastIndex=0;Ms.test(D);)++W;return W}function ad(D){return D.match(Ms)||[]}function ld(D){return D.match(Sh)||[]}var ud=function D(W){W=W==null?ut:sr.defaults(ut.Object(),W,sr.pick(ut,Mh));var F=W.Array,se=W.Date,ve=W.Error,Pe=W.Function,nt=W.Math,Be=W.Object,Ws=W.RegExp,cd=W.String,Ut=W.TypeError,di=F.prototype,fd=Pe.prototype,or=Be.prototype,gi=W["__core-js_shared__"],pi=fd.toString,De=or.hasOwnProperty,hd=0,ul=function(){var e=/[^.]+$/.exec(gi&&gi.keys&&gi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_i=or.toString,dd=pi.call(Be),gd=ut._,pd=Ws("^"+pi.call(De).replace(As,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),mi=qa?W.Buffer:n,kn=W.Symbol,vi=W.Uint8Array,cl=mi?mi.allocUnsafe:n,yi=al(Be.getPrototypeOf,Be),fl=Be.create,hl=or.propertyIsEnumerable,wi=di.splice,dl=kn?kn.isConcatSpreadable:n,Lr=kn?kn.iterator:n,Nn=kn?kn.toStringTag:n,bi=function(){try{var e=jn(Be,"defineProperty");return e({},"",{}),e}catch{}}(),_d=W.clearTimeout!==ut.clearTimeout&&W.clearTimeout,md=se&&se.now!==ut.Date.now&&se.now,vd=W.setTimeout!==ut.setTimeout&&W.setTimeout,Ei=nt.ceil,xi=nt.floor,Hs=Be.getOwnPropertySymbols,yd=mi?mi.isBuffer:n,gl=W.isFinite,wd=di.join,bd=al(Be.keys,Be),rt=nt.max,ft=nt.min,Ed=se.now,xd=W.parseInt,pl=nt.random,Td=di.reverse,Gs=jn(W,"DataView"),Cr=jn(W,"Map"),qs=jn(W,"Promise"),ar=jn(W,"Set"),Pr=jn(W,"WeakMap"),$r=jn(Be,"create"),Ti=Pr&&new Pr,lr={},Ad=Wn(Gs),kd=Wn(Cr),Id=Wn(qs),Sd=Wn(ar),Od=Wn(Pr),Ai=kn?kn.prototype:n,Dr=Ai?Ai.valueOf:n,_l=Ai?Ai.toString:n;function v(e){if(Ze(e)&&!ye(e)&&!(e instanceof ke)){if(e instanceof Ft)return e;if(De.call(e,"__wrapped__"))return mu(e)}return new Ft(e)}var ur=function(){function e(){}return function(r){if(!Ge(r))return{};if(fl)return fl(r);e.prototype=r;var a=new e;return e.prototype=n,a}}();function ki(){}function Ft(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=n}v.templateSettings={escape:Wf,evaluate:Hf,interpolate:Aa,variable:"",imports:{_:v}},v.prototype=ki.prototype,v.prototype.constructor=v,Ft.prototype=ur(ki.prototype),Ft.prototype.constructor=Ft;function ke(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function Rd(){var e=new ke(this.__wrapped__);return e.__actions__=bt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=bt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=bt(this.__views__),e}function Md(){if(this.__filtered__){var e=new ke(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ld(){var e=this.__wrapped__.value(),r=this.__dir__,a=ye(e),f=r<0,_=a?e.length:0,w=Hg(0,_,this.__views__),I=w.start,M=w.end,N=M-I,V=f?M:I-1,J=this.__iteratees__,Y=J.length,ne=0,ae=ft(N,this.__takeCount__);if(!a||!f&&_==N&&ae==N)return Fl(e,this.__actions__);var de=[];e:for(;N--&&ne<ae;){V+=r;for(var be=-1,ge=e[V];++be<Y;){var xe=J[be],Ie=xe.iteratee,Mt=xe.type,_t=Ie(ge);if(Mt==$)ge=_t;else if(!_t){if(Mt==b)continue e;break e}}de[ne++]=ge}return de}ke.prototype=ur(ki.prototype),ke.prototype.constructor=ke;function Bn(e){var r=-1,a=e==null?0:e.length;for(this.clear();++r<a;){var f=e[r];this.set(f[0],f[1])}}function Cd(){this.__data__=$r?$r(null):{},this.size=0}function Pd(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function $d(e){var r=this.__data__;if($r){var a=r[e];return a===d?n:a}return De.call(r,e)?r[e]:n}function Dd(e){var r=this.__data__;return $r?r[e]!==n:De.call(r,e)}function Nd(e,r){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=$r&&r===n?d:r,this}Bn.prototype.clear=Cd,Bn.prototype.delete=Pd,Bn.prototype.get=$d,Bn.prototype.has=Dd,Bn.prototype.set=Nd;function fn(e){var r=-1,a=e==null?0:e.length;for(this.clear();++r<a;){var f=e[r];this.set(f[0],f[1])}}function Bd(){this.__data__=[],this.size=0}function Ud(e){var r=this.__data__,a=Ii(r,e);if(a<0)return!1;var f=r.length-1;return a==f?r.pop():wi.call(r,a,1),--this.size,!0}function Fd(e){var r=this.__data__,a=Ii(r,e);return a<0?n:r[a][1]}function zd(e){return Ii(this.__data__,e)>-1}function jd(e,r){var a=this.__data__,f=Ii(a,e);return f<0?(++this.size,a.push([e,r])):a[f][1]=r,this}fn.prototype.clear=Bd,fn.prototype.delete=Ud,fn.prototype.get=Fd,fn.prototype.has=zd,fn.prototype.set=jd;function hn(e){var r=-1,a=e==null?0:e.length;for(this.clear();++r<a;){var f=e[r];this.set(f[0],f[1])}}function Wd(){this.size=0,this.__data__={hash:new Bn,map:new(Cr||fn),string:new Bn}}function Hd(e){var r=Ui(this,e).delete(e);return this.size-=r?1:0,r}function Gd(e){return Ui(this,e).get(e)}function qd(e){return Ui(this,e).has(e)}function Vd(e,r){var a=Ui(this,e),f=a.size;return a.set(e,r),this.size+=a.size==f?0:1,this}hn.prototype.clear=Wd,hn.prototype.delete=Hd,hn.prototype.get=Gd,hn.prototype.has=qd,hn.prototype.set=Vd;function Un(e){var r=-1,a=e==null?0:e.length;for(this.__data__=new hn;++r<a;)this.add(e[r])}function Jd(e){return this.__data__.set(e,d),this}function Kd(e){return this.__data__.has(e)}Un.prototype.add=Un.prototype.push=Jd,Un.prototype.has=Kd;function Zt(e){var r=this.__data__=new fn(e);this.size=r.size}function Zd(){this.__data__=new fn,this.size=0}function Yd(e){var r=this.__data__,a=r.delete(e);return this.size=r.size,a}function Xd(e){return this.__data__.get(e)}function Qd(e){return this.__data__.has(e)}function eg(e,r){var a=this.__data__;if(a instanceof fn){var f=a.__data__;if(!Cr||f.length<o-1)return f.push([e,r]),this.size=++a.size,this;a=this.__data__=new hn(f)}return a.set(e,r),this.size=a.size,this}Zt.prototype.clear=Zd,Zt.prototype.delete=Yd,Zt.prototype.get=Xd,Zt.prototype.has=Qd,Zt.prototype.set=eg;function ml(e,r){var a=ye(e),f=!a&&Hn(e),_=!a&&!f&&Mn(e),w=!a&&!f&&!_&&dr(e),I=a||f||_||w,M=I?Fs(e.length,cd):[],N=M.length;for(var V in e)(r||De.call(e,V))&&!(I&&(V=="length"||_&&(V=="offset"||V=="parent")||w&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||_n(V,N)))&&M.push(V);return M}function vl(e){var r=e.length;return r?e[ro(0,r-1)]:n}function tg(e,r){return Fi(bt(e),Fn(r,0,e.length))}function ng(e){return Fi(bt(e))}function Vs(e,r,a){(a!==n&&!Yt(e[r],a)||a===n&&!(r in e))&&dn(e,r,a)}function Nr(e,r,a){var f=e[r];(!(De.call(e,r)&&Yt(f,a))||a===n&&!(r in e))&&dn(e,r,a)}function Ii(e,r){for(var a=e.length;a--;)if(Yt(e[a][0],r))return a;return-1}function rg(e,r,a,f){return In(e,function(_,w,I){r(f,_,a(_),I)}),f}function yl(e,r){return e&&rn(r,ot(r),e)}function ig(e,r){return e&&rn(r,xt(r),e)}function dn(e,r,a){r=="__proto__"&&bi?bi(e,r,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[r]=a}function Js(e,r){for(var a=-1,f=r.length,_=F(f),w=e==null;++a<f;)_[a]=w?n:Oo(e,r[a]);return _}function Fn(e,r,a){return e===e&&(a!==n&&(e=e<=a?e:a),r!==n&&(e=e>=r?e:r)),e}function zt(e,r,a,f,_,w){var I,M=r&p,N=r&y,V=r&m;if(a&&(I=_?a(e,f,_,w):a(e)),I!==n)return I;if(!Ge(e))return e;var J=ye(e);if(J){if(I=qg(e),!M)return bt(e,I)}else{var Y=ht(e),ne=Y==si||Y==ba;if(Mn(e))return Wl(e,M);if(Y==cn||Y==st||ne&&!_){if(I=N||ne?{}:lu(e),!M)return N?$g(e,ig(I,e)):Pg(e,yl(I,e))}else{if(!Ue[Y])return _?e:{};I=Vg(e,Y,M)}}w||(w=new Zt);var ae=w.get(e);if(ae)return ae;w.set(e,I),Nu(e)?e.forEach(function(ge){I.add(zt(ge,r,a,ge,e,w))}):$u(e)&&e.forEach(function(ge,xe){I.set(xe,zt(ge,r,a,xe,e,w))});var de=V?N?po:go:N?xt:ot,be=J?n:de(e);return Bt(be||e,function(ge,xe){be&&(xe=ge,ge=e[xe]),Nr(I,xe,zt(ge,r,a,xe,e,w))}),I}function sg(e){var r=ot(e);return function(a){return wl(a,e,r)}}function wl(e,r,a){var f=a.length;if(e==null)return!f;for(e=Be(e);f--;){var _=a[f],w=r[_],I=e[_];if(I===n&&!(_ in e)||!w(I))return!1}return!0}function bl(e,r,a){if(typeof e!="function")throw new Ut(u);return Hr(function(){e.apply(n,a)},r)}function Br(e,r,a,f){var _=-1,w=ci,I=!0,M=e.length,N=[],V=r.length;if(!M)return N;a&&(r=He(r,St(a))),f?(w=Ps,I=!1):r.length>=o&&(w=Mr,I=!1,r=new Un(r));e:for(;++_<M;){var J=e[_],Y=a==null?J:a(J);if(J=f||J!==0?J:0,I&&Y===Y){for(var ne=V;ne--;)if(r[ne]===Y)continue e;N.push(J)}else w(r,Y,f)||N.push(J)}return N}var In=Jl(nn),El=Jl(Zs,!0);function og(e,r){var a=!0;return In(e,function(f,_,w){return a=!!r(f,_,w),a}),a}function Si(e,r,a){for(var f=-1,_=e.length;++f<_;){var w=e[f],I=r(w);if(I!=null&&(M===n?I===I&&!Rt(I):a(I,M)))var M=I,N=w}return N}function ag(e,r,a,f){var _=e.length;for(a=we(a),a<0&&(a=-a>_?0:_+a),f=f===n||f>_?_:we(f),f<0&&(f+=_),f=a>f?0:Uu(f);a<f;)e[a++]=r;return e}function xl(e,r){var a=[];return In(e,function(f,_,w){r(f,_,w)&&a.push(f)}),a}function ct(e,r,a,f,_){var w=-1,I=e.length;for(a||(a=Kg),_||(_=[]);++w<I;){var M=e[w];r>0&&a(M)?r>1?ct(M,r-1,a,f,_):Tn(_,M):f||(_[_.length]=M)}return _}var Ks=Kl(),Tl=Kl(!0);function nn(e,r){return e&&Ks(e,r,ot)}function Zs(e,r){return e&&Tl(e,r,ot)}function Oi(e,r){return xn(r,function(a){return mn(e[a])})}function zn(e,r){r=On(r,e);for(var a=0,f=r.length;e!=null&&a<f;)e=e[sn(r[a++])];return a&&a==f?e:n}function Al(e,r,a){var f=r(e);return ye(e)?f:Tn(f,a(e))}function gt(e){return e==null?e===n?Df:Pf:Nn&&Nn in Be(e)?Wg(e):np(e)}function Ys(e,r){return e>r}function lg(e,r){return e!=null&&De.call(e,r)}function ug(e,r){return e!=null&&r in Be(e)}function cg(e,r,a){return e>=ft(r,a)&&e<rt(r,a)}function Xs(e,r,a){for(var f=a?Ps:ci,_=e[0].length,w=e.length,I=w,M=F(w),N=1/0,V=[];I--;){var J=e[I];I&&r&&(J=He(J,St(r))),N=ft(J.length,N),M[I]=!a&&(r||_>=120&&J.length>=120)?new Un(I&&J):n}J=e[0];var Y=-1,ne=M[0];e:for(;++Y<_&&V.length<N;){var ae=J[Y],de=r?r(ae):ae;if(ae=a||ae!==0?ae:0,!(ne?Mr(ne,de):f(V,de,a))){for(I=w;--I;){var be=M[I];if(!(be?Mr(be,de):f(e[I],de,a)))continue e}ne&&ne.push(de),V.push(ae)}}return V}function fg(e,r,a,f){return nn(e,function(_,w,I){r(f,a(_),w,I)}),f}function Ur(e,r,a){r=On(r,e),e=hu(e,r);var f=e==null?e:e[sn(Wt(r))];return f==null?n:It(f,e,a)}function kl(e){return Ze(e)&&gt(e)==st}function hg(e){return Ze(e)&&gt(e)==Rr}function dg(e){return Ze(e)&&gt(e)==un}function Fr(e,r,a,f,_){return e===r?!0:e==null||r==null||!Ze(e)&&!Ze(r)?e!==e&&r!==r:gg(e,r,a,f,Fr,_)}function gg(e,r,a,f,_,w){var I=ye(e),M=ye(r),N=I?wt:ht(e),V=M?wt:ht(r);N=N==st?cn:N,V=V==st?cn:V;var J=N==cn,Y=V==cn,ne=N==V;if(ne&&Mn(e)){if(!Mn(r))return!1;I=!0,J=!1}if(ne&&!J)return w||(w=new Zt),I||dr(e)?su(e,r,a,f,_,w):zg(e,r,N,a,f,_,w);if(!(a&E)){var ae=J&&De.call(e,"__wrapped__"),de=Y&&De.call(r,"__wrapped__");if(ae||de){var be=ae?e.value():e,ge=de?r.value():r;return w||(w=new Zt),_(be,ge,a,f,w)}}return ne?(w||(w=new Zt),jg(e,r,a,f,_,w)):!1}function pg(e){return Ze(e)&&ht(e)==Vt}function Qs(e,r,a,f){var _=a.length,w=_,I=!f;if(e==null)return!w;for(e=Be(e);_--;){var M=a[_];if(I&&M[2]?M[1]!==e[M[0]]:!(M[0]in e))return!1}for(;++_<w;){M=a[_];var N=M[0],V=e[N],J=M[1];if(I&&M[2]){if(V===n&&!(N in e))return!1}else{var Y=new Zt;if(f)var ne=f(V,J,N,e,r,Y);if(!(ne===n?Fr(J,V,E|T,f,Y):ne))return!1}}return!0}function Il(e){if(!Ge(e)||Yg(e))return!1;var r=mn(e)?pd:sh;return r.test(Wn(e))}function _g(e){return Ze(e)&&gt(e)==Ir}function mg(e){return Ze(e)&&ht(e)==Jt}function vg(e){return Ze(e)&&qi(e.length)&&!!ze[gt(e)]}function Sl(e){return typeof e=="function"?e:e==null?Tt:typeof e=="object"?ye(e)?Ml(e[0],e[1]):Rl(e):Zu(e)}function eo(e){if(!Wr(e))return bd(e);var r=[];for(var a in Be(e))De.call(e,a)&&a!="constructor"&&r.push(a);return r}function yg(e){if(!Ge(e))return tp(e);var r=Wr(e),a=[];for(var f in e)f=="constructor"&&(r||!De.call(e,f))||a.push(f);return a}function to(e,r){return e<r}function Ol(e,r){var a=-1,f=Et(e)?F(e.length):[];return In(e,function(_,w,I){f[++a]=r(_,w,I)}),f}function Rl(e){var r=mo(e);return r.length==1&&r[0][2]?cu(r[0][0],r[0][1]):function(a){return a===e||Qs(a,e,r)}}function Ml(e,r){return yo(e)&&uu(r)?cu(sn(e),r):function(a){var f=Oo(a,e);return f===n&&f===r?Ro(a,e):Fr(r,f,E|T)}}function Ri(e,r,a,f,_){e!==r&&Ks(r,function(w,I){if(_||(_=new Zt),Ge(w))wg(e,r,I,a,Ri,f,_);else{var M=f?f(bo(e,I),w,I+"",e,r,_):n;M===n&&(M=w),Vs(e,I,M)}},xt)}function wg(e,r,a,f,_,w,I){var M=bo(e,a),N=bo(r,a),V=I.get(N);if(V){Vs(e,a,V);return}var J=w?w(M,N,a+"",e,r,I):n,Y=J===n;if(Y){var ne=ye(N),ae=!ne&&Mn(N),de=!ne&&!ae&&dr(N);J=N,ne||ae||de?ye(M)?J=M:Xe(M)?J=bt(M):ae?(Y=!1,J=Wl(N,!0)):de?(Y=!1,J=Hl(N,!0)):J=[]:Gr(N)||Hn(N)?(J=M,Hn(M)?J=Fu(M):(!Ge(M)||mn(M))&&(J=lu(N))):Y=!1}Y&&(I.set(N,J),_(J,N,f,w,I),I.delete(N)),Vs(e,a,J)}function Ll(e,r){var a=e.length;if(!!a)return r+=r<0?a:0,_n(r,a)?e[r]:n}function Cl(e,r,a){r.length?r=He(r,function(w){return ye(w)?function(I){return zn(I,w.length===1?w[0]:w)}:w}):r=[Tt];var f=-1;r=He(r,St(he()));var _=Ol(e,function(w,I,M){var N=He(r,function(V){return V(w)});return{criteria:N,index:++f,value:w}});return Vh(_,function(w,I){return Cg(w,I,a)})}function bg(e,r){return Pl(e,r,function(a,f){return Ro(e,f)})}function Pl(e,r,a){for(var f=-1,_=r.length,w={};++f<_;){var I=r[f],M=zn(e,I);a(M,I)&&zr(w,On(I,e),M)}return w}function Eg(e){return function(r){return zn(r,e)}}function no(e,r,a,f){var _=f?qh:nr,w=-1,I=r.length,M=e;for(e===r&&(r=bt(r)),a&&(M=He(e,St(a)));++w<I;)for(var N=0,V=r[w],J=a?a(V):V;(N=_(M,J,N,f))>-1;)M!==e&&wi.call(M,N,1),wi.call(e,N,1);return e}function $l(e,r){for(var a=e?r.length:0,f=a-1;a--;){var _=r[a];if(a==f||_!==w){var w=_;_n(_)?wi.call(e,_,1):oo(e,_)}}return e}function ro(e,r){return e+xi(pl()*(r-e+1))}function xg(e,r,a,f){for(var _=-1,w=rt(Ei((r-e)/(a||1)),0),I=F(w);w--;)I[f?w:++_]=e,e+=a;return I}function io(e,r){var a="";if(!e||r<1||r>te)return a;do r%2&&(a+=e),r=xi(r/2),r&&(e+=e);while(r);return a}function Ee(e,r){return Eo(fu(e,r,Tt),e+"")}function Tg(e){return vl(gr(e))}function Ag(e,r){var a=gr(e);return Fi(a,Fn(r,0,a.length))}function zr(e,r,a,f){if(!Ge(e))return e;r=On(r,e);for(var _=-1,w=r.length,I=w-1,M=e;M!=null&&++_<w;){var N=sn(r[_]),V=a;if(N==="__proto__"||N==="constructor"||N==="prototype")return e;if(_!=I){var J=M[N];V=f?f(J,N,M):n,V===n&&(V=Ge(J)?J:_n(r[_+1])?[]:{})}Nr(M,N,V),M=M[N]}return e}var Dl=Ti?function(e,r){return Ti.set(e,r),e}:Tt,kg=bi?function(e,r){return bi(e,"toString",{configurable:!0,enumerable:!1,value:Lo(r),writable:!0})}:Tt;function Ig(e){return Fi(gr(e))}function jt(e,r,a){var f=-1,_=e.length;r<0&&(r=-r>_?0:_+r),a=a>_?_:a,a<0&&(a+=_),_=r>a?0:a-r>>>0,r>>>=0;for(var w=F(_);++f<_;)w[f]=e[f+r];return w}function Sg(e,r){var a;return In(e,function(f,_,w){return a=r(f,_,w),!a}),!!a}function Mi(e,r,a){var f=0,_=e==null?f:e.length;if(typeof r=="number"&&r===r&&_<=lt){for(;f<_;){var w=f+_>>>1,I=e[w];I!==null&&!Rt(I)&&(a?I<=r:I<r)?f=w+1:_=w}return _}return so(e,r,Tt,a)}function so(e,r,a,f){var _=0,w=e==null?0:e.length;if(w===0)return 0;r=a(r);for(var I=r!==r,M=r===null,N=Rt(r),V=r===n;_<w;){var J=xi((_+w)/2),Y=a(e[J]),ne=Y!==n,ae=Y===null,de=Y===Y,be=Rt(Y);if(I)var ge=f||de;else V?ge=de&&(f||ne):M?ge=de&&ne&&(f||!ae):N?ge=de&&ne&&!ae&&(f||!be):ae||be?ge=!1:ge=f?Y<=r:Y<r;ge?_=J+1:w=J}return ft(w,Oe)}function Nl(e,r){for(var a=-1,f=e.length,_=0,w=[];++a<f;){var I=e[a],M=r?r(I):I;if(!a||!Yt(M,N)){var N=M;w[_++]=I===0?0:I}}return w}function Bl(e){return typeof e=="number"?e:Rt(e)?pe:+e}function Ot(e){if(typeof e=="string")return e;if(ye(e))return He(e,Ot)+"";if(Rt(e))return _l?_l.call(e):"";var r=e+"";return r=="0"&&1/e==-Q?"-0":r}function Sn(e,r,a){var f=-1,_=ci,w=e.length,I=!0,M=[],N=M;if(a)I=!1,_=Ps;else if(w>=o){var V=r?null:Ug(e);if(V)return hi(V);I=!1,_=Mr,N=new Un}else N=r?[]:M;e:for(;++f<w;){var J=e[f],Y=r?r(J):J;if(J=a||J!==0?J:0,I&&Y===Y){for(var ne=N.length;ne--;)if(N[ne]===Y)continue e;r&&N.push(Y),M.push(J)}else _(N,Y,a)||(N!==M&&N.push(Y),M.push(J))}return M}function oo(e,r){return r=On(r,e),e=hu(e,r),e==null||delete e[sn(Wt(r))]}function Ul(e,r,a,f){return zr(e,r,a(zn(e,r)),f)}function Li(e,r,a,f){for(var _=e.length,w=f?_:-1;(f?w--:++w<_)&&r(e[w],w,e););return a?jt(e,f?0:w,f?w+1:_):jt(e,f?w+1:0,f?_:w)}function Fl(e,r){var a=e;return a instanceof ke&&(a=a.value()),$s(r,function(f,_){return _.func.apply(_.thisArg,Tn([f],_.args))},a)}function ao(e,r,a){var f=e.length;if(f<2)return f?Sn(e[0]):[];for(var _=-1,w=F(f);++_<f;)for(var I=e[_],M=-1;++M<f;)M!=_&&(w[_]=Br(w[_]||I,e[M],r,a));return Sn(ct(w,1),r,a)}function zl(e,r,a){for(var f=-1,_=e.length,w=r.length,I={};++f<_;){var M=f<w?r[f]:n;a(I,e[f],M)}return I}function lo(e){return Xe(e)?e:[]}function uo(e){return typeof e=="function"?e:Tt}function On(e,r){return ye(e)?e:yo(e,r)?[e]:_u($e(e))}var Og=Ee;function Rn(e,r,a){var f=e.length;return a=a===n?f:a,!r&&a>=f?e:jt(e,r,a)}var jl=_d||function(e){return ut.clearTimeout(e)};function Wl(e,r){if(r)return e.slice();var a=e.length,f=cl?cl(a):new e.constructor(a);return e.copy(f),f}function co(e){var r=new e.constructor(e.byteLength);return new vi(r).set(new vi(e)),r}function Rg(e,r){var a=r?co(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function Mg(e){var r=new e.constructor(e.source,ka.exec(e));return r.lastIndex=e.lastIndex,r}function Lg(e){return Dr?Be(Dr.call(e)):{}}function Hl(e,r){var a=r?co(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function Gl(e,r){if(e!==r){var a=e!==n,f=e===null,_=e===e,w=Rt(e),I=r!==n,M=r===null,N=r===r,V=Rt(r);if(!M&&!V&&!w&&e>r||w&&I&&N&&!M&&!V||f&&I&&N||!a&&N||!_)return 1;if(!f&&!w&&!V&&e<r||V&&a&&_&&!f&&!w||M&&a&&_||!I&&_||!N)return-1}return 0}function Cg(e,r,a){for(var f=-1,_=e.criteria,w=r.criteria,I=_.length,M=a.length;++f<I;){var N=Gl(_[f],w[f]);if(N){if(f>=M)return N;var V=a[f];return N*(V=="desc"?-1:1)}}return e.index-r.index}function ql(e,r,a,f){for(var _=-1,w=e.length,I=a.length,M=-1,N=r.length,V=rt(w-I,0),J=F(N+V),Y=!f;++M<N;)J[M]=r[M];for(;++_<I;)(Y||_<w)&&(J[a[_]]=e[_]);for(;V--;)J[M++]=e[_++];return J}function Vl(e,r,a,f){for(var _=-1,w=e.length,I=-1,M=a.length,N=-1,V=r.length,J=rt(w-M,0),Y=F(J+V),ne=!f;++_<J;)Y[_]=e[_];for(var ae=_;++N<V;)Y[ae+N]=r[N];for(;++I<M;)(ne||_<w)&&(Y[ae+a[I]]=e[_++]);return Y}function bt(e,r){var a=-1,f=e.length;for(r||(r=F(f));++a<f;)r[a]=e[a];return r}function rn(e,r,a,f){var _=!a;a||(a={});for(var w=-1,I=r.length;++w<I;){var M=r[w],N=f?f(a[M],e[M],M,a,e):n;N===n&&(N=e[M]),_?dn(a,M,N):Nr(a,M,N)}return a}function Pg(e,r){return rn(e,vo(e),r)}function $g(e,r){return rn(e,ou(e),r)}function Ci(e,r){return function(a,f){var _=ye(a)?Fh:rg,w=r?r():{};return _(a,e,he(f,2),w)}}function cr(e){return Ee(function(r,a){var f=-1,_=a.length,w=_>1?a[_-1]:n,I=_>2?a[2]:n;for(w=e.length>3&&typeof w=="function"?(_--,w):n,I&&pt(a[0],a[1],I)&&(w=_<3?n:w,_=1),r=Be(r);++f<_;){var M=a[f];M&&e(r,M,f,w)}return r})}function Jl(e,r){return function(a,f){if(a==null)return a;if(!Et(a))return e(a,f);for(var _=a.length,w=r?_:-1,I=Be(a);(r?w--:++w<_)&&f(I[w],w,I)!==!1;);return a}}function Kl(e){return function(r,a,f){for(var _=-1,w=Be(r),I=f(r),M=I.length;M--;){var N=I[e?M:++_];if(a(w[N],N,w)===!1)break}return r}}function Dg(e,r,a){var f=r&A,_=jr(e);function w(){var I=this&&this!==ut&&this instanceof w?_:e;return I.apply(f?a:this,arguments)}return w}function Zl(e){return function(r){r=$e(r);var a=rr(r)?Kt(r):n,f=a?a[0]:r.charAt(0),_=a?Rn(a,1).join(""):r.slice(1);return f[e]()+_}}function fr(e){return function(r){return $s(Ju(Vu(r).replace(kh,"")),e,"")}}function jr(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var a=ur(e.prototype),f=e.apply(a,r);return Ge(f)?f:a}}function Ng(e,r,a){var f=jr(e);function _(){for(var w=arguments.length,I=F(w),M=w,N=hr(_);M--;)I[M]=arguments[M];var V=w<3&&I[0]!==N&&I[w-1]!==N?[]:An(I,N);if(w-=V.length,w<a)return tu(e,r,Pi,_.placeholder,n,I,V,n,n,a-w);var J=this&&this!==ut&&this instanceof _?f:e;return It(J,this,I)}return _}function Yl(e){return function(r,a,f){var _=Be(r);if(!Et(r)){var w=he(a,3);r=ot(r),a=function(M){return w(_[M],M,_)}}var I=e(r,a,f);return I>-1?_[w?r[I]:I]:n}}function Xl(e){return pn(function(r){var a=r.length,f=a,_=Ft.prototype.thru;for(e&&r.reverse();f--;){var w=r[f];if(typeof w!="function")throw new Ut(u);if(_&&!I&&Bi(w)=="wrapper")var I=new Ft([],!0)}for(f=I?f:a;++f<a;){w=r[f];var M=Bi(w),N=M=="wrapper"?_o(w):n;N&&wo(N[0])&&N[1]==(z|R|C|P)&&!N[4].length&&N[9]==1?I=I[Bi(N[0])].apply(I,N[3]):I=w.length==1&&wo(w)?I[M]():I.thru(w)}return function(){var V=arguments,J=V[0];if(I&&V.length==1&&ye(J))return I.plant(J).value();for(var Y=0,ne=a?r[Y].apply(this,V):J;++Y<a;)ne=r[Y].call(this,ne);return ne}})}function Pi(e,r,a,f,_,w,I,M,N,V){var J=r&z,Y=r&A,ne=r&x,ae=r&(R|O),de=r&q,be=ne?n:jr(e);function ge(){for(var xe=arguments.length,Ie=F(xe),Mt=xe;Mt--;)Ie[Mt]=arguments[Mt];if(ae)var _t=hr(ge),Lt=Kh(Ie,_t);if(f&&(Ie=ql(Ie,f,_,ae)),w&&(Ie=Vl(Ie,w,I,ae)),xe-=Lt,ae&&xe<V){var Qe=An(Ie,_t);return tu(e,r,Pi,ge.placeholder,a,Ie,Qe,M,N,V-xe)}var Xt=Y?a:this,yn=ne?Xt[e]:e;return xe=Ie.length,M?Ie=rp(Ie,M):de&&xe>1&&Ie.reverse(),J&&N<xe&&(Ie.length=N),this&&this!==ut&&this instanceof ge&&(yn=be||jr(yn)),yn.apply(Xt,Ie)}return ge}function Ql(e,r){return function(a,f){return fg(a,e,r(f),{})}}function $i(e,r){return function(a,f){var _;if(a===n&&f===n)return r;if(a!==n&&(_=a),f!==n){if(_===n)return f;typeof a=="string"||typeof f=="string"?(a=Ot(a),f=Ot(f)):(a=Bl(a),f=Bl(f)),_=e(a,f)}return _}}function fo(e){return pn(function(r){return r=He(r,St(he())),Ee(function(a){var f=this;return e(r,function(_){return It(_,f,a)})})})}function Di(e,r){r=r===n?" ":Ot(r);var a=r.length;if(a<2)return a?io(r,e):r;var f=io(r,Ei(e/ir(r)));return rr(r)?Rn(Kt(f),0,e).join(""):f.slice(0,e)}function Bg(e,r,a,f){var _=r&A,w=jr(e);function I(){for(var M=-1,N=arguments.length,V=-1,J=f.length,Y=F(J+N),ne=this&&this!==ut&&this instanceof I?w:e;++V<J;)Y[V]=f[V];for(;N--;)Y[V++]=arguments[++M];return It(ne,_?a:this,Y)}return I}function eu(e){return function(r,a,f){return f&&typeof f!="number"&&pt(r,a,f)&&(a=f=n),r=vn(r),a===n?(a=r,r=0):a=vn(a),f=f===n?r<a?1:-1:vn(f),xg(r,a,f,e)}}function Ni(e){return function(r,a){return typeof r=="string"&&typeof a=="string"||(r=Ht(r),a=Ht(a)),e(r,a)}}function tu(e,r,a,f,_,w,I,M,N,V){var J=r&R,Y=J?I:n,ne=J?n:I,ae=J?w:n,de=J?n:w;r|=J?C:j,r&=~(J?j:C),r&k||(r&=~(A|x));var be=[e,r,_,ae,Y,de,ne,M,N,V],ge=a.apply(n,be);return wo(e)&&du(ge,be),ge.placeholder=f,gu(ge,e,r)}function ho(e){var r=nt[e];return function(a,f){if(a=Ht(a),f=f==null?0:ft(we(f),292),f&&gl(a)){var _=($e(a)+"e").split("e"),w=r(_[0]+"e"+(+_[1]+f));return _=($e(w)+"e").split("e"),+(_[0]+"e"+(+_[1]-f))}return r(a)}}var Ug=ar&&1/hi(new ar([,-0]))[1]==Q?function(e){return new ar(e)}:$o;function nu(e){return function(r){var a=ht(r);return a==Vt?js(r):a==Jt?nd(r):Jh(r,e(r))}}function gn(e,r,a,f,_,w,I,M){var N=r&x;if(!N&&typeof e!="function")throw new Ut(u);var V=f?f.length:0;if(V||(r&=~(C|j),f=_=n),I=I===n?I:rt(we(I),0),M=M===n?M:we(M),V-=_?_.length:0,r&j){var J=f,Y=_;f=_=n}var ne=N?n:_o(e),ae=[e,r,a,f,_,J,Y,w,I,M];if(ne&&ep(ae,ne),e=ae[0],r=ae[1],a=ae[2],f=ae[3],_=ae[4],M=ae[9]=ae[9]===n?N?0:e.length:rt(ae[9]-V,0),!M&&r&(R|O)&&(r&=~(R|O)),!r||r==A)var de=Dg(e,r,a);else r==R||r==O?de=Ng(e,r,M):(r==C||r==(A|C))&&!_.length?de=Bg(e,r,a,f):de=Pi.apply(n,ae);var be=ne?Dl:du;return gu(be(de,ae),e,r)}function ru(e,r,a,f){return e===n||Yt(e,or[a])&&!De.call(f,a)?r:e}function iu(e,r,a,f,_,w){return Ge(e)&&Ge(r)&&(w.set(r,e),Ri(e,r,n,iu,w),w.delete(r)),e}function Fg(e){return Gr(e)?n:e}function su(e,r,a,f,_,w){var I=a&E,M=e.length,N=r.length;if(M!=N&&!(I&&N>M))return!1;var V=w.get(e),J=w.get(r);if(V&&J)return V==r&&J==e;var Y=-1,ne=!0,ae=a&T?new Un:n;for(w.set(e,r),w.set(r,e);++Y<M;){var de=e[Y],be=r[Y];if(f)var ge=I?f(be,de,Y,r,e,w):f(de,be,Y,e,r,w);if(ge!==n){if(ge)continue;ne=!1;break}if(ae){if(!Ds(r,function(xe,Ie){if(!Mr(ae,Ie)&&(de===xe||_(de,xe,a,f,w)))return ae.push(Ie)})){ne=!1;break}}else if(!(de===be||_(de,be,a,f,w))){ne=!1;break}}return w.delete(e),w.delete(r),ne}function zg(e,r,a,f,_,w,I){switch(a){case er:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Rr:return!(e.byteLength!=r.byteLength||!w(new vi(e),new vi(r)));case dt:case un:case kr:return Yt(+e,+r);case ii:return e.name==r.name&&e.message==r.message;case Ir:case Sr:return e==r+"";case Vt:var M=js;case Jt:var N=f&E;if(M||(M=hi),e.size!=r.size&&!N)return!1;var V=I.get(e);if(V)return V==r;f|=T,I.set(e,r);var J=su(M(e),M(r),f,_,w,I);return I.delete(e),J;case oi:if(Dr)return Dr.call(e)==Dr.call(r)}return!1}function jg(e,r,a,f,_,w){var I=a&E,M=go(e),N=M.length,V=go(r),J=V.length;if(N!=J&&!I)return!1;for(var Y=N;Y--;){var ne=M[Y];if(!(I?ne in r:De.call(r,ne)))return!1}var ae=w.get(e),de=w.get(r);if(ae&&de)return ae==r&&de==e;var be=!0;w.set(e,r),w.set(r,e);for(var ge=I;++Y<N;){ne=M[Y];var xe=e[ne],Ie=r[ne];if(f)var Mt=I?f(Ie,xe,ne,r,e,w):f(xe,Ie,ne,e,r,w);if(!(Mt===n?xe===Ie||_(xe,Ie,a,f,w):Mt)){be=!1;break}ge||(ge=ne=="constructor")}if(be&&!ge){var _t=e.constructor,Lt=r.constructor;_t!=Lt&&"constructor"in e&&"constructor"in r&&!(typeof _t=="function"&&_t instanceof _t&&typeof Lt=="function"&&Lt instanceof Lt)&&(be=!1)}return w.delete(e),w.delete(r),be}function pn(e){return Eo(fu(e,n,wu),e+"")}function go(e){return Al(e,ot,vo)}function po(e){return Al(e,xt,ou)}var _o=Ti?function(e){return Ti.get(e)}:$o;function Bi(e){for(var r=e.name+"",a=lr[r],f=De.call(lr,r)?a.length:0;f--;){var _=a[f],w=_.func;if(w==null||w==e)return _.name}return r}function hr(e){var r=De.call(v,"placeholder")?v:e;return r.placeholder}function he(){var e=v.iteratee||Co;return e=e===Co?Sl:e,arguments.length?e(arguments[0],arguments[1]):e}function Ui(e,r){var a=e.__data__;return Zg(r)?a[typeof r=="string"?"string":"hash"]:a.map}function mo(e){for(var r=ot(e),a=r.length;a--;){var f=r[a],_=e[f];r[a]=[f,_,uu(_)]}return r}function jn(e,r){var a=Qh(e,r);return Il(a)?a:n}function Wg(e){var r=De.call(e,Nn),a=e[Nn];try{e[Nn]=n;var f=!0}catch{}var _=_i.call(e);return f&&(r?e[Nn]=a:delete e[Nn]),_}var vo=Hs?function(e){return e==null?[]:(e=Be(e),xn(Hs(e),function(r){return hl.call(e,r)}))}:Do,ou=Hs?function(e){for(var r=[];e;)Tn(r,vo(e)),e=yi(e);return r}:Do,ht=gt;(Gs&&ht(new Gs(new ArrayBuffer(1)))!=er||Cr&&ht(new Cr)!=Vt||qs&&ht(qs.resolve())!=Ea||ar&&ht(new ar)!=Jt||Pr&&ht(new Pr)!=Or)&&(ht=function(e){var r=gt(e),a=r==cn?e.constructor:n,f=a?Wn(a):"";if(f)switch(f){case Ad:return er;case kd:return Vt;case Id:return Ea;case Sd:return Jt;case Od:return Or}return r});function Hg(e,r,a){for(var f=-1,_=a.length;++f<_;){var w=a[f],I=w.size;switch(w.type){case"drop":e+=I;break;case"dropRight":r-=I;break;case"take":r=ft(r,e+I);break;case"takeRight":e=rt(e,r-I);break}}return{start:e,end:r}}function Gg(e){var r=e.match(Yf);return r?r[1].split(Xf):[]}function au(e,r,a){r=On(r,e);for(var f=-1,_=r.length,w=!1;++f<_;){var I=sn(r[f]);if(!(w=e!=null&&a(e,I)))break;e=e[I]}return w||++f!=_?w:(_=e==null?0:e.length,!!_&&qi(_)&&_n(I,_)&&(ye(e)||Hn(e)))}function qg(e){var r=e.length,a=new e.constructor(r);return r&&typeof e[0]=="string"&&De.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function lu(e){return typeof e.constructor=="function"&&!Wr(e)?ur(yi(e)):{}}function Vg(e,r,a){var f=e.constructor;switch(r){case Rr:return co(e);case dt:case un:return new f(+e);case er:return Rg(e,a);case _s:case ms:case vs:case ys:case ws:case bs:case Es:case xs:case Ts:return Hl(e,a);case Vt:return new f;case kr:case Sr:return new f(e);case Ir:return Mg(e);case Jt:return new f;case oi:return Lg(e)}}function Jg(e,r){var a=r.length;if(!a)return e;var f=a-1;return r[f]=(a>1?"& ":"")+r[f],r=r.join(a>2?", ":" "),e.replace(Zf,`{
/* [wrapped with `+r+`] */
`)}function Kg(e){return ye(e)||Hn(e)||!!(dl&&e&&e[dl])}function _n(e,r){var a=typeof e;return r=r==null?te:r,!!r&&(a=="number"||a!="symbol"&&ah.test(e))&&e>-1&&e%1==0&&e<r}function pt(e,r,a){if(!Ge(a))return!1;var f=typeof r;return(f=="number"?Et(a)&&_n(r,a.length):f=="string"&&r in a)?Yt(a[r],e):!1}function yo(e,r){if(ye(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||Rt(e)?!0:qf.test(e)||!Gf.test(e)||r!=null&&e in Be(r)}function Zg(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function wo(e){var r=Bi(e),a=v[r];if(typeof a!="function"||!(r in ke.prototype))return!1;if(e===a)return!0;var f=_o(a);return!!f&&e===f[0]}function Yg(e){return!!ul&&ul in e}var Xg=gi?mn:No;function Wr(e){var r=e&&e.constructor,a=typeof r=="function"&&r.prototype||or;return e===a}function uu(e){return e===e&&!Ge(e)}function cu(e,r){return function(a){return a==null?!1:a[e]===r&&(r!==n||e in Be(a))}}function Qg(e){var r=Hi(e,function(f){return a.size===h&&a.clear(),f}),a=r.cache;return r}function ep(e,r){var a=e[1],f=r[1],_=a|f,w=_<(A|x|z),I=f==z&&a==R||f==z&&a==P&&e[7].length<=r[8]||f==(z|P)&&r[7].length<=r[8]&&a==R;if(!(w||I))return e;f&A&&(e[2]=r[2],_|=a&A?0:k);var M=r[3];if(M){var N=e[3];e[3]=N?ql(N,M,r[4]):M,e[4]=N?An(e[3],g):r[4]}return M=r[5],M&&(N=e[5],e[5]=N?Vl(N,M,r[6]):M,e[6]=N?An(e[5],g):r[6]),M=r[7],M&&(e[7]=M),f&z&&(e[8]=e[8]==null?r[8]:ft(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=_,e}function tp(e){var r=[];if(e!=null)for(var a in Be(e))r.push(a);return r}function np(e){return _i.call(e)}function fu(e,r,a){return r=rt(r===n?e.length-1:r,0),function(){for(var f=arguments,_=-1,w=rt(f.length-r,0),I=F(w);++_<w;)I[_]=f[r+_];_=-1;for(var M=F(r+1);++_<r;)M[_]=f[_];return M[r]=a(I),It(e,this,M)}}function hu(e,r){return r.length<2?e:zn(e,jt(r,0,-1))}function rp(e,r){for(var a=e.length,f=ft(r.length,a),_=bt(e);f--;){var w=r[f];e[f]=_n(w,a)?_[w]:n}return e}function bo(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var du=pu(Dl),Hr=vd||function(e,r){return ut.setTimeout(e,r)},Eo=pu(kg);function gu(e,r,a){var f=r+"";return Eo(e,Jg(f,ip(Gg(f),a)))}function pu(e){var r=0,a=0;return function(){var f=Ed(),_=re-(f-a);if(a=f,_>0){if(++r>=ue)return arguments[0]}else r=0;return e.apply(n,arguments)}}function Fi(e,r){var a=-1,f=e.length,_=f-1;for(r=r===n?f:r;++a<r;){var w=ro(a,_),I=e[w];e[w]=e[a],e[a]=I}return e.length=r,e}var _u=Qg(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Vf,function(a,f,_,w){r.push(_?w.replace(th,"$1"):f||a)}),r});function sn(e){if(typeof e=="string"||Rt(e))return e;var r=e+"";return r=="0"&&1/e==-Q?"-0":r}function Wn(e){if(e!=null){try{return pi.call(e)}catch{}try{return e+""}catch{}}return""}function ip(e,r){return Bt(Ke,function(a){var f="_."+a[0];r&a[1]&&!ci(e,f)&&e.push(f)}),e.sort()}function mu(e){if(e instanceof ke)return e.clone();var r=new Ft(e.__wrapped__,e.__chain__);return r.__actions__=bt(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}function sp(e,r,a){(a?pt(e,r,a):r===n)?r=1:r=rt(we(r),0);var f=e==null?0:e.length;if(!f||r<1)return[];for(var _=0,w=0,I=F(Ei(f/r));_<f;)I[w++]=jt(e,_,_+=r);return I}function op(e){for(var r=-1,a=e==null?0:e.length,f=0,_=[];++r<a;){var w=e[r];w&&(_[f++]=w)}return _}function ap(){var e=arguments.length;if(!e)return[];for(var r=F(e-1),a=arguments[0],f=e;f--;)r[f-1]=arguments[f];return Tn(ye(a)?bt(a):[a],ct(r,1))}var lp=Ee(function(e,r){return Xe(e)?Br(e,ct(r,1,Xe,!0)):[]}),up=Ee(function(e,r){var a=Wt(r);return Xe(a)&&(a=n),Xe(e)?Br(e,ct(r,1,Xe,!0),he(a,2)):[]}),cp=Ee(function(e,r){var a=Wt(r);return Xe(a)&&(a=n),Xe(e)?Br(e,ct(r,1,Xe,!0),n,a):[]});function fp(e,r,a){var f=e==null?0:e.length;return f?(r=a||r===n?1:we(r),jt(e,r<0?0:r,f)):[]}function hp(e,r,a){var f=e==null?0:e.length;return f?(r=a||r===n?1:we(r),r=f-r,jt(e,0,r<0?0:r)):[]}function dp(e,r){return e&&e.length?Li(e,he(r,3),!0,!0):[]}function gp(e,r){return e&&e.length?Li(e,he(r,3),!0):[]}function pp(e,r,a,f){var _=e==null?0:e.length;return _?(a&&typeof a!="number"&&pt(e,r,a)&&(a=0,f=_),ag(e,r,a,f)):[]}function vu(e,r,a){var f=e==null?0:e.length;if(!f)return-1;var _=a==null?0:we(a);return _<0&&(_=rt(f+_,0)),fi(e,he(r,3),_)}function yu(e,r,a){var f=e==null?0:e.length;if(!f)return-1;var _=f-1;return a!==n&&(_=we(a),_=a<0?rt(f+_,0):ft(_,f-1)),fi(e,he(r,3),_,!0)}function wu(e){var r=e==null?0:e.length;return r?ct(e,1):[]}function _p(e){var r=e==null?0:e.length;return r?ct(e,Q):[]}function mp(e,r){var a=e==null?0:e.length;return a?(r=r===n?1:we(r),ct(e,r)):[]}function vp(e){for(var r=-1,a=e==null?0:e.length,f={};++r<a;){var _=e[r];f[_[0]]=_[1]}return f}function bu(e){return e&&e.length?e[0]:n}function yp(e,r,a){var f=e==null?0:e.length;if(!f)return-1;var _=a==null?0:we(a);return _<0&&(_=rt(f+_,0)),nr(e,r,_)}function wp(e){var r=e==null?0:e.length;return r?jt(e,0,-1):[]}var bp=Ee(function(e){var r=He(e,lo);return r.length&&r[0]===e[0]?Xs(r):[]}),Ep=Ee(function(e){var r=Wt(e),a=He(e,lo);return r===Wt(a)?r=n:a.pop(),a.length&&a[0]===e[0]?Xs(a,he(r,2)):[]}),xp=Ee(function(e){var r=Wt(e),a=He(e,lo);return r=typeof r=="function"?r:n,r&&a.pop(),a.length&&a[0]===e[0]?Xs(a,n,r):[]});function Tp(e,r){return e==null?"":wd.call(e,r)}function Wt(e){var r=e==null?0:e.length;return r?e[r-1]:n}function Ap(e,r,a){var f=e==null?0:e.length;if(!f)return-1;var _=f;return a!==n&&(_=we(a),_=_<0?rt(f+_,0):ft(_,f-1)),r===r?id(e,r,_):fi(e,tl,_,!0)}function kp(e,r){return e&&e.length?Ll(e,we(r)):n}var Ip=Ee(Eu);function Eu(e,r){return e&&e.length&&r&&r.length?no(e,r):e}function Sp(e,r,a){return e&&e.length&&r&&r.length?no(e,r,he(a,2)):e}function Op(e,r,a){return e&&e.length&&r&&r.length?no(e,r,n,a):e}var Rp=pn(function(e,r){var a=e==null?0:e.length,f=Js(e,r);return $l(e,He(r,function(_){return _n(_,a)?+_:_}).sort(Gl)),f});function Mp(e,r){var a=[];if(!(e&&e.length))return a;var f=-1,_=[],w=e.length;for(r=he(r,3);++f<w;){var I=e[f];r(I,f,e)&&(a.push(I),_.push(f))}return $l(e,_),a}function xo(e){return e==null?e:Td.call(e)}function Lp(e,r,a){var f=e==null?0:e.length;return f?(a&&typeof a!="number"&&pt(e,r,a)?(r=0,a=f):(r=r==null?0:we(r),a=a===n?f:we(a)),jt(e,r,a)):[]}function Cp(e,r){return Mi(e,r)}function Pp(e,r,a){return so(e,r,he(a,2))}function $p(e,r){var a=e==null?0:e.length;if(a){var f=Mi(e,r);if(f<a&&Yt(e[f],r))return f}return-1}function Dp(e,r){return Mi(e,r,!0)}function Np(e,r,a){return so(e,r,he(a,2),!0)}function Bp(e,r){var a=e==null?0:e.length;if(a){var f=Mi(e,r,!0)-1;if(Yt(e[f],r))return f}return-1}function Up(e){return e&&e.length?Nl(e):[]}function Fp(e,r){return e&&e.length?Nl(e,he(r,2)):[]}function zp(e){var r=e==null?0:e.length;return r?jt(e,1,r):[]}function jp(e,r,a){return e&&e.length?(r=a||r===n?1:we(r),jt(e,0,r<0?0:r)):[]}function Wp(e,r,a){var f=e==null?0:e.length;return f?(r=a||r===n?1:we(r),r=f-r,jt(e,r<0?0:r,f)):[]}function Hp(e,r){return e&&e.length?Li(e,he(r,3),!1,!0):[]}function Gp(e,r){return e&&e.length?Li(e,he(r,3)):[]}var qp=Ee(function(e){return Sn(ct(e,1,Xe,!0))}),Vp=Ee(function(e){var r=Wt(e);return Xe(r)&&(r=n),Sn(ct(e,1,Xe,!0),he(r,2))}),Jp=Ee(function(e){var r=Wt(e);return r=typeof r=="function"?r:n,Sn(ct(e,1,Xe,!0),n,r)});function Kp(e){return e&&e.length?Sn(e):[]}function Zp(e,r){return e&&e.length?Sn(e,he(r,2)):[]}function Yp(e,r){return r=typeof r=="function"?r:n,e&&e.length?Sn(e,n,r):[]}function To(e){if(!(e&&e.length))return[];var r=0;return e=xn(e,function(a){if(Xe(a))return r=rt(a.length,r),!0}),Fs(r,function(a){return He(e,Ns(a))})}function xu(e,r){if(!(e&&e.length))return[];var a=To(e);return r==null?a:He(a,function(f){return It(r,n,f)})}var Xp=Ee(function(e,r){return Xe(e)?Br(e,r):[]}),Qp=Ee(function(e){return ao(xn(e,Xe))}),e_=Ee(function(e){var r=Wt(e);return Xe(r)&&(r=n),ao(xn(e,Xe),he(r,2))}),t_=Ee(function(e){var r=Wt(e);return r=typeof r=="function"?r:n,ao(xn(e,Xe),n,r)}),n_=Ee(To);function r_(e,r){return zl(e||[],r||[],Nr)}function i_(e,r){return zl(e||[],r||[],zr)}var s_=Ee(function(e){var r=e.length,a=r>1?e[r-1]:n;return a=typeof a=="function"?(e.pop(),a):n,xu(e,a)});function Tu(e){var r=v(e);return r.__chain__=!0,r}function o_(e,r){return r(e),e}function zi(e,r){return r(e)}var a_=pn(function(e){var r=e.length,a=r?e[0]:0,f=this.__wrapped__,_=function(w){return Js(w,e)};return r>1||this.__actions__.length||!(f instanceof ke)||!_n(a)?this.thru(_):(f=f.slice(a,+a+(r?1:0)),f.__actions__.push({func:zi,args:[_],thisArg:n}),new Ft(f,this.__chain__).thru(function(w){return r&&!w.length&&w.push(n),w}))});function l_(){return Tu(this)}function u_(){return new Ft(this.value(),this.__chain__)}function c_(){this.__values__===n&&(this.__values__=Bu(this.value()));var e=this.__index__>=this.__values__.length,r=e?n:this.__values__[this.__index__++];return{done:e,value:r}}function f_(){return this}function h_(e){for(var r,a=this;a instanceof ki;){var f=mu(a);f.__index__=0,f.__values__=n,r?_.__wrapped__=f:r=f;var _=f;a=a.__wrapped__}return _.__wrapped__=e,r}function d_(){var e=this.__wrapped__;if(e instanceof ke){var r=e;return this.__actions__.length&&(r=new ke(this)),r=r.reverse(),r.__actions__.push({func:zi,args:[xo],thisArg:n}),new Ft(r,this.__chain__)}return this.thru(xo)}function g_(){return Fl(this.__wrapped__,this.__actions__)}var p_=Ci(function(e,r,a){De.call(e,a)?++e[a]:dn(e,a,1)});function __(e,r,a){var f=ye(e)?Qa:og;return a&&pt(e,r,a)&&(r=n),f(e,he(r,3))}function m_(e,r){var a=ye(e)?xn:xl;return a(e,he(r,3))}var v_=Yl(vu),y_=Yl(yu);function w_(e,r){return ct(ji(e,r),1)}function b_(e,r){return ct(ji(e,r),Q)}function E_(e,r,a){return a=a===n?1:we(a),ct(ji(e,r),a)}function Au(e,r){var a=ye(e)?Bt:In;return a(e,he(r,3))}function ku(e,r){var a=ye(e)?zh:El;return a(e,he(r,3))}var x_=Ci(function(e,r,a){De.call(e,a)?e[a].push(r):dn(e,a,[r])});function T_(e,r,a,f){e=Et(e)?e:gr(e),a=a&&!f?we(a):0;var _=e.length;return a<0&&(a=rt(_+a,0)),Vi(e)?a<=_&&e.indexOf(r,a)>-1:!!_&&nr(e,r,a)>-1}var A_=Ee(function(e,r,a){var f=-1,_=typeof r=="function",w=Et(e)?F(e.length):[];return In(e,function(I){w[++f]=_?It(r,I,a):Ur(I,r,a)}),w}),k_=Ci(function(e,r,a){dn(e,a,r)});function ji(e,r){var a=ye(e)?He:Ol;return a(e,he(r,3))}function I_(e,r,a,f){return e==null?[]:(ye(r)||(r=r==null?[]:[r]),a=f?n:a,ye(a)||(a=a==null?[]:[a]),Cl(e,r,a))}var S_=Ci(function(e,r,a){e[a?0:1].push(r)},function(){return[[],[]]});function O_(e,r,a){var f=ye(e)?$s:rl,_=arguments.length<3;return f(e,he(r,4),a,_,In)}function R_(e,r,a){var f=ye(e)?jh:rl,_=arguments.length<3;return f(e,he(r,4),a,_,El)}function M_(e,r){var a=ye(e)?xn:xl;return a(e,Gi(he(r,3)))}function L_(e){var r=ye(e)?vl:Tg;return r(e)}function C_(e,r,a){(a?pt(e,r,a):r===n)?r=1:r=we(r);var f=ye(e)?tg:Ag;return f(e,r)}function P_(e){var r=ye(e)?ng:Ig;return r(e)}function $_(e){if(e==null)return 0;if(Et(e))return Vi(e)?ir(e):e.length;var r=ht(e);return r==Vt||r==Jt?e.size:eo(e).length}function D_(e,r,a){var f=ye(e)?Ds:Sg;return a&&pt(e,r,a)&&(r=n),f(e,he(r,3))}var N_=Ee(function(e,r){if(e==null)return[];var a=r.length;return a>1&&pt(e,r[0],r[1])?r=[]:a>2&&pt(r[0],r[1],r[2])&&(r=[r[0]]),Cl(e,ct(r,1),[])}),Wi=md||function(){return ut.Date.now()};function B_(e,r){if(typeof r!="function")throw new Ut(u);return e=we(e),function(){if(--e<1)return r.apply(this,arguments)}}function Iu(e,r,a){return r=a?n:r,r=e&&r==null?e.length:r,gn(e,z,n,n,n,n,r)}function Su(e,r){var a;if(typeof r!="function")throw new Ut(u);return e=we(e),function(){return--e>0&&(a=r.apply(this,arguments)),e<=1&&(r=n),a}}var Ao=Ee(function(e,r,a){var f=A;if(a.length){var _=An(a,hr(Ao));f|=C}return gn(e,f,r,a,_)}),Ou=Ee(function(e,r,a){var f=A|x;if(a.length){var _=An(a,hr(Ou));f|=C}return gn(r,f,e,a,_)});function Ru(e,r,a){r=a?n:r;var f=gn(e,R,n,n,n,n,n,r);return f.placeholder=Ru.placeholder,f}function Mu(e,r,a){r=a?n:r;var f=gn(e,O,n,n,n,n,n,r);return f.placeholder=Mu.placeholder,f}function Lu(e,r,a){var f,_,w,I,M,N,V=0,J=!1,Y=!1,ne=!0;if(typeof e!="function")throw new Ut(u);r=Ht(r)||0,Ge(a)&&(J=!!a.leading,Y="maxWait"in a,w=Y?rt(Ht(a.maxWait)||0,r):w,ne="trailing"in a?!!a.trailing:ne);function ae(Qe){var Xt=f,yn=_;return f=_=n,V=Qe,I=e.apply(yn,Xt),I}function de(Qe){return V=Qe,M=Hr(xe,r),J?ae(Qe):I}function be(Qe){var Xt=Qe-N,yn=Qe-V,Yu=r-Xt;return Y?ft(Yu,w-yn):Yu}function ge(Qe){var Xt=Qe-N,yn=Qe-V;return N===n||Xt>=r||Xt<0||Y&&yn>=w}function xe(){var Qe=Wi();if(ge(Qe))return Ie(Qe);M=Hr(xe,be(Qe))}function Ie(Qe){return M=n,ne&&f?ae(Qe):(f=_=n,I)}function Mt(){M!==n&&jl(M),V=0,f=N=_=M=n}function _t(){return M===n?I:Ie(Wi())}function Lt(){var Qe=Wi(),Xt=ge(Qe);if(f=arguments,_=this,N=Qe,Xt){if(M===n)return de(N);if(Y)return jl(M),M=Hr(xe,r),ae(N)}return M===n&&(M=Hr(xe,r)),I}return Lt.cancel=Mt,Lt.flush=_t,Lt}var U_=Ee(function(e,r){return bl(e,1,r)}),F_=Ee(function(e,r,a){return bl(e,Ht(r)||0,a)});function z_(e){return gn(e,q)}function Hi(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new Ut(u);var a=function(){var f=arguments,_=r?r.apply(this,f):f[0],w=a.cache;if(w.has(_))return w.get(_);var I=e.apply(this,f);return a.cache=w.set(_,I)||w,I};return a.cache=new(Hi.Cache||hn),a}Hi.Cache=hn;function Gi(e){if(typeof e!="function")throw new Ut(u);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function j_(e){return Su(2,e)}var W_=Og(function(e,r){r=r.length==1&&ye(r[0])?He(r[0],St(he())):He(ct(r,1),St(he()));var a=r.length;return Ee(function(f){for(var _=-1,w=ft(f.length,a);++_<w;)f[_]=r[_].call(this,f[_]);return It(e,this,f)})}),ko=Ee(function(e,r){var a=An(r,hr(ko));return gn(e,C,n,r,a)}),Cu=Ee(function(e,r){var a=An(r,hr(Cu));return gn(e,j,n,r,a)}),H_=pn(function(e,r){return gn(e,P,n,n,n,r)});function G_(e,r){if(typeof e!="function")throw new Ut(u);return r=r===n?r:we(r),Ee(e,r)}function q_(e,r){if(typeof e!="function")throw new Ut(u);return r=r==null?0:rt(we(r),0),Ee(function(a){var f=a[r],_=Rn(a,0,r);return f&&Tn(_,f),It(e,this,_)})}function V_(e,r,a){var f=!0,_=!0;if(typeof e!="function")throw new Ut(u);return Ge(a)&&(f="leading"in a?!!a.leading:f,_="trailing"in a?!!a.trailing:_),Lu(e,r,{leading:f,maxWait:r,trailing:_})}function J_(e){return Iu(e,1)}function K_(e,r){return ko(uo(r),e)}function Z_(){if(!arguments.length)return[];var e=arguments[0];return ye(e)?e:[e]}function Y_(e){return zt(e,m)}function X_(e,r){return r=typeof r=="function"?r:n,zt(e,m,r)}function Q_(e){return zt(e,p|m)}function e0(e,r){return r=typeof r=="function"?r:n,zt(e,p|m,r)}function t0(e,r){return r==null||wl(e,r,ot(r))}function Yt(e,r){return e===r||e!==e&&r!==r}var n0=Ni(Ys),r0=Ni(function(e,r){return e>=r}),Hn=kl(function(){return arguments}())?kl:function(e){return Ze(e)&&De.call(e,"callee")&&!hl.call(e,"callee")},ye=F.isArray,i0=Va?St(Va):hg;function Et(e){return e!=null&&qi(e.length)&&!mn(e)}function Xe(e){return Ze(e)&&Et(e)}function s0(e){return e===!0||e===!1||Ze(e)&&gt(e)==dt}var Mn=yd||No,o0=Ja?St(Ja):dg;function a0(e){return Ze(e)&&e.nodeType===1&&!Gr(e)}function l0(e){if(e==null)return!0;if(Et(e)&&(ye(e)||typeof e=="string"||typeof e.splice=="function"||Mn(e)||dr(e)||Hn(e)))return!e.length;var r=ht(e);if(r==Vt||r==Jt)return!e.size;if(Wr(e))return!eo(e).length;for(var a in e)if(De.call(e,a))return!1;return!0}function u0(e,r){return Fr(e,r)}function c0(e,r,a){a=typeof a=="function"?a:n;var f=a?a(e,r):n;return f===n?Fr(e,r,n,a):!!f}function Io(e){if(!Ze(e))return!1;var r=gt(e);return r==ii||r==Cf||typeof e.message=="string"&&typeof e.name=="string"&&!Gr(e)}function f0(e){return typeof e=="number"&&gl(e)}function mn(e){if(!Ge(e))return!1;var r=gt(e);return r==si||r==ba||r==kt||r==$f}function Pu(e){return typeof e=="number"&&e==we(e)}function qi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=te}function Ge(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function Ze(e){return e!=null&&typeof e=="object"}var $u=Ka?St(Ka):pg;function h0(e,r){return e===r||Qs(e,r,mo(r))}function d0(e,r,a){return a=typeof a=="function"?a:n,Qs(e,r,mo(r),a)}function g0(e){return Du(e)&&e!=+e}function p0(e){if(Xg(e))throw new ve(l);return Il(e)}function _0(e){return e===null}function m0(e){return e==null}function Du(e){return typeof e=="number"||Ze(e)&&gt(e)==kr}function Gr(e){if(!Ze(e)||gt(e)!=cn)return!1;var r=yi(e);if(r===null)return!0;var a=De.call(r,"constructor")&&r.constructor;return typeof a=="function"&&a instanceof a&&pi.call(a)==dd}var So=Za?St(Za):_g;function v0(e){return Pu(e)&&e>=-te&&e<=te}var Nu=Ya?St(Ya):mg;function Vi(e){return typeof e=="string"||!ye(e)&&Ze(e)&&gt(e)==Sr}function Rt(e){return typeof e=="symbol"||Ze(e)&&gt(e)==oi}var dr=Xa?St(Xa):vg;function y0(e){return e===n}function w0(e){return Ze(e)&&ht(e)==Or}function b0(e){return Ze(e)&&gt(e)==Nf}var E0=Ni(to),x0=Ni(function(e,r){return e<=r});function Bu(e){if(!e)return[];if(Et(e))return Vi(e)?Kt(e):bt(e);if(Lr&&e[Lr])return td(e[Lr]());var r=ht(e),a=r==Vt?js:r==Jt?hi:gr;return a(e)}function vn(e){if(!e)return e===0?e:0;if(e=Ht(e),e===Q||e===-Q){var r=e<0?-1:1;return r*ee}return e===e?e:0}function we(e){var r=vn(e),a=r%1;return r===r?a?r-a:r:0}function Uu(e){return e?Fn(we(e),0,_e):0}function Ht(e){if(typeof e=="number")return e;if(Rt(e))return pe;if(Ge(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Ge(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=il(e);var a=ih.test(e);return a||oh.test(e)?Bh(e.slice(2),a?2:8):rh.test(e)?pe:+e}function Fu(e){return rn(e,xt(e))}function T0(e){return e?Fn(we(e),-te,te):e===0?e:0}function $e(e){return e==null?"":Ot(e)}var A0=cr(function(e,r){if(Wr(r)||Et(r)){rn(r,ot(r),e);return}for(var a in r)De.call(r,a)&&Nr(e,a,r[a])}),zu=cr(function(e,r){rn(r,xt(r),e)}),Ji=cr(function(e,r,a,f){rn(r,xt(r),e,f)}),k0=cr(function(e,r,a,f){rn(r,ot(r),e,f)}),I0=pn(Js);function S0(e,r){var a=ur(e);return r==null?a:yl(a,r)}var O0=Ee(function(e,r){e=Be(e);var a=-1,f=r.length,_=f>2?r[2]:n;for(_&&pt(r[0],r[1],_)&&(f=1);++a<f;)for(var w=r[a],I=xt(w),M=-1,N=I.length;++M<N;){var V=I[M],J=e[V];(J===n||Yt(J,or[V])&&!De.call(e,V))&&(e[V]=w[V])}return e}),R0=Ee(function(e){return e.push(n,iu),It(ju,n,e)});function M0(e,r){return el(e,he(r,3),nn)}function L0(e,r){return el(e,he(r,3),Zs)}function C0(e,r){return e==null?e:Ks(e,he(r,3),xt)}function P0(e,r){return e==null?e:Tl(e,he(r,3),xt)}function $0(e,r){return e&&nn(e,he(r,3))}function D0(e,r){return e&&Zs(e,he(r,3))}function N0(e){return e==null?[]:Oi(e,ot(e))}function B0(e){return e==null?[]:Oi(e,xt(e))}function Oo(e,r,a){var f=e==null?n:zn(e,r);return f===n?a:f}function U0(e,r){return e!=null&&au(e,r,lg)}function Ro(e,r){return e!=null&&au(e,r,ug)}var F0=Ql(function(e,r,a){r!=null&&typeof r.toString!="function"&&(r=_i.call(r)),e[r]=a},Lo(Tt)),z0=Ql(function(e,r,a){r!=null&&typeof r.toString!="function"&&(r=_i.call(r)),De.call(e,r)?e[r].push(a):e[r]=[a]},he),j0=Ee(Ur);function ot(e){return Et(e)?ml(e):eo(e)}function xt(e){return Et(e)?ml(e,!0):yg(e)}function W0(e,r){var a={};return r=he(r,3),nn(e,function(f,_,w){dn(a,r(f,_,w),f)}),a}function H0(e,r){var a={};return r=he(r,3),nn(e,function(f,_,w){dn(a,_,r(f,_,w))}),a}var G0=cr(function(e,r,a){Ri(e,r,a)}),ju=cr(function(e,r,a,f){Ri(e,r,a,f)}),q0=pn(function(e,r){var a={};if(e==null)return a;var f=!1;r=He(r,function(w){return w=On(w,e),f||(f=w.length>1),w}),rn(e,po(e),a),f&&(a=zt(a,p|y|m,Fg));for(var _=r.length;_--;)oo(a,r[_]);return a});function V0(e,r){return Wu(e,Gi(he(r)))}var J0=pn(function(e,r){return e==null?{}:bg(e,r)});function Wu(e,r){if(e==null)return{};var a=He(po(e),function(f){return[f]});return r=he(r),Pl(e,a,function(f,_){return r(f,_[0])})}function K0(e,r,a){r=On(r,e);var f=-1,_=r.length;for(_||(_=1,e=n);++f<_;){var w=e==null?n:e[sn(r[f])];w===n&&(f=_,w=a),e=mn(w)?w.call(e):w}return e}function Z0(e,r,a){return e==null?e:zr(e,r,a)}function Y0(e,r,a,f){return f=typeof f=="function"?f:n,e==null?e:zr(e,r,a,f)}var Hu=nu(ot),Gu=nu(xt);function X0(e,r,a){var f=ye(e),_=f||Mn(e)||dr(e);if(r=he(r,4),a==null){var w=e&&e.constructor;_?a=f?new w:[]:Ge(e)?a=mn(w)?ur(yi(e)):{}:a={}}return(_?Bt:nn)(e,function(I,M,N){return r(a,I,M,N)}),a}function Q0(e,r){return e==null?!0:oo(e,r)}function em(e,r,a){return e==null?e:Ul(e,r,uo(a))}function tm(e,r,a,f){return f=typeof f=="function"?f:n,e==null?e:Ul(e,r,uo(a),f)}function gr(e){return e==null?[]:zs(e,ot(e))}function nm(e){return e==null?[]:zs(e,xt(e))}function rm(e,r,a){return a===n&&(a=r,r=n),a!==n&&(a=Ht(a),a=a===a?a:0),r!==n&&(r=Ht(r),r=r===r?r:0),Fn(Ht(e),r,a)}function im(e,r,a){return r=vn(r),a===n?(a=r,r=0):a=vn(a),e=Ht(e),cg(e,r,a)}function sm(e,r,a){if(a&&typeof a!="boolean"&&pt(e,r,a)&&(r=a=n),a===n&&(typeof r=="boolean"?(a=r,r=n):typeof e=="boolean"&&(a=e,e=n)),e===n&&r===n?(e=0,r=1):(e=vn(e),r===n?(r=e,e=0):r=vn(r)),e>r){var f=e;e=r,r=f}if(a||e%1||r%1){var _=pl();return ft(e+_*(r-e+Nh("1e-"+((_+"").length-1))),r)}return ro(e,r)}var om=fr(function(e,r,a){return r=r.toLowerCase(),e+(a?qu(r):r)});function qu(e){return Mo($e(e).toLowerCase())}function Vu(e){return e=$e(e),e&&e.replace(lh,Zh).replace(Ih,"")}function am(e,r,a){e=$e(e),r=Ot(r);var f=e.length;a=a===n?f:Fn(we(a),0,f);var _=a;return a-=r.length,a>=0&&e.slice(a,_)==r}function lm(e){return e=$e(e),e&&jf.test(e)?e.replace(Ta,Yh):e}function um(e){return e=$e(e),e&&Jf.test(e)?e.replace(As,"\\$&"):e}var cm=fr(function(e,r,a){return e+(a?"-":"")+r.toLowerCase()}),fm=fr(function(e,r,a){return e+(a?" ":"")+r.toLowerCase()}),hm=Zl("toLowerCase");function dm(e,r,a){e=$e(e),r=we(r);var f=r?ir(e):0;if(!r||f>=r)return e;var _=(r-f)/2;return Di(xi(_),a)+e+Di(Ei(_),a)}function gm(e,r,a){e=$e(e),r=we(r);var f=r?ir(e):0;return r&&f<r?e+Di(r-f,a):e}function pm(e,r,a){e=$e(e),r=we(r);var f=r?ir(e):0;return r&&f<r?Di(r-f,a)+e:e}function _m(e,r,a){return a||r==null?r=0:r&&(r=+r),xd($e(e).replace(ks,""),r||0)}function mm(e,r,a){return(a?pt(e,r,a):r===n)?r=1:r=we(r),io($e(e),r)}function vm(){var e=arguments,r=$e(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var ym=fr(function(e,r,a){return e+(a?"_":"")+r.toLowerCase()});function wm(e,r,a){return a&&typeof a!="number"&&pt(e,r,a)&&(r=a=n),a=a===n?_e:a>>>0,a?(e=$e(e),e&&(typeof r=="string"||r!=null&&!So(r))&&(r=Ot(r),!r&&rr(e))?Rn(Kt(e),0,a):e.split(r,a)):[]}var bm=fr(function(e,r,a){return e+(a?" ":"")+Mo(r)});function Em(e,r,a){return e=$e(e),a=a==null?0:Fn(we(a),0,e.length),r=Ot(r),e.slice(a,a+r.length)==r}function xm(e,r,a){var f=v.templateSettings;a&&pt(e,r,a)&&(r=n),e=$e(e),r=Ji({},r,f,ru);var _=Ji({},r.imports,f.imports,ru),w=ot(_),I=zs(_,w),M,N,V=0,J=r.interpolate||ai,Y="__p += '",ne=Ws((r.escape||ai).source+"|"+J.source+"|"+(J===Aa?nh:ai).source+"|"+(r.evaluate||ai).source+"|$","g"),ae="//# sourceURL="+(De.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Lh+"]")+`
`;e.replace(ne,function(ge,xe,Ie,Mt,_t,Lt){return Ie||(Ie=Mt),Y+=e.slice(V,Lt).replace(uh,Xh),xe&&(M=!0,Y+=`' +
__e(`+xe+`) +
'`),_t&&(N=!0,Y+=`';
`+_t+`;
__p += '`),Ie&&(Y+=`' +
((__t = (`+Ie+`)) == null ? '' : __t) +
'`),V=Lt+ge.length,ge}),Y+=`';
`;var de=De.call(r,"variable")&&r.variable;if(!de)Y=`with (obj) {
`+Y+`
}
`;else if(eh.test(de))throw new ve(c);Y=(N?Y.replace(Bf,""):Y).replace(Uf,"$1").replace(Ff,"$1;"),Y="function("+(de||"obj")+`) {
`+(de?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(M?", __e = _.escape":"")+(N?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var be=Ku(function(){return Pe(w,ae+"return "+Y).apply(n,I)});if(be.source=Y,Io(be))throw be;return be}function Tm(e){return $e(e).toLowerCase()}function Am(e){return $e(e).toUpperCase()}function km(e,r,a){if(e=$e(e),e&&(a||r===n))return il(e);if(!e||!(r=Ot(r)))return e;var f=Kt(e),_=Kt(r),w=sl(f,_),I=ol(f,_)+1;return Rn(f,w,I).join("")}function Im(e,r,a){if(e=$e(e),e&&(a||r===n))return e.slice(0,ll(e)+1);if(!e||!(r=Ot(r)))return e;var f=Kt(e),_=ol(f,Kt(r))+1;return Rn(f,0,_).join("")}function Sm(e,r,a){if(e=$e(e),e&&(a||r===n))return e.replace(ks,"");if(!e||!(r=Ot(r)))return e;var f=Kt(e),_=sl(f,Kt(r));return Rn(f,_).join("")}function Om(e,r){var a=Z,f=X;if(Ge(r)){var _="separator"in r?r.separator:_;a="length"in r?we(r.length):a,f="omission"in r?Ot(r.omission):f}e=$e(e);var w=e.length;if(rr(e)){var I=Kt(e);w=I.length}if(a>=w)return e;var M=a-ir(f);if(M<1)return f;var N=I?Rn(I,0,M).join(""):e.slice(0,M);if(_===n)return N+f;if(I&&(M+=N.length-M),So(_)){if(e.slice(M).search(_)){var V,J=N;for(_.global||(_=Ws(_.source,$e(ka.exec(_))+"g")),_.lastIndex=0;V=_.exec(J);)var Y=V.index;N=N.slice(0,Y===n?M:Y)}}else if(e.indexOf(Ot(_),M)!=M){var ne=N.lastIndexOf(_);ne>-1&&(N=N.slice(0,ne))}return N+f}function Rm(e){return e=$e(e),e&&zf.test(e)?e.replace(xa,sd):e}var Mm=fr(function(e,r,a){return e+(a?" ":"")+r.toUpperCase()}),Mo=Zl("toUpperCase");function Ju(e,r,a){return e=$e(e),r=a?n:r,r===n?ed(e)?ld(e):Gh(e):e.match(r)||[]}var Ku=Ee(function(e,r){try{return It(e,n,r)}catch(a){return Io(a)?a:new ve(a)}}),Lm=pn(function(e,r){return Bt(r,function(a){a=sn(a),dn(e,a,Ao(e[a],e))}),e});function Cm(e){var r=e==null?0:e.length,a=he();return e=r?He(e,function(f){if(typeof f[1]!="function")throw new Ut(u);return[a(f[0]),f[1]]}):[],Ee(function(f){for(var _=-1;++_<r;){var w=e[_];if(It(w[0],this,f))return It(w[1],this,f)}})}function Pm(e){return sg(zt(e,p))}function Lo(e){return function(){return e}}function $m(e,r){return e==null||e!==e?r:e}var Dm=Xl(),Nm=Xl(!0);function Tt(e){return e}function Co(e){return Sl(typeof e=="function"?e:zt(e,p))}function Bm(e){return Rl(zt(e,p))}function Um(e,r){return Ml(e,zt(r,p))}var Fm=Ee(function(e,r){return function(a){return Ur(a,e,r)}}),zm=Ee(function(e,r){return function(a){return Ur(e,a,r)}});function Po(e,r,a){var f=ot(r),_=Oi(r,f);a==null&&!(Ge(r)&&(_.length||!f.length))&&(a=r,r=e,e=this,_=Oi(r,ot(r)));var w=!(Ge(a)&&"chain"in a)||!!a.chain,I=mn(e);return Bt(_,function(M){var N=r[M];e[M]=N,I&&(e.prototype[M]=function(){var V=this.__chain__;if(w||V){var J=e(this.__wrapped__),Y=J.__actions__=bt(this.__actions__);return Y.push({func:N,args:arguments,thisArg:e}),J.__chain__=V,J}return N.apply(e,Tn([this.value()],arguments))})}),e}function jm(){return ut._===this&&(ut._=gd),this}function $o(){}function Wm(e){return e=we(e),Ee(function(r){return Ll(r,e)})}var Hm=fo(He),Gm=fo(Qa),qm=fo(Ds);function Zu(e){return yo(e)?Ns(sn(e)):Eg(e)}function Vm(e){return function(r){return e==null?n:zn(e,r)}}var Jm=eu(),Km=eu(!0);function Do(){return[]}function No(){return!1}function Zm(){return{}}function Ym(){return""}function Xm(){return!0}function Qm(e,r){if(e=we(e),e<1||e>te)return[];var a=_e,f=ft(e,_e);r=he(r),e-=_e;for(var _=Fs(f,r);++a<e;)r(a);return _}function ev(e){return ye(e)?He(e,sn):Rt(e)?[e]:bt(_u($e(e)))}function tv(e){var r=++hd;return $e(e)+r}var nv=$i(function(e,r){return e+r},0),rv=ho("ceil"),iv=$i(function(e,r){return e/r},1),sv=ho("floor");function ov(e){return e&&e.length?Si(e,Tt,Ys):n}function av(e,r){return e&&e.length?Si(e,he(r,2),Ys):n}function lv(e){return nl(e,Tt)}function uv(e,r){return nl(e,he(r,2))}function cv(e){return e&&e.length?Si(e,Tt,to):n}function fv(e,r){return e&&e.length?Si(e,he(r,2),to):n}var hv=$i(function(e,r){return e*r},1),dv=ho("round"),gv=$i(function(e,r){return e-r},0);function pv(e){return e&&e.length?Us(e,Tt):0}function _v(e,r){return e&&e.length?Us(e,he(r,2)):0}return v.after=B_,v.ary=Iu,v.assign=A0,v.assignIn=zu,v.assignInWith=Ji,v.assignWith=k0,v.at=I0,v.before=Su,v.bind=Ao,v.bindAll=Lm,v.bindKey=Ou,v.castArray=Z_,v.chain=Tu,v.chunk=sp,v.compact=op,v.concat=ap,v.cond=Cm,v.conforms=Pm,v.constant=Lo,v.countBy=p_,v.create=S0,v.curry=Ru,v.curryRight=Mu,v.debounce=Lu,v.defaults=O0,v.defaultsDeep=R0,v.defer=U_,v.delay=F_,v.difference=lp,v.differenceBy=up,v.differenceWith=cp,v.drop=fp,v.dropRight=hp,v.dropRightWhile=dp,v.dropWhile=gp,v.fill=pp,v.filter=m_,v.flatMap=w_,v.flatMapDeep=b_,v.flatMapDepth=E_,v.flatten=wu,v.flattenDeep=_p,v.flattenDepth=mp,v.flip=z_,v.flow=Dm,v.flowRight=Nm,v.fromPairs=vp,v.functions=N0,v.functionsIn=B0,v.groupBy=x_,v.initial=wp,v.intersection=bp,v.intersectionBy=Ep,v.intersectionWith=xp,v.invert=F0,v.invertBy=z0,v.invokeMap=A_,v.iteratee=Co,v.keyBy=k_,v.keys=ot,v.keysIn=xt,v.map=ji,v.mapKeys=W0,v.mapValues=H0,v.matches=Bm,v.matchesProperty=Um,v.memoize=Hi,v.merge=G0,v.mergeWith=ju,v.method=Fm,v.methodOf=zm,v.mixin=Po,v.negate=Gi,v.nthArg=Wm,v.omit=q0,v.omitBy=V0,v.once=j_,v.orderBy=I_,v.over=Hm,v.overArgs=W_,v.overEvery=Gm,v.overSome=qm,v.partial=ko,v.partialRight=Cu,v.partition=S_,v.pick=J0,v.pickBy=Wu,v.property=Zu,v.propertyOf=Vm,v.pull=Ip,v.pullAll=Eu,v.pullAllBy=Sp,v.pullAllWith=Op,v.pullAt=Rp,v.range=Jm,v.rangeRight=Km,v.rearg=H_,v.reject=M_,v.remove=Mp,v.rest=G_,v.reverse=xo,v.sampleSize=C_,v.set=Z0,v.setWith=Y0,v.shuffle=P_,v.slice=Lp,v.sortBy=N_,v.sortedUniq=Up,v.sortedUniqBy=Fp,v.split=wm,v.spread=q_,v.tail=zp,v.take=jp,v.takeRight=Wp,v.takeRightWhile=Hp,v.takeWhile=Gp,v.tap=o_,v.throttle=V_,v.thru=zi,v.toArray=Bu,v.toPairs=Hu,v.toPairsIn=Gu,v.toPath=ev,v.toPlainObject=Fu,v.transform=X0,v.unary=J_,v.union=qp,v.unionBy=Vp,v.unionWith=Jp,v.uniq=Kp,v.uniqBy=Zp,v.uniqWith=Yp,v.unset=Q0,v.unzip=To,v.unzipWith=xu,v.update=em,v.updateWith=tm,v.values=gr,v.valuesIn=nm,v.without=Xp,v.words=Ju,v.wrap=K_,v.xor=Qp,v.xorBy=e_,v.xorWith=t_,v.zip=n_,v.zipObject=r_,v.zipObjectDeep=i_,v.zipWith=s_,v.entries=Hu,v.entriesIn=Gu,v.extend=zu,v.extendWith=Ji,Po(v,v),v.add=nv,v.attempt=Ku,v.camelCase=om,v.capitalize=qu,v.ceil=rv,v.clamp=rm,v.clone=Y_,v.cloneDeep=Q_,v.cloneDeepWith=e0,v.cloneWith=X_,v.conformsTo=t0,v.deburr=Vu,v.defaultTo=$m,v.divide=iv,v.endsWith=am,v.eq=Yt,v.escape=lm,v.escapeRegExp=um,v.every=__,v.find=v_,v.findIndex=vu,v.findKey=M0,v.findLast=y_,v.findLastIndex=yu,v.findLastKey=L0,v.floor=sv,v.forEach=Au,v.forEachRight=ku,v.forIn=C0,v.forInRight=P0,v.forOwn=$0,v.forOwnRight=D0,v.get=Oo,v.gt=n0,v.gte=r0,v.has=U0,v.hasIn=Ro,v.head=bu,v.identity=Tt,v.includes=T_,v.indexOf=yp,v.inRange=im,v.invoke=j0,v.isArguments=Hn,v.isArray=ye,v.isArrayBuffer=i0,v.isArrayLike=Et,v.isArrayLikeObject=Xe,v.isBoolean=s0,v.isBuffer=Mn,v.isDate=o0,v.isElement=a0,v.isEmpty=l0,v.isEqual=u0,v.isEqualWith=c0,v.isError=Io,v.isFinite=f0,v.isFunction=mn,v.isInteger=Pu,v.isLength=qi,v.isMap=$u,v.isMatch=h0,v.isMatchWith=d0,v.isNaN=g0,v.isNative=p0,v.isNil=m0,v.isNull=_0,v.isNumber=Du,v.isObject=Ge,v.isObjectLike=Ze,v.isPlainObject=Gr,v.isRegExp=So,v.isSafeInteger=v0,v.isSet=Nu,v.isString=Vi,v.isSymbol=Rt,v.isTypedArray=dr,v.isUndefined=y0,v.isWeakMap=w0,v.isWeakSet=b0,v.join=Tp,v.kebabCase=cm,v.last=Wt,v.lastIndexOf=Ap,v.lowerCase=fm,v.lowerFirst=hm,v.lt=E0,v.lte=x0,v.max=ov,v.maxBy=av,v.mean=lv,v.meanBy=uv,v.min=cv,v.minBy=fv,v.stubArray=Do,v.stubFalse=No,v.stubObject=Zm,v.stubString=Ym,v.stubTrue=Xm,v.multiply=hv,v.nth=kp,v.noConflict=jm,v.noop=$o,v.now=Wi,v.pad=dm,v.padEnd=gm,v.padStart=pm,v.parseInt=_m,v.random=sm,v.reduce=O_,v.reduceRight=R_,v.repeat=mm,v.replace=vm,v.result=K0,v.round=dv,v.runInContext=D,v.sample=L_,v.size=$_,v.snakeCase=ym,v.some=D_,v.sortedIndex=Cp,v.sortedIndexBy=Pp,v.sortedIndexOf=$p,v.sortedLastIndex=Dp,v.sortedLastIndexBy=Np,v.sortedLastIndexOf=Bp,v.startCase=bm,v.startsWith=Em,v.subtract=gv,v.sum=pv,v.sumBy=_v,v.template=xm,v.times=Qm,v.toFinite=vn,v.toInteger=we,v.toLength=Uu,v.toLower=Tm,v.toNumber=Ht,v.toSafeInteger=T0,v.toString=$e,v.toUpper=Am,v.trim=km,v.trimEnd=Im,v.trimStart=Sm,v.truncate=Om,v.unescape=Rm,v.uniqueId=tv,v.upperCase=Mm,v.upperFirst=Mo,v.each=Au,v.eachRight=ku,v.first=bu,Po(v,function(){var e={};return nn(v,function(r,a){De.call(v.prototype,a)||(e[a]=r)}),e}(),{chain:!1}),v.VERSION=s,Bt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){v[e].placeholder=v}),Bt(["drop","take"],function(e,r){ke.prototype[e]=function(a){a=a===n?1:rt(we(a),0);var f=this.__filtered__&&!r?new ke(this):this.clone();return f.__filtered__?f.__takeCount__=ft(a,f.__takeCount__):f.__views__.push({size:ft(a,_e),type:e+(f.__dir__<0?"Right":"")}),f},ke.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),Bt(["filter","map","takeWhile"],function(e,r){var a=r+1,f=a==b||a==U;ke.prototype[e]=function(_){var w=this.clone();return w.__iteratees__.push({iteratee:he(_,3),type:a}),w.__filtered__=w.__filtered__||f,w}}),Bt(["head","last"],function(e,r){var a="take"+(r?"Right":"");ke.prototype[e]=function(){return this[a](1).value()[0]}}),Bt(["initial","tail"],function(e,r){var a="drop"+(r?"":"Right");ke.prototype[e]=function(){return this.__filtered__?new ke(this):this[a](1)}}),ke.prototype.compact=function(){return this.filter(Tt)},ke.prototype.find=function(e){return this.filter(e).head()},ke.prototype.findLast=function(e){return this.reverse().find(e)},ke.prototype.invokeMap=Ee(function(e,r){return typeof e=="function"?new ke(this):this.map(function(a){return Ur(a,e,r)})}),ke.prototype.reject=function(e){return this.filter(Gi(he(e)))},ke.prototype.slice=function(e,r){e=we(e);var a=this;return a.__filtered__&&(e>0||r<0)?new ke(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),r!==n&&(r=we(r),a=r<0?a.dropRight(-r):a.take(r-e)),a)},ke.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ke.prototype.toArray=function(){return this.take(_e)},nn(ke.prototype,function(e,r){var a=/^(?:filter|find|map|reject)|While$/.test(r),f=/^(?:head|last)$/.test(r),_=v[f?"take"+(r=="last"?"Right":""):r],w=f||/^find/.test(r);!_||(v.prototype[r]=function(){var I=this.__wrapped__,M=f?[1]:arguments,N=I instanceof ke,V=M[0],J=N||ye(I),Y=function(xe){var Ie=_.apply(v,Tn([xe],M));return f&&ne?Ie[0]:Ie};J&&a&&typeof V=="function"&&V.length!=1&&(N=J=!1);var ne=this.__chain__,ae=!!this.__actions__.length,de=w&&!ne,be=N&&!ae;if(!w&&J){I=be?I:new ke(this);var ge=e.apply(I,M);return ge.__actions__.push({func:zi,args:[Y],thisArg:n}),new Ft(ge,ne)}return de&&be?e.apply(this,M):(ge=this.thru(Y),de?f?ge.value()[0]:ge.value():ge)})}),Bt(["pop","push","shift","sort","splice","unshift"],function(e){var r=di[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",f=/^(?:pop|shift)$/.test(e);v.prototype[e]=function(){var _=arguments;if(f&&!this.__chain__){var w=this.value();return r.apply(ye(w)?w:[],_)}return this[a](function(I){return r.apply(ye(I)?I:[],_)})}}),nn(ke.prototype,function(e,r){var a=v[r];if(a){var f=a.name+"";De.call(lr,f)||(lr[f]=[]),lr[f].push({name:r,func:a})}}),lr[Pi(n,x).name]=[{name:"wrapper",func:n}],ke.prototype.clone=Rd,ke.prototype.reverse=Md,ke.prototype.value=Ld,v.prototype.at=a_,v.prototype.chain=l_,v.prototype.commit=u_,v.prototype.next=c_,v.prototype.plant=h_,v.prototype.reverse=d_,v.prototype.toJSON=v.prototype.valueOf=v.prototype.value=g_,v.prototype.first=v.prototype.head,Lr&&(v.prototype[Lr]=f_),v},sr=ud();Dn?((Dn.exports=sr)._=sr,Ls._=sr):ut._=sr}).call(an)})(ta,ta.exports);const ln=ta.exports,Dw=120,us=i=>{let t;i.substring(0,1)==="#"?t=Nw(i):i.substring(0,3)==="rgb"&&(t=i);const n=t.substring(4,t.length-1).replace(/ /g,"").split(",");return parseInt(n[0])*.299+parseInt(n[1])*.587+parseInt(n[2])*.114>Dw?"black":"white"},Nw=i=>{let t=0,n=0,s=0;return i.length==4?(t="0x"+i[1]+i[1],n="0x"+i[2]+i[2],s="0x"+i[3]+i[3]):i.length==7&&(t="0x"+i[1]+i[2],n="0x"+i[3]+i[4],s="0x"+i[5]+i[6]),"rgb("+ +t+","+ +n+","+ +s+")"};const Bw={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},Uw={black:"#000000",white:"#ffffff","gray-50":"rgb(247, 247, 247)","gray-100":"rgb(239, 239, 239)","gray-200":"rgb(223, 223, 223)","gray-300":"rgb(202, 202, 202)","gray-400":"rgb(168, 168, 168)","gray-500":"rgb(135, 135, 135)","gray-600":"rgb(109, 109, 109)","gray-700":"rgb(78, 78, 78)","gray-800":"rgb(55, 55, 55)","gray-900":"rgb(38, 38, 38)","gray-1000":"rgb(25, 25, 25)",purple:"#a239ca",blue:"#4717f6",green:"#34a29e",red:"#ff533d",yellow:"#e5e338","grey-balloon":"#d8d8d8"},Yn={category:Bw,color:Uw,"":{"12px":"0.75rem","14px":"0.875rem","16px":"1rem","18px":"1.125rem","20px":"1.25rem","22px":"1.375rem","24px":"1.5rem","28px":"1.75rem","32px":"2rem","36px":"2.25rem","40px":"2.5rem","44px":"2.75rem","48px":"3rem","56px":"3.5rem","64px":"4rem","80px":"5rem","96px":"6rem","112px":"7rem","128px":"8rem"}};function Fw(i){let t;for(;t=i.sourceEvent;)i=t;return i}function Gn(i,t){if(i=Fw(i),t===void 0&&(t=i.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=i.clientX,s.y=i.clientY,s=s.matrixTransform(t.getScreenCTM().inverse()),[s.x,s.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[i.clientX-o.left-t.clientLeft,i.clientY-o.top-t.clientTop]}}return[i.pageX,i.pageY]}const na={capture:!0,passive:!1};function ra(i){i.preventDefault(),i.stopImmediatePropagation()}function zw(i){var t=i.document.documentElement,n=at(i).on("dragstart.drag",ra,na);"onselectstart"in t?n.on("selectstart.drag",ra,na):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function jw(i,t){var n=i.document.documentElement,s=at(i).on("dragstart.drag",null);t&&(s.on("click.drag",ra,na),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ww(i,t){var n,s=1;i==null&&(i=0),t==null&&(t=0);function o(){var l,u=n.length,c,d=0,h=0;for(l=0;l<u;++l)c=n[l],d+=c.x,h+=c.y;for(d=(d/u-i)*s,h=(h/u-t)*s,l=0;l<u;++l)c=n[l],c.x-=d,c.y-=h}return o.initialize=function(l){n=l},o.x=function(l){return arguments.length?(i=+l,o):i},o.y=function(l){return arguments.length?(t=+l,o):t},o.strength=function(l){return arguments.length?(s=+l,o):s},o}function Hw(i){const t=+this._x.call(null,i),n=+this._y.call(null,i);return Tf(this.cover(t,n),t,n,i)}function Tf(i,t,n,s){if(isNaN(t)||isNaN(n))return i;var o,l=i._root,u={data:s},c=i._x0,d=i._y0,h=i._x1,g=i._y1,p,y,m,E,T,A,x,k;if(!l)return i._root=u,i;for(;l.length;)if((T=t>=(p=(c+h)/2))?c=p:h=p,(A=n>=(y=(d+g)/2))?d=y:g=y,o=l,!(l=l[x=A<<1|T]))return o[x]=u,i;if(m=+i._x.call(null,l.data),E=+i._y.call(null,l.data),t===m&&n===E)return u.next=l,o?o[x]=u:i._root=u,i;do o=o?o[x]=new Array(4):i._root=new Array(4),(T=t>=(p=(c+h)/2))?c=p:h=p,(A=n>=(y=(d+g)/2))?d=y:g=y;while((x=A<<1|T)===(k=(E>=y)<<1|m>=p));return o[k]=l,o[x]=u,i}function Gw(i){var t,n,s=i.length,o,l,u=new Array(s),c=new Array(s),d=1/0,h=1/0,g=-1/0,p=-1/0;for(n=0;n<s;++n)isNaN(o=+this._x.call(null,t=i[n]))||isNaN(l=+this._y.call(null,t))||(u[n]=o,c[n]=l,o<d&&(d=o),o>g&&(g=o),l<h&&(h=l),l>p&&(p=l));if(d>g||h>p)return this;for(this.cover(d,h).cover(g,p),n=0;n<s;++n)Tf(this,u[n],c[n],i[n]);return this}function qw(i,t){if(isNaN(i=+i)||isNaN(t=+t))return this;var n=this._x0,s=this._y0,o=this._x1,l=this._y1;if(isNaN(n))o=(n=Math.floor(i))+1,l=(s=Math.floor(t))+1;else{for(var u=o-n||1,c=this._root,d,h;n>i||i>=o||s>t||t>=l;)switch(h=(t<s)<<1|i<n,d=new Array(4),d[h]=c,c=d,u*=2,h){case 0:o=n+u,l=s+u;break;case 1:n=o-u,l=s+u;break;case 2:o=n+u,s=l-u;break;case 3:n=o-u,s=l-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=s,this._x1=o,this._y1=l,this}function Vw(){var i=[];return this.visit(function(t){if(!t.length)do i.push(t.data);while(t=t.next)}),i}function Jw(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function mt(i,t,n,s,o){this.node=i,this.x0=t,this.y0=n,this.x1=s,this.y1=o}function Kw(i,t,n){var s,o=this._x0,l=this._y0,u,c,d,h,g=this._x1,p=this._y1,y=[],m=this._root,E,T;for(m&&y.push(new mt(m,o,l,g,p)),n==null?n=1/0:(o=i-n,l=t-n,g=i+n,p=t+n,n*=n);E=y.pop();)if(!(!(m=E.node)||(u=E.x0)>g||(c=E.y0)>p||(d=E.x1)<o||(h=E.y1)<l))if(m.length){var A=(u+d)/2,x=(c+h)/2;y.push(new mt(m[3],A,x,d,h),new mt(m[2],u,x,A,h),new mt(m[1],A,c,d,x),new mt(m[0],u,c,A,x)),(T=(t>=x)<<1|i>=A)&&(E=y[y.length-1],y[y.length-1]=y[y.length-1-T],y[y.length-1-T]=E)}else{var k=i-+this._x.call(null,m.data),R=t-+this._y.call(null,m.data),O=k*k+R*R;if(O<n){var C=Math.sqrt(n=O);o=i-C,l=t-C,g=i+C,p=t+C,s=m.data}}return s}function Zw(i){if(isNaN(g=+this._x.call(null,i))||isNaN(p=+this._y.call(null,i)))return this;var t,n=this._root,s,o,l,u=this._x0,c=this._y0,d=this._x1,h=this._y1,g,p,y,m,E,T,A,x;if(!n)return this;if(n.length)for(;;){if((E=g>=(y=(u+d)/2))?u=y:d=y,(T=p>=(m=(c+h)/2))?c=m:h=m,t=n,!(n=n[A=T<<1|E]))return this;if(!n.length)break;(t[A+1&3]||t[A+2&3]||t[A+3&3])&&(s=t,x=A)}for(;n.data!==i;)if(o=n,!(n=n.next))return this;return(l=n.next)&&delete n.next,o?(l?o.next=l:delete o.next,this):t?(l?t[A]=l:delete t[A],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(s?s[x]=n:this._root=n),this):(this._root=l,this)}function Yw(i){for(var t=0,n=i.length;t<n;++t)this.remove(i[t]);return this}function Xw(){return this._root}function Qw(){var i=0;return this.visit(function(t){if(!t.length)do++i;while(t=t.next)}),i}function eb(i){var t=[],n,s=this._root,o,l,u,c,d;for(s&&t.push(new mt(s,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!i(s=n.node,l=n.x0,u=n.y0,c=n.x1,d=n.y1)&&s.length){var h=(l+c)/2,g=(u+d)/2;(o=s[3])&&t.push(new mt(o,h,g,c,d)),(o=s[2])&&t.push(new mt(o,l,g,h,d)),(o=s[1])&&t.push(new mt(o,h,u,c,g)),(o=s[0])&&t.push(new mt(o,l,u,h,g))}return this}function tb(i){var t=[],n=[],s;for(this._root&&t.push(new mt(this._root,this._x0,this._y0,this._x1,this._y1));s=t.pop();){var o=s.node;if(o.length){var l,u=s.x0,c=s.y0,d=s.x1,h=s.y1,g=(u+d)/2,p=(c+h)/2;(l=o[0])&&t.push(new mt(l,u,c,g,p)),(l=o[1])&&t.push(new mt(l,g,c,d,p)),(l=o[2])&&t.push(new mt(l,u,p,g,h)),(l=o[3])&&t.push(new mt(l,g,p,d,h))}n.push(s)}for(;s=n.pop();)i(s.node,s.x0,s.y0,s.x1,s.y1);return this}function nb(i){return i[0]}function rb(i){return arguments.length?(this._x=i,this):this._x}function ib(i){return i[1]}function sb(i){return arguments.length?(this._y=i,this):this._y}function va(i,t,n){var s=new ya(t==null?nb:t,n==null?ib:n,NaN,NaN,NaN,NaN);return i==null?s:s.addAll(i)}function ya(i,t,n,s,o,l){this._x=i,this._y=t,this._x0=n,this._y0=s,this._x1=o,this._y1=l,this._root=void 0}function Sc(i){for(var t={data:i.data},n=t;i=i.next;)n=n.next={data:i.data};return t}var yt=va.prototype=ya.prototype;yt.copy=function(){var i=new ya(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,s;if(!t)return i;if(!t.length)return i._root=Sc(t),i;for(n=[{source:t,target:i._root=new Array(4)}];t=n.pop();)for(var o=0;o<4;++o)(s=t.source[o])&&(s.length?n.push({source:s,target:t.target[o]=new Array(4)}):t.target[o]=Sc(s));return i};yt.add=Hw;yt.addAll=Gw;yt.cover=qw;yt.data=Vw;yt.extent=Jw;yt.find=Kw;yt.remove=Zw;yt.removeAll=Yw;yt.root=Xw;yt.size=Qw;yt.visit=eb;yt.visitAfter=tb;yt.x=rb;yt.y=sb;function en(i){return function(){return i}}function Pn(i){return(i()-.5)*1e-6}function ob(i){return i.x+i.vx}function ab(i){return i.y+i.vy}function Af(i){var t,n,s,o=1,l=1;typeof i!="function"&&(i=en(i==null?1:+i));function u(){for(var h,g=t.length,p,y,m,E,T,A,x=0;x<l;++x)for(p=va(t,ob,ab).visitAfter(c),h=0;h<g;++h)y=t[h],T=n[y.index],A=T*T,m=y.x+y.vx,E=y.y+y.vy,p.visit(k);function k(R,O,C,j,z){var P=R.data,q=R.r,Z=T+q;if(P){if(P.index>y.index){var X=m-P.x-P.vx,ue=E-P.y-P.vy,re=X*X+ue*ue;re<Z*Z&&(X===0&&(X=Pn(s),re+=X*X),ue===0&&(ue=Pn(s),re+=ue*ue),re=(Z-(re=Math.sqrt(re)))/re*o,y.vx+=(X*=re)*(Z=(q*=q)/(A+q)),y.vy+=(ue*=re)*Z,P.vx-=X*(Z=1-Z),P.vy-=ue*Z)}return}return O>m+Z||j<m-Z||C>E+Z||z<E-Z}}function c(h){if(h.data)return h.r=n[h.data.index];for(var g=h.r=0;g<4;++g)h[g]&&h[g].r>h.r&&(h.r=h[g].r)}function d(){if(!!t){var h,g=t.length,p;for(n=new Array(g),h=0;h<g;++h)p=t[h],n[p.index]=+i(p,h,t)}}return u.initialize=function(h,g){t=h,s=g,d()},u.iterations=function(h){return arguments.length?(l=+h,u):l},u.strength=function(h){return arguments.length?(o=+h,u):o},u.radius=function(h){return arguments.length?(i=typeof h=="function"?h:en(+h),d(),u):i},u}function lb(i){return i.index}function Oc(i,t){var n=i.get(t);if(!n)throw new Error("node not found: "+t);return n}function kf(i){var t=lb,n=p,s,o=en(30),l,u,c,d,h,g=1;i==null&&(i=[]);function p(A){return 1/Math.min(c[A.source.index],c[A.target.index])}function y(A){for(var x=0,k=i.length;x<g;++x)for(var R=0,O,C,j,z,P,q,Z;R<k;++R)O=i[R],C=O.source,j=O.target,z=j.x+j.vx-C.x-C.vx||Pn(h),P=j.y+j.vy-C.y-C.vy||Pn(h),q=Math.sqrt(z*z+P*P),q=(q-l[R])/q*A*s[R],z*=q,P*=q,j.vx-=z*(Z=d[R]),j.vy-=P*Z,C.vx+=z*(Z=1-Z),C.vy+=P*Z}function m(){if(!!u){var A,x=u.length,k=i.length,R=new Map(u.map((C,j)=>[t(C,j,u),C])),O;for(A=0,c=new Array(x);A<k;++A)O=i[A],O.index=A,typeof O.source!="object"&&(O.source=Oc(R,O.source)),typeof O.target!="object"&&(O.target=Oc(R,O.target)),c[O.source.index]=(c[O.source.index]||0)+1,c[O.target.index]=(c[O.target.index]||0)+1;for(A=0,d=new Array(k);A<k;++A)O=i[A],d[A]=c[O.source.index]/(c[O.source.index]+c[O.target.index]);s=new Array(k),E(),l=new Array(k),T()}}function E(){if(!!u)for(var A=0,x=i.length;A<x;++A)s[A]=+n(i[A],A,i)}function T(){if(!!u)for(var A=0,x=i.length;A<x;++A)l[A]=+o(i[A],A,i)}return y.initialize=function(A,x){u=A,h=x,m()},y.links=function(A){return arguments.length?(i=A,m(),y):i},y.id=function(A){return arguments.length?(t=A,y):t},y.iterations=function(A){return arguments.length?(g=+A,y):g},y.strength=function(A){return arguments.length?(n=typeof A=="function"?A:en(+A),E(),y):n},y.distance=function(A){return arguments.length?(o=typeof A=="function"?A:en(+A),T(),y):o},y}const ub=1664525,cb=1013904223,Rc=4294967296;function fb(){let i=1;return()=>(i=(ub*i+cb)%Rc)/Rc}function hb(i){return i.x}function db(i){return i.y}var gb=10,pb=Math.PI*(3-Math.sqrt(5));function If(i){var t,n=1,s=.001,o=1-Math.pow(s,1/300),l=0,u=.6,c=new Map,d=Sv(p),h=of("tick","end"),g=fb();i==null&&(i=[]);function p(){y(),h.call("tick",t),n<s&&(d.stop(),h.call("end",t))}function y(T){var A,x=i.length,k;T===void 0&&(T=1);for(var R=0;R<T;++R)for(n+=(l-n)*o,c.forEach(function(O){O(n)}),A=0;A<x;++A)k=i[A],k.fx==null?k.x+=k.vx*=u:(k.x=k.fx,k.vx=0),k.fy==null?k.y+=k.vy*=u:(k.y=k.fy,k.vy=0);return t}function m(){for(var T=0,A=i.length,x;T<A;++T){if(x=i[T],x.index=T,x.fx!=null&&(x.x=x.fx),x.fy!=null&&(x.y=x.fy),isNaN(x.x)||isNaN(x.y)){var k=gb*Math.sqrt(.5+T),R=T*pb;x.x=k*Math.cos(R),x.y=k*Math.sin(R)}(isNaN(x.vx)||isNaN(x.vy))&&(x.vx=x.vy=0)}}function E(T){return T.initialize&&T.initialize(i,g),T}return m(),t={tick:y,restart:function(){return d.restart(p),t},stop:function(){return d.stop(),t},nodes:function(T){return arguments.length?(i=T,m(),c.forEach(E),t):i},alpha:function(T){return arguments.length?(n=+T,t):n},alphaMin:function(T){return arguments.length?(s=+T,t):s},alphaDecay:function(T){return arguments.length?(o=+T,t):+o},alphaTarget:function(T){return arguments.length?(l=+T,t):l},velocityDecay:function(T){return arguments.length?(u=1-T,t):1-u},randomSource:function(T){return arguments.length?(g=T,c.forEach(E),t):g},force:function(T,A){return arguments.length>1?(A==null?c.delete(T):c.set(T,E(A)),t):c.get(T)},find:function(T,A,x){var k=0,R=i.length,O,C,j,z,P;for(x==null?x=1/0:x*=x,k=0;k<R;++k)z=i[k],O=T-z.x,C=A-z.y,j=O*O+C*C,j<x&&(P=z,x=j);return P},on:function(T,A){return arguments.length>1?(h.on(T,A),t):h.on(T)}}}function Sf(){var i,t,n,s,o=en(-30),l,u=1,c=1/0,d=.81;function h(m){var E,T=i.length,A=va(i,hb,db).visitAfter(p);for(s=m,E=0;E<T;++E)t=i[E],A.visit(y)}function g(){if(!!i){var m,E=i.length,T;for(l=new Array(E),m=0;m<E;++m)T=i[m],l[T.index]=+o(T,m,i)}}function p(m){var E=0,T,A,x=0,k,R,O;if(m.length){for(k=R=O=0;O<4;++O)(T=m[O])&&(A=Math.abs(T.value))&&(E+=T.value,x+=A,k+=A*T.x,R+=A*T.y);m.x=k/x,m.y=R/x}else{T=m,T.x=T.data.x,T.y=T.data.y;do E+=l[T.data.index];while(T=T.next)}m.value=E}function y(m,E,T,A){if(!m.value)return!0;var x=m.x-t.x,k=m.y-t.y,R=A-E,O=x*x+k*k;if(R*R/d<O)return O<c&&(x===0&&(x=Pn(n),O+=x*x),k===0&&(k=Pn(n),O+=k*k),O<u&&(O=Math.sqrt(u*O)),t.vx+=x*m.value*s/O,t.vy+=k*m.value*s/O),!0;if(m.length||O>=c)return;(m.data!==t||m.next)&&(x===0&&(x=Pn(n),O+=x*x),k===0&&(k=Pn(n),O+=k*k),O<u&&(O=Math.sqrt(u*O)));do m.data!==t&&(R=l[m.data.index]*s/O,t.vx+=x*R,t.vy+=k*R);while(m=m.next)}return h.initialize=function(m,E){i=m,n=E,g()},h.strength=function(m){return arguments.length?(o=typeof m=="function"?m:en(+m),g(),h):o},h.distanceMin=function(m){return arguments.length?(u=m*m,h):Math.sqrt(u)},h.distanceMax=function(m){return arguments.length?(c=m*m,h):Math.sqrt(c)},h.theta=function(m){return arguments.length?(d=m*m,h):Math.sqrt(d)},h}function Of(i){var t=en(.1),n,s,o;typeof i!="function"&&(i=en(i==null?0:+i));function l(c){for(var d=0,h=n.length,g;d<h;++d)g=n[d],g.vy+=(o[d]-g.y)*s[d]*c}function u(){if(!!n){var c,d=n.length;for(s=new Array(d),o=new Array(d),c=0;c<d;++c)s[c]=isNaN(o[c]=+i(n[c],c,n))?0:+t(n[c],c,n)}}return l.initialize=function(c){n=c,u()},l.strength=function(c){return arguments.length?(t=typeof c=="function"?c:en(+c),u(),l):t},l.y=function(c){return arguments.length?(i=typeof c=="function"?c:en(+c),u(),l):i},l}const Qi=i=>()=>i;function _b(i,{sourceEvent:t,target:n,transform:s,dispatch:o}){Object.defineProperties(this,{type:{value:i,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:o}})}function Ho(i){i.stopImmediatePropagation()}function qr(i){i.preventDefault(),i.stopImmediatePropagation()}function mb(i){return(!i.ctrlKey||i.type==="wheel")&&!i.button}function vb(){var i=this;return i instanceof SVGElement?(i=i.ownerSVGElement||i,i.hasAttribute("viewBox")?(i=i.viewBox.baseVal,[[i.x,i.y],[i.x+i.width,i.y+i.height]]):[[0,0],[i.width.baseVal.value,i.height.baseVal.value]]):[[0,0],[i.clientWidth,i.clientHeight]]}function Mc(){return this.__zoom||aa}function yb(i){return-i.deltaY*(i.deltaMode===1?.05:i.deltaMode?1:.002)*(i.ctrlKey?10:1)}function wb(){return navigator.maxTouchPoints||"ontouchstart"in this}function bb(i,t,n){var s=i.invertX(t[0][0])-n[0][0],o=i.invertX(t[1][0])-n[1][0],l=i.invertY(t[0][1])-n[0][1],u=i.invertY(t[1][1])-n[1][1];return i.translate(o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o),u>l?(l+u)/2:Math.min(0,l)||Math.max(0,u))}function Eb(){var i=mb,t=vb,n=bb,s=yb,o=wb,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,d=f1,h=of("start","zoom","end"),g,p,y,m=500,E=150,T=0,A=10;function x(b){b.property("__zoom",Mc).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",Z).filter(o).on("touchstart.zoom",X).on("touchmove.zoom",ue).on("touchend.zoom touchcancel.zoom",re).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(b,$,U,Q){var te=b.selection?b.selection():b;te.property("__zoom",Mc),b!==te?C(b,$,U,Q):te.interrupt().each(function(){j(this,arguments).event(Q).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},x.scaleBy=function(b,$,U,Q){x.scaleTo(b,function(){var te=this.__zoom.k,ee=typeof $=="function"?$.apply(this,arguments):$;return te*ee},U,Q)},x.scaleTo=function(b,$,U,Q){x.transform(b,function(){var te=t.apply(this,arguments),ee=this.__zoom,pe=U==null?O(te):typeof U=="function"?U.apply(this,arguments):U,_e=ee.invert(pe),Oe=typeof $=="function"?$.apply(this,arguments):$;return n(R(k(ee,Oe),pe,_e),te,u)},U,Q)},x.translateBy=function(b,$,U,Q){x.transform(b,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof U=="function"?U.apply(this,arguments):U),t.apply(this,arguments),u)},null,Q)},x.translateTo=function(b,$,U,Q,te){x.transform(b,function(){var ee=t.apply(this,arguments),pe=this.__zoom,_e=Q==null?O(ee):typeof Q=="function"?Q.apply(this,arguments):Q;return n(aa.translate(_e[0],_e[1]).scale(pe.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof U=="function"?-U.apply(this,arguments):-U),ee,u)},Q,te)};function k(b,$){return $=Math.max(l[0],Math.min(l[1],$)),$===b.k?b:new Bo($,b.x,b.y)}function R(b,$,U){var Q=$[0]-U[0]*b.k,te=$[1]-U[1]*b.k;return Q===b.x&&te===b.y?b:new Bo(b.k,Q,te)}function O(b){return[(+b[0][0]+ +b[1][0])/2,(+b[0][1]+ +b[1][1])/2]}function C(b,$,U,Q){b.on("start.zoom",function(){j(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){j(this,arguments).event(Q).end()}).tween("zoom",function(){var te=this,ee=arguments,pe=j(te,ee).event(Q),_e=t.apply(te,ee),Oe=U==null?O(_e):typeof U=="function"?U.apply(te,ee):U,lt=Math.max(_e[1][0]-_e[0][0],_e[1][1]-_e[0][1]),Ke=te.__zoom,st=typeof $=="function"?$.apply(te,ee):$,wt=d(Ke.invert(Oe).concat(lt/Ke.k),st.invert(Oe).concat(lt/st.k));return function(kt){if(kt===1)kt=st;else{var dt=wt(kt),un=lt/dt[2];kt=new Bo(un,Oe[0]-dt[0]*un,Oe[1]-dt[1]*un)}pe.zoom(null,kt)}})}function j(b,$,U){return!U&&b.__zooming||new z(b,$)}function z(b,$){this.that=b,this.args=$,this.active=0,this.sourceEvent=null,this.extent=t.apply(b,$),this.taps=0}z.prototype={event:function(b){return b&&(this.sourceEvent=b),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(b,$){return this.mouse&&b!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&b!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&b!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(b){var $=at(this.that).datum();h.call(b,this.that,new _b(b,{sourceEvent:this.sourceEvent,target:x,type:b,transform:this.that.__zoom,dispatch:h}),$)}};function P(b,...$){if(!i.apply(this,arguments))return;var U=j(this,$).event(b),Q=this.__zoom,te=Math.max(l[0],Math.min(l[1],Q.k*Math.pow(2,s.apply(this,arguments)))),ee=Gn(b);if(U.wheel)(U.mouse[0][0]!==ee[0]||U.mouse[0][1]!==ee[1])&&(U.mouse[1]=Q.invert(U.mouse[0]=ee)),clearTimeout(U.wheel);else{if(Q.k===te)return;U.mouse=[ee,Q.invert(ee)],Uo(this),U.start()}qr(b),U.wheel=setTimeout(pe,E),U.zoom("mouse",n(R(k(Q,te),U.mouse[0],U.mouse[1]),U.extent,u));function pe(){U.wheel=null,U.end()}}function q(b,...$){if(y||!i.apply(this,arguments))return;var U=b.currentTarget,Q=j(this,$,!0).event(b),te=at(b.view).on("mousemove.zoom",Oe,!0).on("mouseup.zoom",lt,!0),ee=Gn(b,U),pe=b.clientX,_e=b.clientY;zw(b.view),Ho(b),Q.mouse=[ee,this.__zoom.invert(ee)],Uo(this),Q.start();function Oe(Ke){if(qr(Ke),!Q.moved){var st=Ke.clientX-pe,wt=Ke.clientY-_e;Q.moved=st*st+wt*wt>T}Q.event(Ke).zoom("mouse",n(R(Q.that.__zoom,Q.mouse[0]=Gn(Ke,U),Q.mouse[1]),Q.extent,u))}function lt(Ke){te.on("mousemove.zoom mouseup.zoom",null),jw(Ke.view,Q.moved),qr(Ke),Q.event(Ke).end()}}function Z(b,...$){if(!!i.apply(this,arguments)){var U=this.__zoom,Q=Gn(b.changedTouches?b.changedTouches[0]:b,this),te=U.invert(Q),ee=U.k*(b.shiftKey?.5:2),pe=n(R(k(U,ee),Q,te),t.apply(this,$),u);qr(b),c>0?at(this).transition().duration(c).call(C,pe,Q,b):at(this).call(x.transform,pe,Q,b)}}function X(b,...$){if(!!i.apply(this,arguments)){var U=b.touches,Q=U.length,te=j(this,$,b.changedTouches.length===Q).event(b),ee,pe,_e,Oe;for(Ho(b),pe=0;pe<Q;++pe)_e=U[pe],Oe=Gn(_e,this),Oe=[Oe,this.__zoom.invert(Oe),_e.identifier],te.touch0?!te.touch1&&te.touch0[2]!==Oe[2]&&(te.touch1=Oe,te.taps=0):(te.touch0=Oe,ee=!0,te.taps=1+!!g);g&&(g=clearTimeout(g)),ee&&(te.taps<2&&(p=Oe[0],g=setTimeout(function(){g=null},m)),Uo(this),te.start())}}function ue(b,...$){if(!!this.__zooming){var U=j(this,$).event(b),Q=b.changedTouches,te=Q.length,ee,pe,_e,Oe;for(qr(b),ee=0;ee<te;++ee)pe=Q[ee],_e=Gn(pe,this),U.touch0&&U.touch0[2]===pe.identifier?U.touch0[0]=_e:U.touch1&&U.touch1[2]===pe.identifier&&(U.touch1[0]=_e);if(pe=U.that.__zoom,U.touch1){var lt=U.touch0[0],Ke=U.touch0[1],st=U.touch1[0],wt=U.touch1[1],kt=(kt=st[0]-lt[0])*kt+(kt=st[1]-lt[1])*kt,dt=(dt=wt[0]-Ke[0])*dt+(dt=wt[1]-Ke[1])*dt;pe=k(pe,Math.sqrt(kt/dt)),_e=[(lt[0]+st[0])/2,(lt[1]+st[1])/2],Oe=[(Ke[0]+wt[0])/2,(Ke[1]+wt[1])/2]}else if(U.touch0)_e=U.touch0[0],Oe=U.touch0[1];else return;U.zoom("touch",n(R(pe,_e,Oe),U.extent,u))}}function re(b,...$){if(!!this.__zooming){var U=j(this,$).event(b),Q=b.changedTouches,te=Q.length,ee,pe;for(Ho(b),y&&clearTimeout(y),y=setTimeout(function(){y=null},m),ee=0;ee<te;++ee)pe=Q[ee],U.touch0&&U.touch0[2]===pe.identifier?delete U.touch0:U.touch1&&U.touch1[2]===pe.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(pe=Gn(pe,this),Math.hypot(p[0]-pe[0],p[1]-pe[1])<A)){var _e=at(this).on("dblclick.zoom");_e&&_e.apply(this,arguments)}}}return x.wheelDelta=function(b){return arguments.length?(s=typeof b=="function"?b:Qi(+b),x):s},x.filter=function(b){return arguments.length?(i=typeof b=="function"?b:Qi(!!b),x):i},x.touchable=function(b){return arguments.length?(o=typeof b=="function"?b:Qi(!!b),x):o},x.extent=function(b){return arguments.length?(t=typeof b=="function"?b:Qi([[+b[0][0],+b[0][1]],[+b[1][0],+b[1][1]]]),x):t},x.scaleExtent=function(b){return arguments.length?(l[0]=+b[0],l[1]=+b[1],x):[l[0],l[1]]},x.translateExtent=function(b){return arguments.length?(u[0][0]=+b[0][0],u[1][0]=+b[1][0],u[0][1]=+b[0][1],u[1][1]=+b[1][1],x):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},x.constrain=function(b){return arguments.length?(n=b,x):n},x.duration=function(b){return arguments.length?(c=+b,x):c},x.interpolate=function(b){return arguments.length?(d=b,x):d},x.on=function(){var b=h.on.apply(h,arguments);return b===h?x:b},x.clickDistance=function(b){return arguments.length?(T=(b=+b)*b,x):Math.sqrt(T)},x.tapDistance=function(b){return arguments.length?(A=+b,x):A},x}function Lc(i,t,n){const s=i.slice();s[16]=t[n],s[19]=n;const o=s[6]&&s[16].id.split("-")[0]!==s[6]?.2:1;return s[17]=o,s}function Cc(i){let t,n,s,o,l=i[16][i[0]]+"",u,c,d,h,g,p;return{c(){t=je("g"),n=je("ellipse"),o=je("text"),u=Te(l),this.h()},l(y){t=We(y,"g",{id:!0,class:!0,opacity:!0});var m=K(t);n=We(m,"ellipse",{rx:!0,ry:!0,fill:!0}),K(n).forEach(L),o=We(m,"text",{class:!0,fill:!0});var E=K(o);u=Ae(E,l),E.forEach(L),m.forEach(L),this.h()},h(){S(n,"rx",Cn),S(n,"ry",Cn*1.2),S(n,"fill",s=i[1]?i[16].color:Yn.color["grey-balloon"]),S(o,"class","label svelte-1ow1g3w"),S(o,"fill",c=i[1]?us(i[16].color):null),S(t,"id",d=i[16].id),S(t,"class","node svelte-1ow1g3w"),S(t,"opacity",h=i[17])},m(y,m){ie(y,t,m),B(t,n),B(t,o),B(o,u),g||(p=[Ne(t,"mouseenter",i[7]),Ne(t,"mouseleave",i[8])],g=!0)},p(y,m){m&18&&s!==(s=y[1]?y[16].color:Yn.color["grey-balloon"])&&S(n,"fill",s),m&17&&l!==(l=y[16][y[0]]+"")&&En(u,l),m&18&&c!==(c=y[1]?us(y[16].color):null)&&S(o,"fill",c),m&16&&d!==(d=y[16].id)&&S(t,"id",d),m&80&&h!==(h=y[17])&&S(t,"opacity",h)},d(y){y&&L(t),g=!1,Qn(p)}}}function xb(i){let t,n,s,o,l,u,c,d,h=i[4],g=[];for(let p=0;p<h.length;p+=1)g[p]=Cc(Lc(i,h,p));return{c(){t=H("div"),n=je("svg"),s=je("text"),o=Te("Here's how the last 50 people who visited this site felt."),c=je("g");for(let p=0;p<g.length;p+=1)g[p].c();this.h()},l(p){t=G(p,"DIV",{class:!0});var y=K(t);n=We(y,"svg",{class:!0});var m=K(n);s=We(m,"text",{class:!0,x:!0,y:!0});var E=K(s);o=Ae(E,"Here's how the last 50 people who visited this site felt."),E.forEach(L),c=We(m,"g",{class:!0});var T=K(c);for(let A=0;A<g.length;A+=1)g[A].l(T);T.forEach(L),m.forEach(L),y.forEach(L),this.h()},h(){S(s,"class","title svelte-1ow1g3w"),S(s,"x",l=i[2]/2),S(s,"y",u=i[3]/2),S(c,"class","nodes"),S(n,"class","svelte-1ow1g3w"),S(t,"class","viz svelte-1ow1g3w"),Qr(()=>i[12].call(t))},m(p,y){ie(p,t,y),B(t,n),B(n,s),B(s,o),B(n,c);for(let m=0;m<g.length;m+=1)g[m].m(c,null);i[11](n),d=sa(t,i[12].bind(t))},p(p,[y]){if(y&4&&l!==(l=p[2]/2)&&S(s,"x",l),y&8&&u!==(u=p[3]/2)&&S(s,"y",u),y&467){h=p[4];let m;for(m=0;m<h.length;m+=1){const E=Lc(p,h,m);g[m]?g[m].p(E,y):(g[m]=Cc(E),g[m].c(),g[m].m(c,null))}for(;m<g.length;m+=1)g[m].d(1);g.length=h.length}},i:me,o:me,d(p){p&&L(t),tn(g,p),i[11](null),d()}}}let Cn=15;function Tb(i,t,n){let s,o,{data:l}=t,{wordAccessor:u}=t,{groupBy:c}=t,{withColor:d=!1}=t,h,g=0,p=0;const y=()=>{at(h).selectAll("g.node").data(s).attr("transform",R=>(R.x=Math.max(Cn*1.2,Math.min(g-Cn*1.2,R.x)),R.y=Math.max(Cn*1.2,Math.min(p-Cn*1.2,R.y)),`translate(${R.x}, ${R.y})`))},m=()=>{If(s).force("charge",Sf().strength(-20)).force("center",Ww(g/2,p/2)).force("collision",Af().radius(R=>Cn*1.2)).force("y",Of().y(R=>p/2).strength(-.02)).force("link",kf().links(o).id(R=>R.id).distance(R=>Cn*1.2)).on("tick",y)};let E;const T=R=>{u!=="basic_word"&&n(6,E=R.target.id.split("-")[0])},A=()=>{u!=="basic_word"&&n(6,E=void 0)};function x(R){Dt[R?"unshift":"push"](()=>{h=R,n(5,h)})}function k(){g=this.clientWidth,p=this.clientHeight,n(2,g),n(3,p)}return i.$$set=R=>{"data"in R&&n(9,l=R.data),"wordAccessor"in R&&n(0,u=R.wordAccessor),"groupBy"in R&&n(10,c=R.groupBy),"withColor"in R&&n(1,d=R.withColor)},i.$$.update=()=>{i.$$.dirty&512&&n(4,s=l),i.$$.dirty&1040&&(o=s.reduce((R,O)=>{const z=s.filter(P=>P[c]===O[c]).map(P=>({source:O.id,target:P.id,value:10})).filter(P=>P.source!==P.target&&!R.some(q=>q.source===P.target&&q.target===P.source));return[...R,...z]},[])),i.$$.dirty&12&&g&&p&&m()},[u,d,g,p,s,h,E,T,A,l,c,x,k]}class wa extends qe{constructor(t){super(),Ve(this,t,Tb,xb,Je,{data:9,wordAccessor:0,groupBy:10,withColor:1})}}function Pc(i,t,n){const s=i.slice();s[7]=t[n];const o=s[7]===s[0];return s[8]=o,s}function $c(i){let t,n=i[7]+"",s,o,l;return{c(){t=H("button"),s=Te(n),this.h()},l(u){t=G(u,"BUTTON",{id:!0,class:!0});var c=K(t);s=Ae(c,n),c.forEach(L),this.h()},h(){S(t,"id",i[7]),S(t,"class","svelte-1l6d4b2"),Ye(t,"selected",i[8])},m(u,c){ie(u,t,c),B(t,s),o||(l=Ne(t,"click",i[3]),o=!0)},p(u,c){c&5&&Ye(t,"selected",u[8])},d(u){u&&L(t),o=!1,l()}}}function Dc(i){let t,n;return t=new wa({props:{data:i[1],wordAccessor:"basic_word",groupBy:"basic_word"}}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p(s,o){const l={};o&2&&(l.data=s[1]),t.$set(l)},i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function Ab(i){let t,n,s,o,l,u,c,d=i[2],h=[];for(let p=0;p<d.length;p+=1)h[p]=$c(Pc(i,d,p));let g=i[1]&&Dc(i);return{c(){t=H("div"),n=H("div"),s=H("p"),o=Te("Hi, how are you doing?"),l=ce();for(let p=0;p<h.length;p+=1)h[p].c();u=ce(),g&&g.c(),this.h()},l(p){t=G(p,"DIV",{class:!0});var y=K(t);n=G(y,"DIV",{class:!0});var m=K(n);s=G(m,"P",{});var E=K(s);o=Ae(E,"Hi, how are you doing?"),E.forEach(L),l=fe(m);for(let T=0;T<h.length;T+=1)h[T].l(m);m.forEach(L),u=fe(y),g&&g.l(y),y.forEach(L),this.h()},h(){S(n,"class","words svelte-1l6d4b2"),S(t,"class","container svelte-1l6d4b2")},m(p,y){ie(p,t,y),B(t,n),B(n,s),B(s,o),B(n,l);for(let m=0;m<h.length;m+=1)h[m].m(n,null);B(t,u),g&&g.m(t,null),c=!0},p(p,[y]){if(y&13){d=p[2];let m;for(m=0;m<d.length;m+=1){const E=Pc(p,d,m);h[m]?h[m].p(E,y):(h[m]=$c(E),h[m].c(),h[m].m(n,null))}for(;m<h.length;m+=1)h[m].d(1);h.length=d.length}p[1]?g?(g.p(p,y),y&2&&oe(g,1)):(g=Dc(p),g.c(),oe(g,1),g.m(t,null)):g&&(Pt(),le(g,1,1,()=>{g=null}),$t())},i(p){c||(oe(g),c=!0)},o(p){le(g),c=!1},d(p){p&&L(t),tn(h,p),g&&g.d()}}}function kb(i,t,n){let s,o;Se(i,is,g=>n(4,s=g)),Se(i,br,g=>n(0,o=g));const l=["ok","good","busy"],u=new la.Howl({src:["assets/sound/after-basic.wav"]});let c;const d=async()=>{const g=await ma(),p=ln.orderBy(g.filter(y=>y.basic_word!==""),"created_at","desc").slice(0,50);n(1,c=p.map(y=>ln.pick(y,["id","created_at","basic_word"])))},h=async g=>{u.play();const p=g.target.id;bn(br,o=p,o);const m=await $w({table:"emotions",data:[{basic_word:p}]});bn(is,s=m[0].id,s)};return oa(()=>{u.unload()}),i.$$.update=()=>{i.$$.dirty&1&&o&&d()},[o,c,l,h]}class Ib extends qe{constructor(t){super(),Ve(this,t,kb,Ab,Je,{})}}const Sb=`<svg id="grey-wheel" viewBox="0 0 1150 1121" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="slices">
<path id="grateful" d="M536.5 53.5L433 72L536 429L564 425L536.5 53.5Z" fill="black"/>
<path id="connected" d="M544 52.5L674 59L595 428.5L569 424.5L544 52.5Z" fill="black"/>
<path id="belonging" d="M425 73.5L311 120.5L500.5 439L531.5 428.5L425 73.5Z" fill="black"/>
<path id="avoidant" d="M198.5 202.5L302.5 126L493.5 442L464 465.5L198.5 202.5Z" fill="black"/>
<path id="guilty" d="M119 303L195 207L459.5 468.5L442 494.5L119 303Z" fill="black"/>
<path id="embarassed" d="M116 309.5L66.5 417L428.5 527.5L439 498.5L116 309.5Z" fill="black"/>
<path id="not-good-enough" d="M423 563L46.5 551.5L64.5 423L427 533.5L423 563Z" fill="black"/>
<path id="overwhelmed" d="M429 608L68 700.5L46.5 558.5L422.5 569L429 608Z" fill="black"/>
<path id="anxious" d="M116.5 813.5L70.5 707.5L430.5 612L447.5 646L116.5 813.5Z" fill="black"/>
<path id="worried" d="M450 650L473.5 677L217.5 934L119.5 818L450 650Z" fill="black"/>
<path id="stressed" d="M477 680L507 699L347.5 1016L223 938.5L477 680Z" fill="black"/>
<path id="isolated" d="M548.5 712L512.5 701L353 1019.5L486.5 1058.5L548.5 712Z" fill="black"/>
<path id="tired" d="M582 715L553 712.5L492 1058.5L612 1065.5L582 715Z" fill="black"/>
<path id="bored" d="M716 1047.5L618.5 1065L587 715L613.5 710L716 1047.5Z" fill="black"/>
<path id="disappointed" d="M618 709.5L648 698.5L831 1000.5L721.5 1046L618 709.5Z" fill="black"/>
<path id="furious" d="M655 695L681.5 673L939.5 925.5L836 997L655 695Z" fill="black"/>
<path id="irritated" d="M684.5 669.5L700 651L1011 845.5L943.5 920L684.5 669.5Z" fill="black"/>
<path id="protective" d="M1015.5 839L1072.5 724.5L718 612.5L703 647L1015.5 839Z" fill="black"/>
<path id="tense" d="M719.5 607.5L723.5 578.5L1102 590L1075.5 718.5L719.5 607.5Z" fill="black"/>
<path id="challenged" d="M1094.5 461.5L719.5 543.5L724 572.5L1102 584L1094.5 461.5Z" fill="black"/>
<path id="motivated" d="M719.5 538L707.5 507L1046 340L1093.5 454L719.5 538Z" fill="black"/>
<path id="proud" d="M704.5 502L681.5 472.5L953.5 202.5L1043.5 335.5L704.5 502Z" fill="black"/>
<path id="creative" d="M678.5 469.5L642.5 443L812.5 104L949.5 198.5L678.5 469.5Z" fill="black"/>
<path id="satisfied" d="M638 441L602 428.5L680 60L808 101.5L638 441Z" fill="black"/>
</g>
</svg>
`;function Ob(i){let t,n,s,o,l,u,c;return{c(){t=H("p"),n=Te("Nice work!"),s=ce(),o=H("button"),l=Te("Edit my words")},l(d){t=G(d,"P",{});var h=K(t);n=Ae(h,"Nice work!"),h.forEach(L),s=fe(d),o=G(d,"BUTTON",{});var g=K(o);l=Ae(g,"Edit my words"),g.forEach(L)},m(d,h){ie(d,t,h),B(t,n),ie(d,s,h),ie(d,o,h),B(o,l),u||(c=Ne(o,"click",i[5]),u=!0)},p:me,i:me,o:me,d(d){d&&L(t),d&&L(s),d&&L(o),u=!1,c()}}}function Rb(i){let t,n,s,o,l,u,c,d,h,g,p,y,m,E,T,A,x,k,R,O;function C(z){i[6](z)}let j={slices:Sb,imgSrc:"assets/img/grey_wheel.png",wheelId:"grey-wheel"};return i[0]!==void 0&&(j.selected=i[0]),m=new Ov({props:j}),Dt.push(()=>ti(m,"selected",C)),{c(){t=H("p"),n=Te("Here, you try..."),s=ce(),o=H("p"),l=Te("What do you mean by "),u=H("strong"),c=Te(i[3]),d=Te("?"),h=ce(),g=H("p"),p=Te("Pick as many as you like!"),y=ce(),Re(m.$$.fragment),T=ce(),A=H("button"),x=Te("Confirm")},l(z){t=G(z,"P",{});var P=K(t);n=Ae(P,"Here, you try..."),P.forEach(L),s=fe(z),o=G(z,"P",{});var q=K(o);l=Ae(q,"What do you mean by "),u=G(q,"STRONG",{});var Z=K(u);c=Ae(Z,i[3]),Z.forEach(L),d=Ae(q,"?"),q.forEach(L),h=fe(z),g=G(z,"P",{});var X=K(g);p=Ae(X,"Pick as many as you like!"),X.forEach(L),y=fe(z),Me(m.$$.fragment,z),T=fe(z),A=G(z,"BUTTON",{});var ue=K(A);x=Ae(ue,"Confirm"),ue.forEach(L)},m(z,P){ie(z,t,P),B(t,n),ie(z,s,P),ie(z,o,P),B(o,l),B(o,u),B(u,c),B(o,d),ie(z,h,P),ie(z,g,P),B(g,p),ie(z,y,P),Le(m,z,P),ie(z,T,P),ie(z,A,P),B(A,x),k=!0,R||(O=Ne(A,"click",i[4]),R=!0)},p(z,P){(!k||P&8)&&En(c,z[3]);const q={};!E&&P&1&&(E=!0,q.selected=z[0],ni(()=>E=!1)),m.$set(q)},i(z){k||(oe(m.$$.fragment,z),k=!0)},o(z){le(m.$$.fragment,z),k=!1},d(z){z&&L(t),z&&L(s),z&&L(o),z&&L(h),z&&L(g),z&&L(y),Ce(m,z),z&&L(T),z&&L(A),R=!1,O()}}}function Nc(i){let t,n;return t=new wa({props:{data:i[1],wordAccessor:"deeper_word",groupBy:"deeper_word"}}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p(s,o){const l={};o&2&&(l.data=s[1]),t.$set(l)},i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function Mb(i){let t,n,s,o,l,u;const c=[Rb,Ob],d=[];function h(p,y){return p[2]?0:1}s=h(i),o=d[s]=c[s](i);let g=i[1]&&!i[2]&&Nc(i);return{c(){t=H("div"),n=H("div"),o.c(),l=ce(),g&&g.c(),this.h()},l(p){t=G(p,"DIV",{class:!0});var y=K(t);n=G(y,"DIV",{class:!0});var m=K(n);o.l(m),m.forEach(L),l=fe(y),g&&g.l(y),y.forEach(L),this.h()},h(){S(n,"class","words svelte-9qmjlj"),S(t,"class","container svelte-9qmjlj")},m(p,y){ie(p,t,y),B(t,n),d[s].m(n,null),B(t,l),g&&g.m(t,null),u=!0},p(p,[y]){let m=s;s=h(p),s===m?d[s].p(p,y):(Pt(),le(d[m],1,1,()=>{d[m]=null}),$t(),o=d[s],o?o.p(p,y):(o=d[s]=c[s](p),o.c()),oe(o,1),o.m(n,null)),p[1]&&!p[2]?g?(g.p(p,y),y&6&&oe(g,1)):(g=Nc(p),g.c(),oe(g,1),g.m(t,null)):g&&(Pt(),le(g,1,1,()=>{g=null}),$t())},i(p){u||(oe(o),oe(g),u=!0)},o(p){le(o),le(g),u=!1},d(p){p&&L(t),d[s].d(),g&&g.d()}}}function Lb(i,t,n){let s,o,l;Se(i,is,E=>n(7,s=E)),Se(i,Xn,E=>n(0,o=E)),Se(i,br,E=>n(3,l=E));let u,c=!0;const d=new la.Howl({src:["assets/sound/after-word.wav"]}),h=async()=>{const E=await ma(),A=ln.orderBy(E.filter(x=>x.deeper_words),"created_at","desc").slice(0,50).map(x=>ln.pick(x,["id","created_at","deeper_words"])).reduce((x,k)=>{const R=k.deeper_words.split("|"),O=ln.omit(k,["deeper_words","id"]),C=R.map((j,z)=>({id:`${k.id}-${z}`,deeper_word:j,...O}));return[...x,...C]},[]);n(1,u=A)},g=async()=>{await xf({table:"emotions",column:"deeper_words",value:o.join("|"),id:s})},p=async()=>{await g(),n(2,c=!1)},y=()=>{n(2,c=!0)};oa(()=>{d.unload()});function m(E){o=E,Xn.set(o)}return i.$$.update=()=>{i.$$.dirty&1&&o.length&&h()},[o,u,c,l,p,y,m]}class Cb extends qe{constructor(t){super(),Ve(this,t,Lb,Mb,Je,{})}}function Pb(i){let t,n,s,o;return{c(){t=H("div"),n=H("hex-color-picker"),this.h()},l(l){t=G(l,"DIV",{});var u=K(t);n=G(u,"HEX-COLOR-PICKER",{color:!0}),K(n).forEach(L),u.forEach(L),this.h()},h(){Xu(n,"color",i[0])},m(l,u){ie(l,t,u),B(t,n),s||(o=Ne(n,"color-changed",i[1]),s=!0)},p(l,[u]){u&1&&Xu(n,"color",l[0])},i:me,o:me,d(l){l&&L(t),s=!1,o()}}}function $b(i,t,n){let{color:s}=t;const o=l=>{n(0,s=l.detail.value)};return ei(async()=>{(await ri(()=>import("../../chunks/hex-color-picker-5c6f56b9.js"),[],import.meta.url)).default}),i.$$set=l=>{"color"in l&&n(0,s=l.color)},[s,o]}class Rf extends qe{constructor(t){super(),Ve(this,t,$b,Pb,Je,{color:0})}}const Bc=[{hex:"#FFFFFF",name:"White"},{hex:"#000000",name:"Black"},{hex:"#808080",name:"Grey"},{hex:"#ff0000",name:"Red"},{hex:"#ffa500",name:"Orange"},{hex:"#ffff00",name:"Yellow"},{hex:"#008000",name:"Green"},{hex:"#0000ff",name:"Blue"},{hex:"#4b0082",name:"Indigo"},{hex:"#ee82ee",name:"Violet"}];function Uc(i){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;i=i.replace(t,function(s,o,l,u){return o+o+l+l+u+u});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function Db(i,t){return Math.sqrt(Math.pow(i.r-t.r,2)+Math.pow(i.g-t.g,2)+Math.pow(i.b-t.b,2))}function Nb(i){var t=Number.POSITIVE_INFINITY,n;let s=0;return Bc.forEach((o,l)=>{n=Db(Uc(i),Uc(o.hex)),n<t&&(t=n,s=l)}),Bc[s]}function Bb(i){let t,n,s,o,l,u,c;return{c(){t=H("p"),n=Te("Nice work!"),s=ce(),o=H("button"),l=Te("Edit my colors"),this.h()},l(d){t=G(d,"P",{});var h=K(t);n=Ae(h,"Nice work!"),h.forEach(L),s=fe(d),o=G(d,"BUTTON",{class:!0});var g=K(o);l=Ae(g,"Edit my colors"),g.forEach(L),this.h()},h(){S(o,"class","svelte-19zxnhn")},m(d,h){ie(d,t,h),B(t,n),ie(d,s,h),ie(d,o,h),B(o,l),u||(c=Ne(o,"click",i[6]),u=!0)},p:me,i:me,o:me,d(d){d&&L(t),d&&L(s),d&&L(o),u=!1,c()}}}function Ub(i){let t,n,s,o,l,u,c,d,h,g,p,y,m,E;function T(x){i[11](x)}let A={};return i[0]!==void 0&&(A.color=i[0]),c=new Rf({props:A}),Dt.push(()=>ti(c,"color",T)),{c(){t=H("p"),n=Te("You're feeling "),s=H("strong"),o=Te(i[4]),l=Te(` - what color is
				it?`),u=ce(),Re(c.$$.fragment),h=ce(),g=H("button"),p=Te("That's it"),this.h()},l(x){t=G(x,"P",{class:!0});var k=K(t);n=Ae(k,"You're feeling "),s=G(k,"STRONG",{class:!0});var R=K(s);o=Ae(R,i[4]),R.forEach(L),l=Ae(k,` - what color is
				it?`),k.forEach(L),u=fe(x),Me(c.$$.fragment,x),h=fe(x),g=G(x,"BUTTON",{class:!0});var O=K(g);p=Ae(O,"That's it"),O.forEach(L),this.h()},h(){S(s,"class","word svelte-19zxnhn"),S(t,"class","text svelte-19zxnhn"),yr(t,"color",i[3],!1),S(g,"class","svelte-19zxnhn")},m(x,k){ie(x,t,k),B(t,n),B(t,s),B(s,o),B(t,l),ie(x,u,k),Le(c,x,k),ie(x,h,k),ie(x,g,k),B(g,p),y=!0,m||(E=Ne(g,"click",i[5]),m=!0)},p(x,k){(!y||k&16)&&En(o,x[4]),k&8&&yr(t,"color",x[3],!1);const R={};!d&&k&1&&(d=!0,R.color=x[0],ni(()=>d=!1)),c.$set(R)},i(x){y||(oe(c.$$.fragment,x),y=!0)},o(x){le(c.$$.fragment,x),y=!1},d(x){x&&L(t),x&&L(u),Ce(c,x),x&&L(h),x&&L(g),m=!1,E()}}}function Fc(i){let t,n;return t=new wa({props:{data:i[2],wordAccessor:"deeper_word",groupBy:"color_group",withColor:!0}}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p(s,o){const l={};o&4&&(l.data=s[2]),t.$set(l)},i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function Fb(i){let t,n,s,o,l,u;const c=[Ub,Bb],d=[];function h(p,y){return p[1]?0:1}s=h(i),o=d[s]=c[s](i);let g=i[2]&&!i[1]&&Fc(i);return{c(){t=H("div"),n=H("div"),o.c(),l=ce(),g&&g.c(),this.h()},l(p){t=G(p,"DIV",{class:!0});var y=K(t);n=G(y,"DIV",{class:!0});var m=K(n);o.l(m),m.forEach(L),l=fe(y),g&&g.l(y),y.forEach(L),this.h()},h(){S(n,"class","words svelte-19zxnhn"),S(t,"class","container svelte-19zxnhn")},m(p,y){ie(p,t,y),B(t,n),d[s].m(n,null),B(t,l),g&&g.m(t,null),u=!0},p(p,[y]){let m=s;s=h(p),s===m?d[s].p(p,y):(Pt(),le(d[m],1,1,()=>{d[m]=null}),$t(),o=d[s],o?o.p(p,y):(o=d[s]=c[s](p),o.c()),oe(o,1),o.m(n,null)),p[2]&&!p[1]?g?(g.p(p,y),y&6&&oe(g,1)):(g=Fc(p),g.c(),oe(g,1),g.m(t,null)):g&&(Pt(),le(g,1,1,()=>{g=null}),$t())},i(p){u||(oe(o),oe(g),u=!0)},o(p){le(o),le(g),u=!1},d(p){p&&L(t),d[s].d(),g&&g.d()}}}const es="#b5bbbb";function zb(i,t,n){let s,o,l,u,c,d;Se(i,Vr,C=>n(8,l=C)),Se(i,Er,C=>n(9,u=C)),Se(i,Xn,C=>n(10,c=C)),Se(i,is,C=>n(12,d=C));const h=new la.Howl({src:["assets/sound/after-color.wav"]});let g=es,p=0,y=!0,m;const E=async()=>{const C=await ma(),z=ln.orderBy(C.filter(P=>P.deeper_words&&P.colors&&P.colors.split("|").length===P.deeper_words.split("|").length),"created_at","desc").slice(0,50).map(P=>ln.pick(P,["id","created_at","deeper_words","colors"])).reduce((P,q)=>{const Z=q.deeper_words.split("|"),X=q.colors.split("|"),ue=ln.omit(q,["deeper_words","colors","id"]),re=Z.map((b,$)=>({id:`${q.id}-${$}`,deeper_word:b,color:X[$],color_group:Nb(X[$]).hex,...ue}));return[...P,...re]},[]);n(2,m=z)},T=()=>{g!==es&&bn(Vr,l=g,l)},A=()=>{u[p]?n(0,g=u[p]):n(0,g=es),bn(Vr,l=es,l)},x=async()=>{await xf({table:"emotions",column:"colors",value:u.join("|"),id:d})},k=async()=>{h.play(),bn(Er,u[p]=g,u),await x(),p+1<c.length?n(7,p+=1):n(1,y=!1),A()},R=()=>{n(1,y=!0),n(7,p=0),n(0,g=u[p]),bn(Vr,l=g,l)};oa(()=>{h.unload()});function O(C){g=C,n(0,g)}return i.$$.update=()=>{i.$$.dirty&1152&&n(4,s=c[p]),i.$$.dirty&1&&T(),i.$$.dirty&256&&n(3,o=us(l)),i.$$.dirty&512&&u.length&&E()},[g,y,m,o,s,k,R,p,l,u,c,O]}class jb extends qe{constructor(t){super(),Ve(this,t,zb,Fb,Je,{})}}var Wb="Expected a function",zc=0/0,Hb="[object Symbol]",Gb=/^\s+|\s+$/g,qb=/^[-+]0x[0-9a-f]+$/i,Vb=/^0b[01]+$/i,Jb=/^0o[0-7]+$/i,Kb=parseInt,Zb=typeof an=="object"&&an&&an.Object===Object&&an,Yb=typeof self=="object"&&self&&self.Object===Object&&self,Xb=Zb||Yb||Function("return this")(),Qb=Object.prototype,e2=Qb.toString,t2=Math.max,n2=Math.min,Go=function(){return Xb.Date.now()};function r2(i,t,n){var s,o,l,u,c,d,h=0,g=!1,p=!1,y=!0;if(typeof i!="function")throw new TypeError(Wb);t=jc(t)||0,ia(n)&&(g=!!n.leading,p="maxWait"in n,l=p?t2(jc(n.maxWait)||0,t):l,y="trailing"in n?!!n.trailing:y);function m(j){var z=s,P=o;return s=o=void 0,h=j,u=i.apply(P,z),u}function E(j){return h=j,c=setTimeout(x,t),g?m(j):u}function T(j){var z=j-d,P=j-h,q=t-z;return p?n2(q,l-P):q}function A(j){var z=j-d,P=j-h;return d===void 0||z>=t||z<0||p&&P>=l}function x(){var j=Go();if(A(j))return k(j);c=setTimeout(x,T(j))}function k(j){return c=void 0,y&&s?m(j):(s=o=void 0,u)}function R(){c!==void 0&&clearTimeout(c),h=0,s=d=o=c=void 0}function O(){return c===void 0?u:k(Go())}function C(){var j=Go(),z=A(j);if(s=arguments,o=this,d=j,z){if(c===void 0)return E(d);if(p)return c=setTimeout(x,t),m(d)}return c===void 0&&(c=setTimeout(x,t)),u}return C.cancel=R,C.flush=O,C}function ia(i){var t=typeof i;return!!i&&(t=="object"||t=="function")}function i2(i){return!!i&&typeof i=="object"}function s2(i){return typeof i=="symbol"||i2(i)&&e2.call(i)==Hb}function jc(i){if(typeof i=="number")return i;if(s2(i))return zc;if(ia(i)){var t=typeof i.valueOf=="function"?i.valueOf():i;i=ia(t)?t+"":t}if(typeof i!="string")return i===0?i:+i;i=i.replace(Gb,"");var n=Vb.test(i);return n||Jb.test(i)?Kb(i.slice(2),n?2:8):qb.test(i)?zc:+i}var o2=r2;const Mf=Mv({width:0,height:0},i=>{const t=()=>i({width:window.innerWidth,height:window.innerHeight});return t(),window.addEventListener("resize",o2(t,250)),()=>{window.removeEventListener("resize",t)}});function a2(i){let t,n,s,o,l,u,c,d,h,g,p,y,m,E,T,A,x,k,R,O,C,j,z,P,q,Z,X,ue;function re($){i[17]($)}let b={};return i[5]!==void 0&&(b.color=i[5]),C=new Rf({props:b}),Dt.push(()=>ti(C,"color",re)),{c(){t=H("div"),n=H("div"),s=H("p"),o=Te("How does "),l=H("span"),u=Te(i[8]),c=Te(" show up in your body?"),d=ce(),h=H("p"),g=Te(`Take a breath\u2013 scan from the top of your head down through your chest,
			down into your toes. Make a mark on the diagram on the right based on what
			you notice.`),p=ce(),y=H("div"),m=H("div"),E=H("canvas"),A=ce(),x=H("div"),R=ce(),O=H("div"),Re(C.$$.fragment),z=ce(),P=H("button"),q=Te("clear"),this.h()},l($){t=G($,"DIV",{class:!0});var U=K(t);n=G(U,"DIV",{class:!0});var Q=K(n);s=G(Q,"P",{});var te=K(s);o=Ae(te,"How does "),l=G(te,"SPAN",{class:!0});var ee=K(l);u=Ae(ee,i[8]),ee.forEach(L),c=Ae(te," show up in your body?"),te.forEach(L),d=fe(Q),h=G(Q,"P",{});var pe=K(h);g=Ae(pe,`Take a breath\u2013 scan from the top of your head down through your chest,
			down into your toes. Make a mark on the diagram on the right based on what
			you notice.`),pe.forEach(L),Q.forEach(L),p=fe(U),y=G(U,"DIV",{class:!0});var _e=K(y);m=G(_e,"DIV",{class:!0});var Oe=K(m);E=G(Oe,"CANVAS",{height:!0,width:!0,style:!0,class:!0}),K(E).forEach(L),A=fe(Oe),x=G(Oe,"DIV",{class:!0,style:!0}),K(x).forEach(L),Oe.forEach(L),R=fe(_e),O=G(_e,"DIV",{class:!0});var lt=K(O);Me(C.$$.fragment,lt),z=fe(lt),P=G(lt,"BUTTON",{});var Ke=K(P);q=Ae(Ke,"clear"),Ke.forEach(L),lt.forEach(L),_e.forEach(L),U.forEach(L),this.h()},h(){S(l,"class","word svelte-pej7qc"),S(n,"class","words svelte-pej7qc"),S(E,"height",i[0]),S(E,"width",i[6]),S(E,"style",T=`background-image: url(${i[7]})`),S(E,"class","svelte-pej7qc"),S(x,"class","cursor svelte-pej7qc"),S(x,"style",k=`--color: ${i[5]}`),Ye(x,"visible",i[4]),yr(x,"left",`${i[2]}px`,!1),yr(x,"top",`${i[3]}px`,!1),S(m,"class","canvas svelte-pej7qc"),S(O,"class","color-picker svelte-pej7qc"),S(y,"class","interactive svelte-pej7qc"),S(t,"class","container svelte-pej7qc")},m($,U){ie($,t,U),B(t,n),B(n,s),B(s,o),B(s,l),B(l,u),B(s,c),B(n,d),B(n,h),B(h,g),B(t,p),B(t,y),B(y,m),B(m,E),i[16](E),B(m,A),B(m,x),B(y,R),B(y,O),Le(C,O,null),B(O,z),B(O,P),B(P,q),Z=!0,X||(ue=[Ne(E,"mousedown",i[9]),Ne(E,"mouseup",i[10]),Ne(E,"mousemove",i[11]),Ne(E,"mouseenter",i[12]),Ne(E,"mouseleave",i[13]),Ne(P,"click",i[14])],X=!0)},p($,[U]){(!Z||U&1)&&S(E,"height",$[0]),(!Z||U&64)&&S(E,"width",$[6]),(!Z||U&128&&T!==(T=`background-image: url(${$[7]})`))&&S(E,"style",T),(!Z||U&32&&k!==(k=`--color: ${$[5]}`))&&S(x,"style",k),(!Z||U&16)&&Ye(x,"visible",$[4]),U&4&&yr(x,"left",`${$[2]}px`,!1),U&8&&yr(x,"top",`${$[3]}px`,!1);const Q={};!j&&U&32&&(j=!0,Q.color=$[5],ni(()=>j=!1)),C.$set(Q)},i($){Z||(oe(C.$$.fragment,$),Z=!0)},o($){le(C.$$.fragment,$),Z=!1},d($){$&&L(t),i[16](null),Ce(C),X=!1,Qn(ue)}}}function l2(i,t,n){let s,o,l,u,c,d;Se(i,Mf,q=>n(15,u=q)),Se(i,Er,q=>n(20,c=q)),Se(i,Xn,q=>n(21,d=q));let h,g,p=!1,y,m,E=!1,T=ln.sample(d),A=ln.sample(c);const x=q=>{p=!0,R(q)},k=()=>{p=!1,g.beginPath()},R=q=>{n(2,y=q.offsetX),n(3,m=q.offsetY),p&&(g.lineWidth=4,g.lineCap="round",g.lineTo(q.offsetX,q.offsetY),g.strokeStyle=A,g.stroke(),g.beginPath(),g.moveTo(q.offsetX,q.offsetY))},O=()=>{n(4,E=!0)},C=()=>{n(4,E=!1)},j=()=>{g.clearRect(0,0,o,s)};ei(()=>{g=h.getContext("2d")});function z(q){Dt[q?"unshift":"push"](()=>{h=q,n(1,h)})}function P(q){A=q,n(5,A)}return i.$$.update=()=>{i.$$.dirty&32768&&n(0,s=u.height*.5),i.$$.dirty&1&&n(6,o=s)},n(7,l=`${cs}/assets/img/blank_body.png`),[s,h,y,m,E,A,o,l,T,x,k,R,O,C,j,u,z,P]}class u2 extends qe{constructor(t){super(),Ve(this,t,l2,a2,Je,{})}}function Wc(i){let t,n;return{c(){t=H("div"),n=Te(i[1]),this.h()},l(s){t=G(s,"DIV",{class:!0});var o=K(t);n=Ae(o,i[1]),o.forEach(L),this.h()},h(){S(t,"class","title svelte-18g1jre")},m(s,o){ie(s,t,o),B(t,n)},p(s,o){o&2&&En(n,s[1])},d(s){s&&L(t)}}}function c2(i){let t,n,s,o,l,u,c=i[2]&&Wc(i);return{c(){t=H("div"),n=H("img"),o=ce(),c&&c.c(),this.h()},l(d){t=G(d,"DIV",{class:!0});var h=K(t);n=G(h,"IMG",{src:!0,class:!0}),o=fe(h),c&&c.l(h),h.forEach(L),this.h()},h(){vt(n.src,s=`assets/img/gallery/${i[0]}`)||S(n,"src",s),S(n,"class","svelte-18g1jre"),Ye(n,"faded",i[2]),S(t,"class","card svelte-18g1jre")},m(d,h){ie(d,t,h),B(t,n),B(t,o),c&&c.m(t,null),l||(u=[Ne(t,"mouseenter",i[4]),Ne(t,"mouseleave",i[5]),Ne(t,"click",i[3])],l=!0)},p(d,[h]){h&1&&!vt(n.src,s=`assets/img/gallery/${d[0]}`)&&S(n,"src",s),h&4&&Ye(n,"faded",d[2]),d[2]?c?c.p(d,h):(c=Wc(d),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i:me,o:me,d(d){d&&L(t),c&&c.d(),l=!1,Qn(u)}}}function f2(i,t,n){let s;Se(i,xr,g=>n(6,s=g));let{img:o}=t,{title:l}=t,u=!1;const c=()=>{bn(xr,s=o,s)},d=()=>n(2,u=!0),h=()=>n(2,u=!1);return i.$$set=g=>{"img"in g&&n(0,o=g.img),"title"in g&&n(1,l=g.title)},[o,l,u,c,d,h]}class mr extends qe{constructor(t){super(),Ve(this,t,f2,c2,Je,{img:0,title:1})}}function h2(i){return new Promise((t,n)=>{const s=new Image;s.onload=()=>t(s),s.onerror=()=>n(`error loading ${i}`),s.src=i})}function d2(i){let t,n,s,o,l,u,c,d,h,g,p,y,m,E,T,A,x;return{c(){t=H("div"),n=H("div"),s=H("img"),u=ce(),c=H("div"),d=H("div"),h=Te("Zoom"),g=ce(),p=H("button"),y=Te("+"),m=ce(),E=H("button"),T=Te("-"),this.h()},l(k){t=G(k,"DIV",{class:!0});var R=K(t);n=G(R,"DIV",{class:!0});var O=K(n);s=G(O,"IMG",{src:!0,class:!0}),O.forEach(L),R.forEach(L),u=fe(k),c=G(k,"DIV",{class:!0});var C=K(c);d=G(C,"DIV",{class:!0});var j=K(d);h=Ae(j,"Zoom"),j.forEach(L),g=fe(C),p=G(C,"BUTTON",{class:!0});var z=K(p);y=Ae(z,"+"),z.forEach(L),m=fe(C),E=G(C,"BUTTON",{class:!0});var P=K(E);T=Ae(P,"-"),P.forEach(L),C.forEach(L),this.h()},h(){vt(s.src,o=i[0])||S(s,"src",o),S(s,"class","svelte-efz6ni"),S(n,"class","image-wrapper svelte-efz6ni"),S(t,"class","outer svelte-efz6ni"),Qr(()=>i[8].call(t)),S(d,"class","zoom-title svelte-efz6ni"),S(p,"class","svelte-efz6ni"),S(E,"class","svelte-efz6ni"),S(c,"class","buttons svelte-efz6ni")},m(k,R){ie(k,t,R),B(t,n),B(n,s),i[6](n),i[7](t),l=sa(t,i[8].bind(t)),ie(k,u,R),ie(k,c,R),B(c,d),B(d,h),B(c,g),B(c,p),B(p,y),B(c,m),B(c,E),B(E,T),A||(x=[Ne(p,"click",i[4]),Ne(E,"click",i[5])],A=!0)},p(k,[R]){R&1&&!vt(s.src,o=k[0])&&S(s,"src",o)},i:me,o:me,d(k){k&&L(t),i[6](null),i[7](null),l(),k&&L(u),k&&L(c),A=!1,Qn(x)}}}function g2(i,t,n){let s;Se(i,Mf,k=>n(11,s=k));let{src:o}=t,l,u,c,d,h;const g=k=>{at(u).style("transform",`translate(${k.transform.x}px, ${k.transform.y}px) scale(${k.transform.k})`)},p=()=>{h.scaleBy(at(l).transition(),1.3)},y=()=>{h.scaleBy(at(l).transition(),1/1.3)},m=async()=>{h&&at(l).call(h.transform,aa),E()},E=async()=>{if(o!==""){const k=await h2(o);let O=k.height/k.width*d;c=Math.max(s.height*.7,O),h=Eb().scaleExtent([1,4]).translateExtent([[0,0],[d,c]]).on("zoom",g),at(l).call(h)}};ei(async()=>{E()});function T(k){Dt[k?"unshift":"push"](()=>{u=k,n(2,u)})}function A(k){Dt[k?"unshift":"push"](()=>{l=k,n(1,l)})}function x(){d=this.clientWidth,n(3,d)}return i.$$set=k=>{"src"in k&&n(0,o=k.src)},i.$$.update=()=>{i.$$.dirty&1&&m()},[o,l,u,d,p,y,T,A,x]}class p2 extends qe{constructor(t){super(),Ve(this,t,g2,d2,Je,{src:0})}}function _2(i){let t,n,s,o,l,u,c,d;return n=new p2({props:{src:i[1]?`assets/img/gallery/${i[1]}`:""}}),l=new Rv({props:{name:"x"}}),{c(){t=H("div"),Re(n.$$.fragment),s=ce(),o=H("div"),Re(l.$$.fragment),this.h()},l(h){t=G(h,"DIV",{class:!0});var g=K(t);Me(n.$$.fragment,g),s=fe(g),o=G(g,"DIV",{class:!0});var p=K(o);Me(l.$$.fragment,p),p.forEach(L),g.forEach(L),this.h()},h(){S(o,"class","close svelte-18kcdsc"),S(t,"class","modal svelte-18kcdsc"),Ye(t,"visible",i[1])},m(h,g){ie(h,t,g),Le(n,t,null),B(t,s),B(t,o),Le(l,o,null),i[3](t),u=!0,c||(d=Ne(o,"click",i[2]),c=!0)},p(h,[g]){const p={};g&2&&(p.src=h[1]?`assets/img/gallery/${h[1]}`:""),n.$set(p),(!u||g&2)&&Ye(t,"visible",h[1])},i(h){u||(oe(n.$$.fragment,h),oe(l.$$.fragment,h),u=!0)},o(h){le(n.$$.fragment,h),le(l.$$.fragment,h),u=!1},d(h){h&&L(t),Ce(n),Ce(l),i[3](null),c=!1,d()}}}function m2(i,t,n){let s;Se(i,xr,c=>n(1,s=c));let o;const l=()=>{bn(xr,s=void 0,s)};function u(c){Dt[c?"unshift":"push"](()=>{o=c,n(0,o)})}return[o,s,l,u]}class v2 extends qe{constructor(t){super(),Ve(this,t,m2,_2,Je,{})}}function y2(i){let t,n,s,o,l,u,c,d,h,g,p,y,m,E,T,A,x;return s=new mr({props:{img:"george_floyd_6.png",title:"George Floyd protests"}}),l=new mr({props:{img:"dress.png",title:"Dress"}}),c=new mr({props:{img:"suit.png",title:"Suit"}}),h=new mr({props:{img:"family.png",title:"Family"}}),y=new mr({props:{img:"pronouns.png",title:"Pronouns"}}),E=new mr({props:{img:"the_things_color.png",title:"Life audit"}}),A=new v2({}),{c(){t=H("div"),n=H("div"),Re(s.$$.fragment),o=ce(),Re(l.$$.fragment),u=ce(),Re(c.$$.fragment),d=ce(),Re(h.$$.fragment),g=ce(),p=H("div"),Re(y.$$.fragment),m=ce(),Re(E.$$.fragment),T=ce(),Re(A.$$.fragment),this.h()},l(k){t=G(k,"DIV",{class:!0});var R=K(t);n=G(R,"DIV",{class:!0});var O=K(n);Me(s.$$.fragment,O),o=fe(O),Me(l.$$.fragment,O),u=fe(O),Me(c.$$.fragment,O),d=fe(O),Me(h.$$.fragment,O),O.forEach(L),g=fe(R),p=G(R,"DIV",{class:!0});var C=K(p);Me(y.$$.fragment,C),m=fe(C),Me(E.$$.fragment,C),C.forEach(L),R.forEach(L),T=fe(k),Me(A.$$.fragment,k),this.h()},h(){S(n,"class","row svelte-1xkj1d"),S(p,"class","row svelte-1xkj1d"),S(t,"class","container svelte-1xkj1d"),Ye(t,"faded",i[0])},m(k,R){ie(k,t,R),B(t,n),Le(s,n,null),B(n,o),Le(l,n,null),B(n,u),Le(c,n,null),B(n,d),Le(h,n,null),B(t,g),B(t,p),Le(y,p,null),B(p,m),Le(E,p,null),ie(k,T,R),Le(A,k,R),x=!0},p(k,[R]){(!x||R&1)&&Ye(t,"faded",k[0])},i(k){x||(oe(s.$$.fragment,k),oe(l.$$.fragment,k),oe(c.$$.fragment,k),oe(h.$$.fragment,k),oe(y.$$.fragment,k),oe(E.$$.fragment,k),oe(A.$$.fragment,k),x=!0)},o(k){le(s.$$.fragment,k),le(l.$$.fragment,k),le(c.$$.fragment,k),le(h.$$.fragment,k),le(y.$$.fragment,k),le(E.$$.fragment,k),le(A.$$.fragment,k),x=!1},d(k){k&&L(t),Ce(s),Ce(l),Ce(c),Ce(h),Ce(y),Ce(E),k&&L(T),Ce(A,k)}}}function w2(i,t,n){let s;return Se(i,xr,o=>n(0,s=o)),[s]}class b2 extends qe{constructor(t){super(),Ve(this,t,w2,y2,Je,{})}}function Lf(i,t={}){let n;const s=l=>{const u=l[0].isIntersecting,c=u?"enter":"exit";if(i.dispatchEvent(new CustomEvent(c)),t.progress&&u){const h={ratio:l[0].intersectionRatio};i.dispatchEvent(new CustomEvent("progress",{detail:h}))}},o=({root:l,top:u,bottom:c})=>{const d=u?u*-1:0,h=c?c*-1:0,g=`${d}px 0px ${h}px 0px`,p={root:l,rootMargin:g};n&&n.disconnect(),n=new IntersectionObserver(s,p),n.observe(i)};return o(t),{update(l){o(l)},destroy(){n&&n.disconnect()}}}function E2(i){let t,n,s,o;return{c(){t=H("img"),this.h()},l(l){t=G(l,"IMG",{src:!0,class:!0}),this.h()},h(){vt(t.src,n="assets/img/grey_wheel_blank.png")||S(t,"src",n),S(t,"class","svelte-1ddzpan"),Ye(t,"roll-in",i[0])},m(l,u){ie(l,t,u),s||(o=[sf(Lf.call(null,t)),Ne(t,"enter",i[1]),Ne(t,"exit",i[2])],s=!0)},p(l,[u]){u&1&&Ye(t,"roll-in",l[0])},i:me,o:me,d(l){l&&L(t),s=!1,Qn(o)}}}function x2(i,t,n){let s=!1;return[s,()=>n(0,s=!0),()=>n(0,s=!1)]}class T2 extends qe{constructor(t){super(),Ve(this,t,x2,E2,Je,{})}}function Hc(i,t,n){const s=i.slice();return s[4]=t[n],s}function Gc(i){let t,n=i[4]+"";return{c(){t=H("p")},l(s){t=G(s,"P",{});var o=K(t);o.forEach(L)},m(s,o){ie(s,t,o),t.innerHTML=n},p(s,o){o&1&&n!==(n=s[4]+"")&&(t.innerHTML=n)},d(s){s&&L(t)}}}function A2(i){let t,n,s,o=i[0],l=[];for(let u=0;u<o.length;u+=1)l[u]=Gc(Hc(i,o,u));return{c(){t=H("div");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){t=G(u,"DIV",{class:!0});var c=K(t);for(let d=0;d<l.length;d+=1)l[d].l(c);c.forEach(L),this.h()},h(){S(t,"class","words svelte-1tjfhlb"),Ye(t,"visible",i[1])},m(u,c){ie(u,t,c);for(let d=0;d<l.length;d+=1)l[d].m(t,null);n||(s=[sf(Lf.call(null,t)),Ne(t,"enter",i[2]),Ne(t,"exit",i[3])],n=!0)},p(u,[c]){if(c&1){o=u[0];let d;for(d=0;d<o.length;d+=1){const h=Hc(u,o,d);l[d]?l[d].p(h,c):(l[d]=Gc(h),l[d].c(),l[d].m(t,null))}for(;d<l.length;d+=1)l[d].d(1);l.length=o.length}c&2&&Ye(t,"visible",u[1])},i:me,o:me,d(u){u&&L(t),tn(l,u),n=!1,Qn(s)}}}function k2(i,t,n){let{text:s}=t,o=!1;const l=()=>n(1,o=!0),u=()=>n(1,o=!1);return i.$$set=c=>{"text"in c&&n(0,s=c.text)},[s,o,l,u]}class I2 extends qe{constructor(t){super(),Ve(this,t,k2,A2,Je,{text:0})}}function qc(i,t,n){const s=i.slice();s[10]=t[n].id,s[11]=t[n].text,s[14]=n;const o=s[3].includes(s[10])?"ground":s[10];return s[12]=o,s}function S2(i){let t,n;return t=new I2({props:{text:i[11]}}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p(s,o){const l={};o&1&&(l.text=s[11]),t.$set(l)},i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function O2(i){let t,n;return t=new b2({}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p:me,i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function R2(i){let t,n;return t=new u2({}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p:me,i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function M2(i){let t,n;return t=new jb({}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p:me,i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function L2(i){let t,n;return t=new Cb({}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p:me,i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function C2(i){let t,n;return t=new Ib({}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p:me,i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function P2(i){let t,n;return{c(){t=H("img"),this.h()},l(s){t=G(s,"IMG",{class:!0,src:!0}),this.h()},h(){S(t,"class","simple-wheel svelte-4jjynh"),vt(t.src,n="assets/img/final_wheel.png")||S(t,"src",n)},m(s,o){ie(s,t,o)},i:me,o:me,d(s){s&&L(t)}}}function $2(i){let t,n;return{c(){t=H("img"),this.h()},l(s){t=G(s,"IMG",{class:!0,src:!0}),this.h()},h(){S(t,"class","body-diagram svelte-4jjynh"),vt(t.src,n="assets/img/blank_body.png")||S(t,"src",n)},m(s,o){ie(s,t,o)},i:me,o:me,d(s){s&&L(t)}}}function D2(i){let t,n;return{c(){t=H("img"),this.h()},l(s){t=G(s,"IMG",{class:!0,src:!0}),this.h()},h(){S(t,"class","simple-wheel svelte-4jjynh"),vt(t.src,n="assets/img/simple_wheel_color.png")||S(t,"src",n)},m(s,o){ie(s,t,o)},i:me,o:me,d(s){s&&L(t)}}}function N2(i){let t,n;return{c(){t=H("img"),this.h()},l(s){t=G(s,"IMG",{class:!0,src:!0}),this.h()},h(){S(t,"class","simple-wheel svelte-4jjynh"),vt(t.src,n="assets/img/grey_wheel.png")||S(t,"src",n)},m(s,o){ie(s,t,o)},i:me,o:me,d(s){s&&L(t)}}}function B2(i){let t,n;return t=new T2({}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function Vc(i){let t,n,s,o,l,u,c,d,h,g,p,y;const m=[C2,L2,M2,R2,O2,S2],E=[];function T(R,O){return R[10]==="survey-basic"?0:R[10]==="survey-words"?1:R[10]==="survey-color"?2:R[10]==="survey-body"?3:R[10]==="gallery"?4:5}l=T(i),u=E[l]=m[l](i);const A=[B2,N2,D2,$2,P2],x=[];function k(R,O){return R[10]==="try-wheel"?0:R[10]==="granularity"?1:R[10]==="color"?2:R[10]==="body"?3:R[10]==="final-wheel"?4:-1}return~(d=k(i))&&(h=x[d]=A[d](i)),{c(){t=H("div"),n=H("img"),o=ce(),u.c(),c=ce(),h&&h.c(),g=ce(),this.h()},l(R){t=G(R,"DIV",{class:!0,id:!0});var O=K(t);n=G(O,"IMG",{src:!0,class:!0}),o=fe(O),u.l(O),c=fe(O),h&&h.l(O),g=fe(O),O.forEach(L),this.h()},h(){vt(n.src,s=`assets/img/panels/${i[12]}.png`)||S(n,"src",s),S(n,"class","full-panel svelte-4jjynh"),S(t,"class","step svelte-4jjynh"),S(t,"id",p=i[10]),Ye(t,"visible",i[2])},m(R,O){ie(R,t,O),B(t,n),B(t,o),E[l].m(t,null),B(t,c),~d&&x[d].m(t,null),B(t,g),y=!0},p(R,O){(!y||O&1&&!vt(n.src,s=`assets/img/panels/${R[12]}.png`))&&S(n,"src",s);let C=l;l=T(R),l===C?E[l].p(R,O):(Pt(),le(E[C],1,1,()=>{E[C]=null}),$t(),u=E[l],u?u.p(R,O):(u=E[l]=m[l](R),u.c()),oe(u,1),u.m(t,c));let j=d;d=k(R),d!==j&&(h&&(Pt(),le(x[j],1,1,()=>{x[j]=null}),$t()),~d?(h=x[d],h||(h=x[d]=A[d](R),h.c()),oe(h,1),h.m(t,g)):h=null),(!y||O&1&&p!==(p=R[10]))&&S(t,"id",p),(!y||O&4)&&Ye(t,"visible",R[2])},i(R){y||(oe(u),oe(h),y=!0)},o(R){le(u),le(h),y=!1},d(R){R&&L(t),E[l].d(),~d&&x[d].d()}}}function U2(i){let t,n,s=i[0],o=[];for(let u=0;u<s.length;u+=1)o[u]=Vc(qc(i,s,u));const l=u=>le(o[u],1,1,()=>{o[u]=null});return{c(){for(let u=0;u<o.length;u+=1)o[u].c();t=$n()},l(u){for(let c=0;c<o.length;c+=1)o[c].l(u);t=$n()},m(u,c){for(let d=0;d<o.length;d+=1)o[d].m(u,c);ie(u,t,c),n=!0},p(u,c){if(c&13){s=u[0];let d;for(d=0;d<s.length;d+=1){const h=qc(u,s,d);o[d]?(o[d].p(h,c),oe(o[d],1)):(o[d]=Vc(h),o[d].c(),oe(o[d],1),o[d].m(t.parentNode,t))}for(Pt(),d=s.length;d<o.length;d+=1)l(d);$t()}},i(u){if(!n){for(let c=0;c<s.length;c+=1)oe(o[c]);n=!0}},o(u){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)le(o[c]);n=!1},d(u){tn(o,u),u&&L(t)}}}function F2(i){let t,n,s;function o(u){i[9](u)}let l={$$slots:{default:[U2]},$$scope:{ctx:i}};return i[1]!==void 0&&(l.value=i[1]),t=new B1({props:l}),Dt.push(()=>ti(t,"value",o)),{c(){Re(t.$$.fragment)},l(u){Me(t.$$.fragment,u)},m(u,c){Le(t,u,c),s=!0},p(u,[c]){const d={};c&32773&&(d.$$scope={dirty:c,ctx:u}),!n&&c&2&&(n=!0,d.value=u[1],ni(()=>n=!1)),t.$set(d)},i(u){s||(oe(t.$$.fragment,u),s=!0)},o(u){le(t.$$.fragment,u),s=!1},d(u){Ce(t,u)}}}function z2(i,t,n){let s,o,l,u,c,d,h,g;Se(i,Er,m=>n(6,u=m)),Se(i,Xn,m=>n(7,c=m)),Se(i,br,m=>n(8,d=m)),Se(i,ec,m=>n(1,h=m)),Se(i,Zr,m=>n(2,g=m));const p=["survey-basic","survey-words","survey-color","survey-body","try-wheel","granularity","color","body","fascinating","brene","final-wheel","visual-language","gallery","closing"];function y(m){h=m,ec.set(h)}return i.$$.update=()=>{i.$$.dirty&448&&n(5,s=d?c.length<=0?"survey-words":u.length<=0?"survey-color":null:"survey-basic"),i.$$.dirty&32&&n(4,o=s?qt.steps.findIndex(m=>m.id===s)+1:qt.steps.length),i.$$.dirty&16&&n(0,l=qt.steps.map((m,E)=>({...m,i:E})).slice(0,o))},[l,h,g,p,o,s,u,c,d,y]}class j2 extends qe{constructor(t){super(),Ve(this,t,z2,F2,Je,{})}}function Jc(i,t,n){const s=i.slice();s[21]=t[n],s[25]=n;const o=s[21].name==="source"?0:1;s[22]=o;const l=s[2][s[25]-1]?s[2][s[25]-1]:s[6]?s[6]:"";return s[23]=l,s}function Kc(i,t,n){const s=i.slice();return s[26]=t[n],s}function Zc(i){let t;return{c(){t=je("line"),this.h()},l(n){t=We(n,"line",{stroke:!0}),K(t).forEach(L),this.h()},h(){S(t,"stroke","darkgrey")},m(n,s){ie(n,t,s)},p:me,d(n){n&&L(t)}}}function Yc(i){let t,n=i[23]+"",s,o,l;return{c(){t=je("text"),s=Te(n),this.h()},l(u){t=We(u,"text",{class:!0});var c=K(t);s=Ae(c,n),c.forEach(L),this.h()},h(){S(t,"class","label svelte-phna4m")},m(u,c){ie(u,t,c),B(t,s),l=!0},p(u,c){(!l||c&68)&&n!==(n=u[23]+"")&&En(s,n)},i(u){l||(Qr(()=>{o||(o=rs(t,ss,{},!0)),o.run(1)}),l=!0)},o(u){o||(o=rs(t,ss,{},!1)),o.run(0),l=!1},d(u){u&&L(t),u&&o&&o.end()}}}function Xc(i){let t,n,s,o,l,u,c=i[23]!==""&&Yc(i);return{c(){t=je("g"),n=je("polygon"),s=je("ellipse"),c&&c.c(),this.h()},l(d){t=We(d,"g",{class:!0,opacity:!0});var h=K(t);n=We(h,"polygon",{points:!0,class:!0,fill:!0,opacity:!0}),K(n).forEach(L),s=We(h,"ellipse",{class:!0,rx:!0,ry:!0,fill:!0,filter:!0}),K(s).forEach(L),c&&c.l(h),h.forEach(L),this.h()},h(){S(n,"points",`0,${i[7]+2} -3,${i[7]+8} 3,${i[7]+8}`),S(n,"class","triangle"),S(n,"fill",Yn.color["grey-balloon"]),S(n,"opacity",.75),S(s,"class",o=i[21].name==="source"?"source":"balloon"),S(s,"rx",i[7]),S(s,"ry",i[7]*1.2),S(s,"fill",Yn.color["grey-balloon"]),S(s,"filter","url(#inset-shadow)"),S(t,"class","node"),S(t,"opacity",l=i[22])},m(d,h){ie(d,t,h),B(t,n),B(t,s),c&&c.m(t,null),u=!0},p(d,h){(!u||h&2&&o!==(o=d[21].name==="source"?"source":"balloon"))&&S(s,"class",o),d[23]!==""?c?(c.p(d,h),h&68&&oe(c,1)):(c=Yc(d),c.c(),oe(c,1),c.m(t,null)):c&&(Pt(),le(c,1,1,()=>{c=null}),$t()),(!u||h&2&&l!==(l=d[22]))&&S(t,"opacity",l)},i(d){u||(oe(c),u=!0)},o(d){le(c),u=!1},d(d){d&&L(t),c&&c.d()}}}function W2(i){let t,n,s,o,l,u,c,d,h,g,p,y,m,E,T,A,x,k,R=i[0],O=[];for(let P=0;P<R.length;P+=1)O[P]=Zc(Kc(i,R,P));let C=i[1],j=[];for(let P=0;P<C.length;P+=1)j[P]=Xc(Jc(i,C,P));const z=P=>le(j[P],1,1,()=>{j[P]=null});return{c(){t=H("img"),s=ce(),o=je("svg"),l=je("filter"),u=je("feComponentTransfer"),c=je("feFuncA"),d=je("feGaussianBlur"),h=je("feOffset"),g=je("feFlood"),p=je("feComposite"),y=je("feComposite"),m=je("feMerge"),E=je("feMergeNode"),T=je("feMergeNode"),A=je("g");for(let P=0;P<O.length;P+=1)O[P].c();x=je("g");for(let P=0;P<j.length;P+=1)j[P].c();this.h()},l(P){t=G(P,"IMG",{class:!0,src:!0}),s=fe(P),o=We(P,"svg",{id:!0,width:!0,height:!0,class:!0});var q=K(o);l=We(q,"filter",{id:!0,x:!0,y:!0,width:!0,height:!0});var Z=K(l);u=We(Z,"feComponentTransfer",{in:!0});var X=K(u);c=We(X,"feFuncA",{type:!0,tableValues:!0}),K(c).forEach(L),X.forEach(L),d=We(Z,"feGaussianBlur",{stdDeviation:!0}),K(d).forEach(L),h=We(Z,"feOffset",{dx:!0,dy:!0,result:!0}),K(h).forEach(L),g=We(Z,"feFlood",{"flood-color":!0,result:!0}),K(g).forEach(L),p=We(Z,"feComposite",{in2:!0,operator:!0}),K(p).forEach(L),y=We(Z,"feComposite",{in2:!0,operator:!0}),K(y).forEach(L),m=We(Z,"feMerge",{});var ue=K(m);E=We(ue,"feMergeNode",{in:!0}),K(E).forEach(L),T=We(ue,"feMergeNode",{}),K(T).forEach(L),ue.forEach(L),Z.forEach(L),A=We(q,"g",{class:!0});var re=K(A);for(let $=0;$<O.length;$+=1)O[$].l(re);re.forEach(L),x=We(q,"g",{class:!0});var b=K(x);for(let $=0;$<j.length;$+=1)j[$].l(b);b.forEach(L),q.forEach(L),this.h()},h(){S(t,"class","character svelte-phna4m"),vt(t.src,n="assets/img/wagon.png")||S(t,"src",n),Ye(t,"visible",i[4]),S(c,"type","table"),S(c,"tableValues","1 0"),S(u,"in","SourceAlpha"),S(d,"stdDeviation","4"),S(h,"dx","6"),S(h,"dy","-5"),S(h,"result","offsetblur"),S(g,"flood-color","rgb(0, 0, 0, 0.3)"),S(g,"result","color"),S(p,"in2","offsetblur"),S(p,"operator","in"),S(y,"in2","SourceAlpha"),S(y,"operator","in"),S(E,"in","SourceGraphic"),S(l,"id","inset-shadow"),S(l,"x","-50%"),S(l,"y","-50%"),S(l,"width","200%"),S(l,"height","200%"),S(A,"class","links"),S(x,"class","nodes"),S(o,"id","character-balloon-area"),S(o,"width",i[5]),S(o,"height",400),S(o,"class","svelte-phna4m"),Ye(o,"visible",i[4])},m(P,q){ie(P,t,q),ie(P,s,q),ie(P,o,q),B(o,l),B(l,u),B(u,c),B(l,d),B(l,h),B(l,g),B(l,p),B(l,y),B(l,m),B(m,E),B(m,T),B(o,A);for(let Z=0;Z<O.length;Z+=1)O[Z].m(A,null);B(o,x);for(let Z=0;Z<j.length;Z+=1)j[Z].m(x,null);i[11](o),k=!0},p(P,[q]){if((!k||q&16)&&Ye(t,"visible",P[4]),q&1){R=P[0];let Z;for(Z=0;Z<R.length;Z+=1){const X=Kc(P,R,Z);O[Z]?O[Z].p(X,q):(O[Z]=Zc(),O[Z].c(),O[Z].m(A,null))}for(;Z<O.length;Z+=1)O[Z].d(1);O.length=R.length}if(q&198){C=P[1];let Z;for(Z=0;Z<C.length;Z+=1){const X=Jc(P,C,Z);j[Z]?(j[Z].p(X,q),oe(j[Z],1)):(j[Z]=Xc(X),j[Z].c(),oe(j[Z],1),j[Z].m(x,null))}for(Pt(),Z=C.length;Z<j.length;Z+=1)z(Z);$t()}(!k||q&32)&&S(o,"width",P[5]),(!k||q&16)&&Ye(o,"visible",P[4])},i(P){if(!k){for(let q=0;q<C.length;q+=1)oe(j[q]);k=!0}},o(P){j=j.filter(Boolean);for(let q=0;q<j.length;q+=1)le(j[q]);k=!1},d(P){P&&L(t),P&&L(s),P&&L(o),tn(O,P),tn(j,P),i[11](null)}}}function H2(i,t,n){let s,o,l,u,c,d,h,g,p,y;Se(i,Er,P=>n(10,c=P)),Se(i,Xn,P=>n(2,d=P)),Se(i,Tv,P=>n(13,h=P)),Se(i,Zr,P=>n(4,g=P)),Se(i,qo,P=>n(5,p=P)),Se(i,br,P=>n(6,y=P));let{scrollLeft:m}=t,E;const T=h?12:20,A=h?65:98,x=h?350:278,k=h?75:150,R=async()=>{if(u){const P=o.find(q=>q.name==="source");P.fx=m+A}},O=()=>{c.length&&(at(E).selectAll("ellipse").data(o).attr("fill",(P,q)=>P.name==="source"?null:c[q-1]?c[q-1]:Yn.color["grey-balloon"]),at(E).selectAll("polygon").data(o).attr("fill",(P,q)=>P.name==="source"?null:c[q-1]?c[q-1]:Yn.color["grey-balloon"]),at(E).selectAll("text").data(o).attr("fill",(P,q)=>{if(P.name==="source")return null;const Z=c[q-1]?c[q-1]:Yn.color["grey-balloon"];return us(Z)}))},C=()=>{if(m&&u){const P=o.find(q=>q.name==="source");P.fx=m+A,u.alpha(.5).restart()}},j=()=>{at(E).selectAll("line").data(l).attr("x1",P=>P.source.x).attr("y1",P=>P.source.y).attr("x2",P=>P.target.x).attr("y2",P=>P.target.y),at(E).selectAll("g.node").data(o).attr("transform",P=>`translate(${P.x}, ${P.y})`)};function z(P){Dt[P?"unshift":"push"](()=>{E=P,n(3,E)})}return i.$$set=P=>{"scrollLeft"in P&&n(8,m=P.scrollLeft)},i.$$.update=()=>{i.$$.dirty&4&&n(9,s=d.length>0?d.length:1),i.$$.dirty&512&&n(1,o=[{name:"source",fx:A,fy:x},...cc(s).map(P=>({name:P}))]),i.$$.dirty&512&&n(0,l=cc(s).map(P=>({source:0,target:P+1}))),i.$$.dirty&512&&R(),i.$$.dirty&1024&&O(),i.$$.dirty&256&&C(),i.$$.dirty&3&&(u=If(o).force("charge",Sf().strength(5)).force("collision",Af().radius(P=>T)).force("y",Of().y(P=>P.name==="source"?500:0)).force("link",kf().links(l).distance(P=>k)).on("tick",j))},[l,o,d,E,g,p,y,T,m,s,c,z]}class G2 extends qe{constructor(t){super(),Ve(this,t,H2,W2,Je,{scrollLeft:8})}}const q2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192.6 50"><path class="st0" d="M150.1 9.5c1.5 0 2.8 1.3 2.8 2.8s-1.3 2.8-2.8 2.8-2.8-1.3-2.8-2.8 1.3-2.8 2.8-2.8zM147.2 17.3h5.6v18.2h-5.6V17.3zM77.1 9.5h-8.9v26h5.6v-8.1h3.3c4.9 0 8.9-4 8.9-8.9s-3.9-9-8.9-9zm0 12.3h-3.3v-6.6h3.3c1.8 0 3.3 1.5 3.3 3.3s-1.4 3.3-3.3 3.3zM105.7 17.6h-5.6v8.9c0 1.8-1.5 3.3-3.3 3.3s-3.3-1.5-3.3-3.3v-8.9h-5.6v8.9c0 4.9 4 8.9 8.9 8.9s8.9-4 8.9-8.9v-8.9zM164.1 17.6c-4.9 0-8.9 4-8.9 8.9v8.9h5.6v-8.9c0-1.8 1.5-3.3 3.3-3.3s3.3 1.5 3.3 3.3v8.9h5.6v-8.9c0-4.9-4-8.9-8.9-8.9zM119.7 16.2v1.4h-3.3c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h8.9V9.5l-5.6 3.3v3.4zm.1 8.4V29.8h-3.3c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3v1.4zM139.3 16.2v1.4H136c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h8.9V9.5l-5.6 3.3v3.4zm.1 8.4V29.8H136c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3v1.4h.1zM183.7 17.6c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h3.3v5.1c0 1.8-1.5 3.3-3.3 3.3s-3.3-1.5-3.3-3.3V38l-5.6 3.3c.4 4.5 4.2 8.1 8.9 8.1 4.9 0 8.9-4 8.9-8.9V17.6h-8.9zm3.3 5.8V30h-3.3c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3zM28.6 17.6c-1.2 0-2.3.2-3.3.6V9.5l-5.6 3.3v22.6h5.6v-8.9c0-1.8 1.5-3.3 3.3-3.3s3.3 1.5 3.3 3.3v8.9h5.6v-8.9c0-4.9-4-8.9-8.9-8.9zM17.8 9.5H0v5.6h6.1v20.3h5.6V15.1h6.1V9.5zM48.3 30.2c-.4 0-1.2-.1-1.8-.4l5.2-2.1 5.6-2.3-1-2.3-.1-.2c-.1-.3-.3-.6-.5-1-.1-.1-.1-.2-.2-.3 0 0 0-.1-.1-.1l-.1-.1-.1-.1c-1.6-2.2-4-3.5-6.7-3.7h-.6c-4.9 0-8.9 4-8.9 8.9 0 .4 0 .9.1 1.4V28.2c0 .3.1.5.2.8v.2c.1.3.2.7.4 1v.2c.1.3.3.5.4.8 0 .1.1.1.1.2.1.2.3.4.4.6v.1s0 .1.1.1l.1.1c1.7 2.1 4.4 3.4 7.2 3.4h6.1v-5.2c.4-.3-3.5-.3-5.8-.3zm7.9-7.3zm-11.6 2.8l-.2.1c.2-1.9 1.8-3.5 3.7-3.5.9 0 1.8.4 2.4.9L46.2 25l-1.6.7z"/></svg>';function Qc(i,t,n){const s=i.slice();return s[5]=t[n],s}function ef(i,t,n){const s=i.slice();return s[8]=t[n].hed,s[2]=t[n].url,s[9]=t[n].image,s}function tf(i){let t,n,s,o,l,u,c=i[8]+"",d,h,g;return{c(){t=H("div"),n=H("a"),s=H("img"),l=ce(),u=H("span"),d=Te(c),g=ce(),this.h()},l(p){t=G(p,"DIV",{class:!0});var y=K(t);n=G(y,"A",{href:!0,class:!0});var m=K(n);s=G(m,"IMG",{src:!0,alt:!0}),l=fe(m),u=G(m,"SPAN",{class:!0});var E=K(u);d=Ae(E,c),E.forEach(L),m.forEach(L),g=fe(y),y.forEach(L),this.h()},h(){vt(s.src,o="https://pudding.cool/common/assets/thumbnails/640/"+i[9]+".jpg")||S(s,"src",o),S(s,"alt","thumbnail"),S(u,"class","svelte-1gi2agl"),S(n,"href",h="https://pudding.cool/"+i[2]),S(n,"class","svelte-1gi2agl"),S(t,"class","story svelte-1gi2agl")},m(p,y){ie(p,t,y),B(t,n),B(n,s),B(n,l),B(n,u),B(u,d),B(t,g)},p(p,y){y&1&&!vt(s.src,o="https://pudding.cool/common/assets/thumbnails/640/"+p[9]+".jpg")&&S(s,"src",o),y&1&&c!==(c=p[8]+"")&&En(d,c),y&1&&h!==(h="https://pudding.cool/"+p[2])&&S(n,"href",h)},d(p){p&&L(t)}}}function nf(i){let t,n,s,o=i[5].name.toUpperCase()+"",l,u;return{c(){t=H("li"),n=H("a"),s=H("span"),l=Te(o),u=ce(),this.h()},l(c){t=G(c,"LI",{class:!0});var d=K(t);n=G(d,"A",{href:!0,class:!0});var h=K(n);s=G(h,"SPAN",{class:!0});var g=K(s);l=Ae(g,o),g.forEach(L),h.forEach(L),u=fe(d),d.forEach(L),this.h()},h(){S(s,"class","svelte-1gi2agl"),S(n,"href",i[5].url),S(n,"class","svelte-1gi2agl"),S(t,"class","svelte-1gi2agl")},m(c,d){ie(c,t,d),B(t,n),B(n,s),B(s,l),B(t,u)},p:me,d(c){c&&L(t)}}}function V2(i){let t,n,s,o,l,u,c,d,h,g,p,y,m,E=i[0],T=[];for(let k=0;k<E.length;k+=1)T[k]=tf(ef(i,E,k));let A=i[1],x=[];for(let k=0;k<A.length;k+=1)x[k]=nf(Qc(i,A,k));return{c(){t=H("footer"),n=H("section");for(let k=0;k<T.length;k+=1)T[k].c();s=ce(),o=H("section"),l=H("div"),u=ce(),c=H("p"),d=H("a"),h=Te("The Pudding"),g=Te(`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),p=ce(),y=H("section"),m=H("ul");for(let k=0;k<x.length;k+=1)x[k].c();this.h()},l(k){t=G(k,"FOOTER",{class:!0});var R=K(t);n=G(R,"SECTION",{class:!0});var O=K(n);for(let X=0;X<T.length;X+=1)T[X].l(O);O.forEach(L),s=fe(R),o=G(R,"SECTION",{class:!0});var C=K(o);l=G(C,"DIV",{class:!0});var j=K(l);j.forEach(L),u=fe(C),c=G(C,"P",{});var z=K(c);d=G(z,"A",{href:!0});var P=K(d);h=Ae(P,"The Pudding"),P.forEach(L),g=Ae(z,`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),z.forEach(L),C.forEach(L),p=fe(R),y=G(R,"SECTION",{class:!0});var q=K(y);m=G(q,"UL",{class:!0});var Z=K(m);for(let X=0;X<x.length;X+=1)x[X].l(Z);Z.forEach(L),q.forEach(L),R.forEach(L),this.h()},h(){S(n,"class","stories svelte-1gi2agl"),S(l,"class","wordmark svelte-1gi2agl"),S(d,"href","https://pudding.cool"),S(o,"class","about svelte-1gi2agl"),S(m,"class","svelte-1gi2agl"),S(y,"class","links svelte-1gi2agl"),S(t,"class","svelte-1gi2agl")},m(k,R){ie(k,t,R),B(t,n);for(let O=0;O<T.length;O+=1)T[O].m(n,null);B(t,s),B(t,o),B(o,l),l.innerHTML=q2,B(o,u),B(o,c),B(c,d),B(d,h),B(c,g),B(t,p),B(t,y),B(y,m);for(let O=0;O<x.length;O+=1)x[O].m(m,null)},p(k,[R]){if(R&1){E=k[0];let O;for(O=0;O<E.length;O+=1){const C=ef(k,E,O);T[O]?T[O].p(C,R):(T[O]=tf(C),T[O].c(),T[O].m(n,null))}for(;O<T.length;O+=1)T[O].d(1);T.length=E.length}if(R&2){A=k[1];let O;for(O=0;O<A.length;O+=1){const C=Qc(k,A,O);x[O]?x[O].p(C,R):(x[O]=nf(C),x[O].c(),x[O].m(m,null))}for(;O<x.length;O+=1)x[O].d(1);x.length=A.length}},i:me,o:me,d(k){k&&L(t),tn(T,k),tn(x,k)}}}function J2(i,t,n){let s,o=[];const u=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,c=[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"https://thepuddingmail.substack.com"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}];return ei(async()=>{s=window.location.href;const h=await(await fetch(u)).json();n(0,o=h.filter(g=>!s.includes(g.url)).slice(0,4))}),[o,c,u]}class K2 extends qe{constructor(t){super(),Ve(this,t,J2,V2,Je,{})}}function Z2(i){let t,n,s,o,l,u,c,d,h,g,p,y;n=new $1({props:{scrolled:i[0],scrollMax:ns}}),l=new G2({props:{scrollLeft:i[1]?i[1].scrollLeft:0}}),c=new j2({});let m=i[4]&&rf();return{c(){t=H("div"),Re(n.$$.fragment),s=ce(),o=H("div"),Re(l.$$.fragment),u=ce(),Re(c.$$.fragment),d=ce(),m&&m.c(),this.h()},l(E){t=G(E,"DIV",{class:!0,style:!0});var T=K(t);Me(n.$$.fragment,T),s=fe(T),o=G(T,"DIV",{class:!0});var A=K(o);Me(l.$$.fragment,A),u=fe(A),Me(c.$$.fragment,A),A.forEach(L),d=fe(T),m&&m.l(T),T.forEach(L),this.h()},h(){S(o,"class","world svelte-1lib1d9"),S(t,"class","everything svelte-1lib1d9"),S(t,"style",h=`--backgroundColor: ${i[5]}; background-image: url(${i[3]})`)},m(E,T){ie(E,t,T),Le(n,t,null),B(t,s),B(t,o),Le(l,o,null),B(o,u),Le(c,o,null),B(t,d),m&&m.m(t,null),i[13](t),g=!0,p||(y=[Ne(t,"mousewheel",xv(i[6])),Ne(t,"touchstart",i[7]),Ne(t,"touchmove",i[8])],p=!0)},p(E,T){const A={};T&1&&(A.scrolled=E[0]),n.$set(A);const x={};T&2&&(x.scrollLeft=E[1]?E[1].scrollLeft:0),l.$set(x),E[4]?m?T&16&&oe(m,1):(m=rf(),m.c(),oe(m,1),m.m(t,null)):m&&(Pt(),le(m,1,1,()=>{m=null}),$t()),(!g||T&40&&h!==(h=`--backgroundColor: ${E[5]}; background-image: url(${E[3]})`))&&S(t,"style",h)},i(E){g||(oe(n.$$.fragment,E),oe(l.$$.fragment,E),oe(c.$$.fragment,E),oe(m),g=!0)},o(E){le(n.$$.fragment,E),le(l.$$.fragment,E),le(c.$$.fragment,E),le(m),g=!1},d(E){E&&L(t),Ce(n),Ce(l),Ce(c),m&&m.d(),i[13](null),p=!1,Qn(y)}}}function Y2(i){let t,n;return t=new qv({}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p:me,i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function rf(i){let t,n;return t=new K2({}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}function X2(i){let t,n,s,o,l,u,c,d;function h(E){i[12](E)}let g={label:"Text Version",style:"inner"};i[2]!==void 0&&(g.value=i[2]),n=new Bv({props:g}),Dt.push(()=>ti(n,"value",h));const p=[Y2,Z2],y=[];function m(E,T){return E[2]==="on"?0:1}return l=m(i),u=y[l]=p[l](i),{c(){t=H("div"),Re(n.$$.fragment),o=ce(),u.c(),c=$n(),this.h()},l(E){t=G(E,"DIV",{class:!0});var T=K(t);Me(n.$$.fragment,T),T.forEach(L),o=fe(E),u.l(E),c=$n(),this.h()},h(){S(t,"class","toggle svelte-1lib1d9")},m(E,T){ie(E,t,T),Le(n,t,null),ie(E,o,T),y[l].m(E,T),ie(E,c,T),d=!0},p(E,[T]){const A={};!s&&T&4&&(s=!0,A.value=E[2],ni(()=>s=!1)),n.$set(A);let x=l;l=m(E),l===x?y[l].p(E,T):(Pt(),le(y[x],1,1,()=>{y[x]=null}),$t(),u=y[l],u?u.p(E,T):(u=y[l]=p[l](E),u.c()),oe(u,1),u.m(c.parentNode,c))},i(E){d||(oe(n.$$.fragment,E),oe(u),d=!0)},o(E){le(n.$$.fragment,E),le(u),d=!1},d(E){E&&L(t),Ce(n),E&&L(o),y[l].d(E),E&&L(c)}}}const ns=400;function Q2(i,t,n){let s,o,l,u,c,d,h,g;Se(i,Zr,C=>n(16,l=C)),Se(i,xr,C=>n(17,u=C)),Se(i,Er,C=>n(9,c=C)),Se(i,Xn,C=>n(10,d=C)),Se(i,br,C=>n(11,h=C)),Se(i,Vr,C=>n(5,g=C));let p,y="off",m=0;const E=C=>{if(u)return;const j=l&&p.scrollLeft===0&&C.deltaY<0;!l||j?(C.deltaY>0&&m<ns||C.deltaY<0&&m>=0)&&n(0,m+=C.deltaY):n(1,p.scrollLeft+=C.deltaY,p)};let T,A;const x=C=>{T=C.changedTouches[0].pageX},k=C=>{const j=C.changedTouches[0].pageX;A=T-j;const z=l&&p.scrollLeft===0&&A<0;!l||z?(A>0&&m<ns||A<0&&m>=0)&&n(0,m+=A/50):n(1,p.scrollLeft+=A,p)};function R(C){y=C,n(2,y)}function O(C){Dt[C?"unshift":"push"](()=>{p=C,n(1,p)})}return i.$$.update=()=>{i.$$.dirty&1&&bn(Zr,l=m>=ns,l),i.$$.dirty&3584&&n(4,s=h&&d.length>0&&c.length>0)},n(3,o=`${cs}/assets/img/bg.png`),[m,p,y,o,s,g,E,x,k,c,d,h,R,O]}class eE extends qe{constructor(t){super(),Ve(this,t,Q2,X2,Je,{})}}function tE(i){let t,n;return t=new eE({}),{c(){Re(t.$$.fragment)},l(s){Me(t.$$.fragment,s)},m(s,o){Le(t,s,o),n=!0},p:me,i(s){n||(oe(t.$$.fragment,s),n=!0)},o(s){le(t.$$.fragment,s),n=!1},d(s){Ce(t,s)}}}class nE extends qe{constructor(t){super(),Ve(this,t,null,tE,Je,{})}}function rE(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 4.2.1"),console.log("build: 2022-11-07-18:04"),console.log("--- --- --- --- --- ---")}function iE(i){let t,n,s,o;return t=new $v({props:{title:i[1],description:i[2],url:i[3],preloadFont:i[0],keywords:i[4]}}),s=new nE({}),{c(){Re(t.$$.fragment),n=ce(),Re(s.$$.fragment)},l(l){Me(t.$$.fragment,l),n=fe(l),Me(s.$$.fragment,l)},m(l,u){Le(t,l,u),ie(l,n,u),Le(s,l,u),o=!0},p:me,i(l){o||(oe(t.$$.fragment,l),oe(s.$$.fragment,l),o=!0)},o(l){le(t.$$.fragment,l),le(s.$$.fragment,l),o=!1},d(l){Ce(t,l),l&&L(n),Ce(s,l)}}}function sE(i,t,n){let{data:s}=t;rE();const o=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:l,description:u,url:c,keywords:d}=qt;return Qu("copy",qt),Qu("data",s.data),i.$$set=h=>{"data"in h&&n(5,s=h.data)},[o,l,u,c,d,s]}class fE extends qe{constructor(t){super(),Ve(this,t,sE,iE,Je,{data:5})}}export{fE as default};
