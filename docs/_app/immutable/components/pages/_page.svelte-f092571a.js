import{S as Ve,i as Je,s as Ke,k as G,e as $n,M as vv,l as q,h as C,n as O,F as B,C as ye,N as tn,b as oe,q as ke,a as ce,m as K,r as Ie,c as fe,O as qe,u as En,P as yv,E as He,f as re,g as $t,t as le,d as Dt,G as Te,H as sl,D as dt,Q as xr,R as ts,I as wv,T as ol,J as bv,K as Ev,L as Tv,o as ti,U as yt,V as ze,W as je,X as us,Y as ll,v as Oe,w as Re,x as Me,y as Le,Z as bn,_ as Ar,$ as kr,a0 as tc,p as vr,z as xv,a1 as Av,a2 as nc}from"../../chunks/paths-8b54bf75.js";import{e as Xr,v as Go,u as ns,b as wr,w as Xn,a as Kr,c as br,s as Er,d as rs,i as kv}from"../../chunks/misc-2c224e33.js";import{c as Iv,i as qo,a as rc,b as ic,d as Sv,g as Ov,e as ln,s as lt,t as Rv,f as af,h as al,T as No,j as Bo,k as ul,C as Mv,I as Lv}from"../../chunks/Icon-2ea93564.js";import{_ as ni}from"../../chunks/preload-helper-aa6bc0ce.js";import{r as uf}from"../../chunks/index-a86c36e9.js";function Cv(s,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in s)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(s,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}function sc(s,t,n){const i=s.slice();return i[5]=t[n],i}function oc(s){let t,n;return{c(){t=G("link"),this.h()},l(i){t=q(i,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){O(t,"rel","preload"),O(t,"href",n=s[5]),O(t,"as","font"),O(t,"type","font/woff2"),O(t,"crossorigin","")},m(i,o){oe(i,t,o)},p(i,o){o&16&&n!==(n=i[5])&&O(t,"href",n)},d(i){i&&C(t)}}}function Pv(s){let t,n,i,o,a,u,c,g,h,d,p,y,w,x,k,T,v,A,L,I,F,N,z,R,H,Z;document.title=t=s[0];let X=s[4],ue=[];for(let ie=0;ie<X.length;ie+=1)ue[ie]=oc(sc(s,X,ie));return{c(){n=G("meta"),i=G("meta"),o=G("meta"),a=G("meta"),u=G("meta"),c=G("meta"),g=G("meta"),h=G("meta"),d=G("meta"),p=G("meta"),w=G("meta"),x=G("meta"),k=G("meta"),T=G("meta"),v=G("meta"),A=G("meta"),L=G("meta"),I=G("meta"),F=G("meta"),z=G("meta"),R=G("link");for(let ie=0;ie<ue.length;ie+=1)ue[ie].c();Z=$n(),this.h()},l(ie){const E=vv('[data-svelte="svelte-1htu80s"]',document.head);n=q(E,"META",{name:!0,content:!0}),i=q(E,"META",{name:!0,content:!0}),o=q(E,"META",{name:!0,content:!0}),a=q(E,"META",{property:!0,content:!0}),u=q(E,"META",{property:!0,content:!0}),c=q(E,"META",{property:!0,content:!0}),g=q(E,"META",{property:!0,content:!0}),h=q(E,"META",{property:!0,content:!0}),d=q(E,"META",{property:!0,content:!0}),p=q(E,"META",{property:!0,content:!0}),w=q(E,"META",{property:!0,content:!0}),x=q(E,"META",{property:!0,content:!0}),k=q(E,"META",{property:!0,content:!0}),T=q(E,"META",{name:!0,content:!0}),v=q(E,"META",{name:!0,content:!0}),A=q(E,"META",{name:!0,content:!0}),L=q(E,"META",{name:!0,content:!0}),I=q(E,"META",{name:!0,content:!0}),F=q(E,"META",{name:!0,content:!0}),z=q(E,"META",{name:!0,content:!0}),R=q(E,"LINK",{rel:!0,href:!0});for(let P=0;P<ue.length;P+=1)ue[P].l(E);Z=$n(),E.forEach(C),this.h()},h(){O(n,"name","description"),O(n,"content",s[1]),O(i,"name","author"),O(i,"content","The Pudding"),O(o,"name","news_keywords"),O(o,"content",s[3]),O(a,"property","og:title"),O(a,"content",s[0]),O(u,"property","og:site_name"),O(u,"content","The Pudding"),O(c,"property","og:url"),O(c,"content",s[2]),O(g,"property","og:description"),O(g,"content",s[1]),O(h,"property","og:type"),O(h,"content","article"),O(d,"property","og:locale"),O(d,"content","en_US"),O(p,"property","og:image"),O(p,"content",y=s[2]+"/assets/social-facebook.jpg"),O(w,"property","og:image:type"),O(w,"content","image/jpeg"),O(x,"property","og:image:width"),O(x,"content","1200"),O(k,"property","og:image:height"),O(k,"content","600"),O(T,"name","twitter:card"),O(T,"content","summary_large_image"),O(v,"name","twitter:site"),O(v,"content","https://pudding.cool"),O(A,"name","twitter:creator"),O(A,"content","@puddingviz"),O(L,"name","twitter:title"),O(L,"content",s[0]),O(I,"name","twitter:description"),O(I,"content",s[1]),O(F,"name","twitter:image:src"),O(F,"content",N=s[2]+"/assets/social-twitter.jpg"),O(z,"name","robots"),O(z,"content","max-image-preview:large"),O(R,"rel","canonical"),O(R,"href",H=s[2]+"/")},m(ie,E){B(document.head,n),B(document.head,i),B(document.head,o),B(document.head,a),B(document.head,u),B(document.head,c),B(document.head,g),B(document.head,h),B(document.head,d),B(document.head,p),B(document.head,w),B(document.head,x),B(document.head,k),B(document.head,T),B(document.head,v),B(document.head,A),B(document.head,L),B(document.head,I),B(document.head,F),B(document.head,z),B(document.head,R);for(let P=0;P<ue.length;P+=1)ue[P].m(document.head,null);B(document.head,Z)},p(ie,[E]){if(E&1&&t!==(t=ie[0])&&(document.title=t),E&2&&O(n,"content",ie[1]),E&8&&O(o,"content",ie[3]),E&1&&O(a,"content",ie[0]),E&4&&O(c,"content",ie[2]),E&2&&O(g,"content",ie[1]),E&4&&y!==(y=ie[2]+"/assets/social-facebook.jpg")&&O(p,"content",y),E&1&&O(L,"content",ie[0]),E&2&&O(I,"content",ie[1]),E&4&&N!==(N=ie[2]+"/assets/social-twitter.jpg")&&O(F,"content",N),E&4&&H!==(H=ie[2]+"/")&&O(R,"href",H),E&16){X=ie[4];let P;for(P=0;P<X.length;P+=1){const U=sc(ie,X,P);ue[P]?ue[P].p(U,E):(ue[P]=oc(U),ue[P].c(),ue[P].m(Z.parentNode,Z))}for(;P<ue.length;P+=1)ue[P].d(1);ue.length=X.length}},i:ye,o:ye,d(ie){C(n),C(i),C(o),C(a),C(u),C(c),C(g),C(h),C(d),C(p),C(w),C(x),C(k),C(T),C(v),C(A),C(L),C(I),C(F),C(z),C(R),tn(ue,ie),C(Z)}}}function $v(s,t,n){let{title:i="Title TK"}=t,{description:o="Description TK"}=t,{url:a="https://pudding.cool"}=t,{keywords:u=""}=t,{preloadFont:c=[]}=t;return s.$$set=g=>{"title"in g&&n(0,i=g.title),"description"in g&&n(1,o=g.description),"url"in g&&n(2,a=g.url),"keywords"in g&&n(3,u=g.keywords),"preloadFont"in g&&n(4,c=g.preloadFont)},[i,o,a,u,c]}class Dv extends Ve{constructor(t){super(),Je(this,t,$v,Pv,Ke,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}function lc(s){let t,n=s[2][0]+"",i,o,a,u=s[2][1]+"",c;return{c(){t=G("span"),i=ke(n),o=ce(),a=G("span"),c=ke(u),this.h()},l(g){t=q(g,"SPAN",{class:!0});var h=K(t);i=Ie(h,n),h.forEach(C),o=fe(g),a=q(g,"SPAN",{class:!0});var d=K(a);c=Ie(d,u),d.forEach(C),this.h()},h(){O(t,"class","svelte-157h5as"),O(a,"class","svelte-157h5as")},m(g,h){oe(g,t,h),B(t,i),oe(g,o,h),oe(g,a,h),B(a,c)},p(g,h){h&4&&n!==(n=g[2][0]+"")&&En(i,n),h&4&&u!==(u=g[2][1]+"")&&En(c,u)},d(g){g&&C(t),g&&C(o),g&&C(a)}}}function Nv(s){let t,n,i,o,a,u,c,g,h=s[1]==="inner"&&lc(s);return{c(){t=G("div"),n=G("span"),i=ke(s[0]),o=ce(),a=G("button"),h&&h.c(),this.h()},l(d){t=q(d,"DIV",{class:!0});var p=K(t);n=q(p,"SPAN",{class:!0,id:!0});var y=K(n);i=Ie(y,s[0]),y.forEach(C),o=fe(p),a=q(p,"BUTTON",{role:!0,"aria-checked":!0,"aria-labelledby":!0,class:!0});var w=K(a);h&&h.l(w),w.forEach(C),p.forEach(C),this.h()},h(){O(n,"class","label svelte-157h5as"),O(n,"id",s[4]),O(a,"role","switch"),O(a,"aria-checked",s[3]),O(a,"aria-labelledby",s[4]),O(a,"class","svelte-157h5as"),O(t,"class",u="toggle toggle--"+s[1]+" svelte-157h5as")},m(d,p){oe(d,t,p),B(t,n),B(n,i),B(t,o),B(t,a),h&&h.m(a,null),c||(g=qe(a,"click",s[5]),c=!0)},p(d,[p]){p&1&&En(i,d[0]),d[1]==="inner"?h?h.p(d,p):(h=lc(d),h.c(),h.m(a,null)):h&&(h.d(1),h=null),p&8&&O(a,"aria-checked",d[3]),p&2&&u!==(u="toggle toggle--"+d[1]+" svelte-157h5as")&&O(t,"class",u)},i:ye,o:ye,d(d){d&&C(t),h&&h.d(),c=!1,g()}}}function Bv(s,t,n){let{label:i}=t,{style:o="inner"}=t,{options:a=["on","off"]}=t,{value:u=a[0]}=t,c=u===a[0];const g=`toggle-${Math.floor(Math.random()*1e6)}`,h=d=>{const y=d.target.getAttribute("aria-checked");n(3,c=y!=="true"),n(6,u=c?a[0]:a[1])};return s.$$set=d=>{"label"in d&&n(0,i=d.label),"style"in d&&n(1,o=d.style),"options"in d&&n(2,a=d.options),"value"in d&&n(6,u=d.value)},[i,o,a,c,g,h,u]}class Uv extends Ve{constructor(t){super(),Je(this,t,Bv,Nv,Ke,{label:0,style:1,options:2,value:6})}}const Fv="Title tk",zv="Description Tk",jv="https://pudding.cool/2022/11/emotion-wheel",Wv="By <a href=# target=_blank>Abby VanMuijen</a> and <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",Hv=[{id:"survey-basic"},{id:"show-you",text:["This is a story about emotions. Can I show you what I\u2019ve been learning?","Up until recently, I would always answer that question (\u201Chow are you doing?\u201D) with one of those 3 options."]},{id:"change",text:["But then that started to change."]},{id:"depression-anxiety",text:["I started to experience panic attacks, self harm, depression, and anxiety."]},{id:"therapy",text:["So I got my butt into therapy (where they don't let you off the hook with answers like this...)."]},{id:"try-wheel",text:['My therapist suggested I use a feelings wheel to help improve my "emotional vocabulary."',"I could choose words from the wheel to be more specific about how I was feeling and give that feeling a name."]},{id:"survey-words"},{id:"granularity",text:[`This kind of specificity of emotional vocabulary is what Susan David calls <a href="https://resources.soundstrue.com/transcript/susan-david-emotional-agility/" target="_blank">"emotional granularity."</a> When we can identify what we're feeling, we can identify what our body is telling us it needs. Pretty cool, eh?`]},{id:"color",text:["The other thing I thought was interesting about the wheel was that it organized the feelings by color and category. Although I didn't quite like the colors and categories on the wheels I found...","Colors can have very strong emotional associations - but they're different for everyone."]},{id:"survey-color"},{id:"blocks",text:["I started to do this every day - I'd write the words I was feeling and the color I associated with that feeling."]},{id:"inside-out",text:['I found a lot of my associations lined up with the colors & character designs from "Inside Out" - and studied their process.']},{id:"core",text:["It turns out, most scientists agree, there are at least 5 core emotions that track back to the way our bodies intuitively communicate our needs before we have language."]},{id:"fascinating",text:["FASCINATING."]},{id:"body",text:["So I added a new element to my practice - tracking how feelings showed up in my body and facial expressions.","When I feel frustrated, it looks like this: (not here currently but will show abby\u2019s drawing on the body diagram on the right)"]},{id:"survey-body"},{id:"body-color",text:["I started to notice some patterns in how the colors I was using lined up with how and where the feelings showed up in my body\u2026 there\u2019s so much here!"]},{id:"brene",text:["Bren\xE9 Brown says there are as many theories on emotions as there are emotions researchers - which seems right to me.","And while I'm more of an artist than a researcher, this work has helped me very deeply."]},{id:"final-wheel",text:["I ended up turning all of this into my own emotion wheel, and have used the <strong>words</strong>, the <strong>colors</strong>, and the <strong>somatic mapping</strong> to build a more visual vocabulary to understand and express how I'm doing each day and what I maybe needing to experience more joy (satisfied needs) in my life."]},{id:"same-way",text:["I could no longer answer the question \u201Chow are you doing?\u201D the same way."]},{id:"pause",text:["In difficult moments, I had learned how to pause\u2026 and ask what word is this? What color is it? Where is the feeling manifesting? What is my body telling me it needs?"]},{id:"identify-needs",text:["When I can identify my feelings, I can identify my needs. When I can identify my needs, I can take care of myself and ask those who care for me for help."]},{id:"visual-language",text:["And to keep on digging into different visual language for some of my toughest emotional experiences.","If you\u2019re interested in seeing some more of those drawings\u2013 check out these other rabbit holes: (they\u2019re juicy, promise!)"]},{id:"gallery"},{id:"closing",text:["Thanks for making it all the way to the end! Look how far we\u2019ve come! (show us from the beginning and one concrete sentence about how we now have visual language hooray!)","If you\u2019re interested in digging deeper, here are some of the resources that inspired me in this work."]}],qt={title:Fv,description:zv,url:jv,byline:Wv,steps:Hv};function ac(s,t,n){const i=s.slice();return i[1]=t[n],i}function uc(s,t,n){const i=s.slice();return i[4]=t[n],i}function cc(s){let t,n=s[4]+"";return{c(){t=G("p")},l(i){t=q(i,"P",{});var o=K(t);o.forEach(C)},m(i,o){oe(i,t,o),t.innerHTML=n},p:ye,d(i){i&&C(t)}}}function fc(s){let t,n=s[1].text,i=[];for(let o=0;o<n.length;o+=1)i[o]=cc(uc(s,n,o));return{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=$n()},l(o){for(let a=0;a<i.length;a+=1)i[a].l(o);t=$n()},m(o,a){for(let u=0;u<i.length;u+=1)i[u].m(o,a);oe(o,t,a)},p(o,a){if(a&1){n=o[1].text;let u;for(u=0;u<n.length;u+=1){const c=uc(o,n,u);i[u]?i[u].p(c,a):(i[u]=cc(c),i[u].c(),i[u].m(t.parentNode,t))}for(;u<i.length;u+=1)i[u].d(1);i.length=n.length}},d(o){tn(i,o),o&&C(t)}}}function Gv(s){let t,n,i=qt.title+"",o,a,u=qt.description+"",c,g,h=qt.byline+"",d,p=s[0],y=[];for(let w=0;w<p.length;w+=1)y[w]=fc(ac(s,p,w));return{c(){t=G("div"),n=G("h1"),o=ce(),a=G("div"),c=ce(),g=G("div"),d=ce();for(let w=0;w<y.length;w+=1)y[w].c();this.h()},l(w){t=q(w,"DIV",{class:!0});var x=K(t);n=q(x,"H1",{});var k=K(n);k.forEach(C),o=fe(x),a=q(x,"DIV",{});var T=K(a);T.forEach(C),c=fe(x),g=q(x,"DIV",{});var v=K(g);v.forEach(C),d=fe(x);for(let A=0;A<y.length;A+=1)y[A].l(x);x.forEach(C),this.h()},h(){O(t,"class","wrapper svelte-odmr0s")},m(w,x){oe(w,t,x),B(t,n),n.innerHTML=i,B(t,o),B(t,a),a.innerHTML=u,B(t,c),B(t,g),g.innerHTML=h,B(t,d);for(let k=0;k<y.length;k+=1)y[k].m(t,null)},p(w,[x]){if(x&1){p=w[0];let k;for(k=0;k<p.length;k+=1){const T=ac(w,p,k);y[k]?y[k].p(T,x):(y[k]=fc(T),y[k].c(),y[k].m(t,null))}for(;k<y.length;k+=1)y[k].d(1);y.length=p.length}},i:ye,o:ye,d(w){w&&C(t),tn(y,w)}}}function qv(s){return[qt.steps.filter(n=>n.text)]}class Vv extends Ve{constructor(t){super(),Je(this,t,qv,Gv,Ke,{})}}function is(s,{delay:t=0,duration:n=400,easing:i=yv}={}){const o=+getComputedStyle(s).opacity;return{delay:t,duration:n,easing:i,css:a=>`opacity: ${a*o}`}}function es(s,t){return s==null||t==null?NaN:s<t?-1:s>t?1:s>=t?0:NaN}function Jv(s,t){return s==null||t==null?NaN:t<s?-1:t>s?1:t>=s?0:NaN}function cf(s){let t,n,i;s.length!==2?(t=es,n=(c,g)=>es(s(c),g),i=(c,g)=>s(c)-g):(t=s===es||s===Jv?s:Kv,n=s,i=s);function o(c,g,h=0,d=c.length){if(h<d){if(t(g,g)!==0)return d;do{const p=h+d>>>1;n(c[p],g)<0?h=p+1:d=p}while(h<d)}return h}function a(c,g,h=0,d=c.length){if(h<d){if(t(g,g)!==0)return d;do{const p=h+d>>>1;n(c[p],g)<=0?h=p+1:d=p}while(h<d)}return h}function u(c,g,h=0,d=c.length){const p=o(c,g,h,d-1);return p>h&&i(c[p-1],g)>-i(c[p],g)?p-1:p}return{left:o,center:u,right:a}}function Kv(){return 0}function Zv(s){return s===null?NaN:+s}const Yv=cf(es),Xv=Yv.right;cf(Zv).center;const Qv=Xv;var Vo=Math.sqrt(50),Jo=Math.sqrt(10),Ko=Math.sqrt(2);function e1(s,t,n){var i,o=-1,a,u,c;if(t=+t,s=+s,n=+n,s===t&&n>0)return[s];if((i=t<s)&&(a=s,s=t,t=a),(c=ff(s,t,n))===0||!isFinite(c))return[];if(c>0){let g=Math.round(s/c),h=Math.round(t/c);for(g*c<s&&++g,h*c>t&&--h,u=new Array(a=h-g+1);++o<a;)u[o]=(g+o)*c}else{c=-c;let g=Math.round(s*c),h=Math.round(t*c);for(g/c<s&&++g,h/c>t&&--h,u=new Array(a=h-g+1);++o<a;)u[o]=(g+o)/c}return i&&u.reverse(),u}function ff(s,t,n){var i=(t-s)/Math.max(0,n),o=Math.floor(Math.log(i)/Math.LN10),a=i/Math.pow(10,o);return o>=0?(a>=Vo?10:a>=Jo?5:a>=Ko?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(a>=Vo?10:a>=Jo?5:a>=Ko?2:1)}function t1(s,t,n){var i=Math.abs(t-s)/Math.max(0,n),o=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),a=i/o;return a>=Vo?o*=10:a>=Jo?o*=5:a>=Ko&&(o*=2),t<s?-o:o}function hc(s,t,n){s=+s,t=+t,n=(o=arguments.length)<2?(t=s,s=0,1):o<3?1:+n;for(var i=-1,o=Math.max(0,Math.ceil((t-s)/n))|0,a=new Array(o);++i<o;)a[i]=s+i*n;return a}function n1(s,t){switch(arguments.length){case 0:break;case 1:this.range(s);break;default:this.range(t).domain(s);break}return this}function r1(s,t){t||(t=[]);var n=s?Math.min(t.length,s.length):0,i=t.slice(),o;return function(a){for(o=0;o<n;++o)i[o]=s[o]*(1-a)+t[o]*a;return i}}function i1(s){return ArrayBuffer.isView(s)&&!(s instanceof DataView)}function s1(s,t){var n=t?t.length:0,i=s?Math.min(n,s.length):0,o=new Array(i),a=new Array(n),u;for(u=0;u<i;++u)o[u]=cl(s[u],t[u]);for(;u<n;++u)a[u]=t[u];return function(c){for(u=0;u<i;++u)a[u]=o[u](c);return a}}function o1(s,t){var n=new Date;return s=+s,t=+t,function(i){return n.setTime(s*(1-i)+t*i),n}}function l1(s,t){var n={},i={},o;(s===null||typeof s!="object")&&(s={}),(t===null||typeof t!="object")&&(t={});for(o in t)o in s?n[o]=cl(s[o],t[o]):i[o]=t[o];return function(a){for(o in n)i[o]=n[o](a);return i}}function cl(s,t){var n=typeof t,i;return t==null||n==="boolean"?Iv(t):(n==="number"?qo:n==="string"?(i=rc(t))?(t=i,ic):Sv:t instanceof rc?ic:t instanceof Date?o1:i1(t)?r1:Array.isArray(t)?s1:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?l1:qo)(s,t)}function a1(s,t){return s=+s,t=+t,function(n){return Math.round(s*(1-n)+t*n)}}var u1=1e-12;function dc(s){return((s=Math.exp(s))+1/s)/2}function c1(s){return((s=Math.exp(s))-1/s)/2}function f1(s){return((s=Math.exp(2*s))-1)/(s+1)}const h1=function s(t,n,i){function o(a,u){var c=a[0],g=a[1],h=a[2],d=u[0],p=u[1],y=u[2],w=d-c,x=p-g,k=w*w+x*x,T,v;if(k<u1)v=Math.log(y/h)/t,T=function(z){return[c+z*w,g+z*x,h*Math.exp(t*z*v)]};else{var A=Math.sqrt(k),L=(y*y-h*h+i*k)/(2*h*n*A),I=(y*y-h*h-i*k)/(2*y*n*A),F=Math.log(Math.sqrt(L*L+1)-L),N=Math.log(Math.sqrt(I*I+1)-I);v=(N-F)/t,T=function(z){var R=z*v,H=dc(F),Z=h/(n*A)*(H*f1(t*R+F)-c1(F));return[c+Z*w,g+Z*x,h*H/dc(t*R+F)]}}return T.duration=v*1e3*t/Math.SQRT2,T}return o.rho=function(a){var u=Math.max(.001,+a),c=u*u,g=c*c;return s(u,c,g)},o}(Math.SQRT2,2,4);function d1(s){return function(){return s}}function g1(s){return+s}var gc=[0,1];function yr(s){return s}function Zo(s,t){return(t-=s=+s)?function(n){return(n-s)/t}:d1(isNaN(t)?NaN:.5)}function p1(s,t){var n;return s>t&&(n=s,s=t,t=n),function(i){return Math.max(s,Math.min(t,i))}}function _1(s,t,n){var i=s[0],o=s[1],a=t[0],u=t[1];return o<i?(i=Zo(o,i),a=n(u,a)):(i=Zo(i,o),a=n(a,u)),function(c){return a(i(c))}}function m1(s,t,n){var i=Math.min(s.length,t.length)-1,o=new Array(i),a=new Array(i),u=-1;for(s[i]<s[0]&&(s=s.slice().reverse(),t=t.slice().reverse());++u<i;)o[u]=Zo(s[u],s[u+1]),a[u]=n(t[u],t[u+1]);return function(c){var g=Qv(s,c,1,i)-1;return a[g](o[g](c))}}function v1(s,t){return t.domain(s.domain()).range(s.range()).interpolate(s.interpolate()).clamp(s.clamp()).unknown(s.unknown())}function y1(){var s=gc,t=gc,n=cl,i,o,a,u=yr,c,g,h;function d(){var y=Math.min(s.length,t.length);return u!==yr&&(u=p1(s[0],s[y-1])),c=y>2?m1:_1,g=h=null,p}function p(y){return y==null||isNaN(y=+y)?a:(g||(g=c(s.map(i),t,n)))(i(u(y)))}return p.invert=function(y){return u(o((h||(h=c(t,s.map(i),qo)))(y)))},p.domain=function(y){return arguments.length?(s=Array.from(y,g1),d()):s.slice()},p.range=function(y){return arguments.length?(t=Array.from(y),d()):t.slice()},p.rangeRound=function(y){return t=Array.from(y),n=a1,d()},p.clamp=function(y){return arguments.length?(u=y?!0:yr,d()):u!==yr},p.interpolate=function(y){return arguments.length?(n=y,d()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,w){return i=y,o=w,d()}}function w1(){return y1()(yr,yr)}function b1(s){return Math.abs(s=Math.round(s))>=1e21?s.toLocaleString("en").replace(/,/g,""):s.toString(10)}function ss(s,t){if((n=(s=t?s.toExponential(t-1):s.toExponential()).indexOf("e"))<0)return null;var n,i=s.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+s.slice(n+1)]}function Tr(s){return s=ss(Math.abs(s)),s?s[1]:NaN}function E1(s,t){return function(n,i){for(var o=n.length,a=[],u=0,c=s[0],g=0;o>0&&c>0&&(g+c+1>i&&(c=Math.max(1,i-g)),a.push(n.substring(o-=c,o+c)),!((g+=c+1)>i));)c=s[u=(u+1)%s.length];return a.reverse().join(t)}}function T1(s){return function(t){return t.replace(/[0-9]/g,function(n){return s[+n]})}}var x1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function os(s){if(!(t=x1.exec(s)))throw new Error("invalid format: "+s);var t;return new fl({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}os.prototype=fl.prototype;function fl(s){this.fill=s.fill===void 0?" ":s.fill+"",this.align=s.align===void 0?">":s.align+"",this.sign=s.sign===void 0?"-":s.sign+"",this.symbol=s.symbol===void 0?"":s.symbol+"",this.zero=!!s.zero,this.width=s.width===void 0?void 0:+s.width,this.comma=!!s.comma,this.precision=s.precision===void 0?void 0:+s.precision,this.trim=!!s.trim,this.type=s.type===void 0?"":s.type+""}fl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function A1(s){e:for(var t=s.length,n=1,i=-1,o;n<t;++n)switch(s[n]){case".":i=o=n;break;case"0":i===0&&(i=n),o=n;break;default:if(!+s[n])break e;i>0&&(i=0);break}return i>0?s.slice(0,i)+s.slice(o+1):s}var hf;function k1(s,t){var n=ss(s,t);if(!n)return s+"";var i=n[0],o=n[1],a=o-(hf=Math.max(-8,Math.min(8,Math.floor(o/3)))*3)+1,u=i.length;return a===u?i:a>u?i+new Array(a-u+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+ss(s,Math.max(0,t+a-1))[0]}function pc(s,t){var n=ss(s,t);if(!n)return s+"";var i=n[0],o=n[1];return o<0?"0."+new Array(-o).join("0")+i:i.length>o+1?i.slice(0,o+1)+"."+i.slice(o+1):i+new Array(o-i.length+2).join("0")}const _c={"%":(s,t)=>(s*100).toFixed(t),b:s=>Math.round(s).toString(2),c:s=>s+"",d:b1,e:(s,t)=>s.toExponential(t),f:(s,t)=>s.toFixed(t),g:(s,t)=>s.toPrecision(t),o:s=>Math.round(s).toString(8),p:(s,t)=>pc(s*100,t),r:pc,s:k1,X:s=>Math.round(s).toString(16).toUpperCase(),x:s=>Math.round(s).toString(16)};function mc(s){return s}var vc=Array.prototype.map,yc=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function I1(s){var t=s.grouping===void 0||s.thousands===void 0?mc:E1(vc.call(s.grouping,Number),s.thousands+""),n=s.currency===void 0?"":s.currency[0]+"",i=s.currency===void 0?"":s.currency[1]+"",o=s.decimal===void 0?".":s.decimal+"",a=s.numerals===void 0?mc:T1(vc.call(s.numerals,String)),u=s.percent===void 0?"%":s.percent+"",c=s.minus===void 0?"\u2212":s.minus+"",g=s.nan===void 0?"NaN":s.nan+"";function h(p){p=os(p);var y=p.fill,w=p.align,x=p.sign,k=p.symbol,T=p.zero,v=p.width,A=p.comma,L=p.precision,I=p.trim,F=p.type;F==="n"?(A=!0,F="g"):_c[F]||(L===void 0&&(L=12),I=!0,F="g"),(T||y==="0"&&w==="=")&&(T=!0,y="0",w="=");var N=k==="$"?n:k==="#"&&/[boxX]/.test(F)?"0"+F.toLowerCase():"",z=k==="$"?i:/[%p]/.test(F)?u:"",R=_c[F],H=/[defgprs%]/.test(F);L=L===void 0?6:/[gprs]/.test(F)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function Z(X){var ue=N,ie=z,E,P,U;if(F==="c")ie=R(X)+ie,X="";else{X=+X;var Q=X<0||1/X<0;if(X=isNaN(X)?g:R(Math.abs(X),L),I&&(X=A1(X)),Q&&+X==0&&x!=="+"&&(Q=!1),ue=(Q?x==="("?x:c:x==="-"||x==="("?"":x)+ue,ie=(F==="s"?yc[8+hf/3]:"")+ie+(Q&&x==="("?")":""),H){for(E=-1,P=X.length;++E<P;)if(U=X.charCodeAt(E),48>U||U>57){ie=(U===46?o+X.slice(E+1):X.slice(E))+ie,X=X.slice(0,E);break}}}A&&!T&&(X=t(X,1/0));var te=ue.length+X.length+ie.length,ee=te<v?new Array(v-te+1).join(y):"";switch(A&&T&&(X=t(ee+X,ee.length?v-ie.length:1/0),ee=""),w){case"<":X=ue+X+ie+ee;break;case"=":X=ue+ee+X+ie;break;case"^":X=ee.slice(0,te=ee.length>>1)+ue+X+ie+ee.slice(te);break;default:X=ee+ue+X+ie;break}return a(X)}return Z.toString=function(){return p+""},Z}function d(p,y){var w=h((p=os(p),p.type="f",p)),x=Math.max(-8,Math.min(8,Math.floor(Tr(y)/3)))*3,k=Math.pow(10,-x),T=yc[8+x/3];return function(v){return w(k*v)+T}}return{format:h,formatPrefix:d}}var Ji,df,gf;S1({thousands:",",grouping:[3],currency:["$",""]});function S1(s){return Ji=I1(s),df=Ji.format,gf=Ji.formatPrefix,Ji}function O1(s){return Math.max(0,-Tr(Math.abs(s)))}function R1(s,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Tr(t)/3)))*3-Tr(Math.abs(s)))}function M1(s,t){return s=Math.abs(s),t=Math.abs(t)-s,Math.max(0,Tr(t)-Tr(s))+1}function L1(s,t,n,i){var o=t1(s,t,n),a;switch(i=os(i==null?",f":i),i.type){case"s":{var u=Math.max(Math.abs(s),Math.abs(t));return i.precision==null&&!isNaN(a=R1(o,u))&&(i.precision=a),gf(i,u)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(a=M1(o,Math.max(Math.abs(s),Math.abs(t))))&&(i.precision=a-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(a=O1(o))&&(i.precision=a-(i.type==="%")*2);break}}return df(i)}function C1(s){var t=s.domain;return s.ticks=function(n){var i=t();return e1(i[0],i[i.length-1],n==null?10:n)},s.tickFormat=function(n,i){var o=t();return L1(o[0],o[o.length-1],n==null?10:n,i)},s.nice=function(n){n==null&&(n=10);var i=t(),o=0,a=i.length-1,u=i[o],c=i[a],g,h,d=10;for(c<u&&(h=u,u=c,c=h,h=o,o=a,a=h);d-- >0;){if(h=ff(u,c,n),h===g)return i[o]=u,i[a]=c,t(i);if(h>0)u=Math.floor(u/h)*h,c=Math.ceil(c/h)*h;else if(h<0)u=Math.ceil(u*h)/h,c=Math.floor(c*h)/h;else break;g=h}return s},s}function pf(){var s=w1();return s.copy=function(){return v1(s,pf())},n1.apply(s,arguments),C1(s)}function wc(s){let t,n,i,o,a,u,c=qt.title+"",g,h,d=qt.description+"",p,y,w=qt.byline+"",x,k,T,v,A;return{c(){t=G("div"),n=G("a"),i=G("img"),a=ce(),u=G("h1"),g=ce(),h=G("div"),p=ce(),y=G("div"),x=ce(),k=G("div"),T=ke("Scroll to continue ->"),this.h()},l(L){t=q(L,"DIV",{class:!0});var I=K(t);n=q(I,"A",{href:!0,"aria-label":!0,target:!0,class:!0});var F=K(n);i=q(F,"IMG",{class:!0,src:!0}),F.forEach(C),a=fe(I),u=q(I,"H1",{class:!0});var N=K(u);N.forEach(C),g=fe(I),h=q(I,"DIV",{});var z=K(h);z.forEach(C),p=fe(I),y=q(I,"DIV",{});var R=K(y);R.forEach(C),x=fe(I),k=q(I,"DIV",{class:!0});var H=K(k);T=Ie(H,"Scroll to continue ->"),H.forEach(C),I.forEach(C),this.h()},h(){O(i,"class","logo svelte-2y1csx"),dt(i.src,o="assets/img/logo_full.png")||O(i,"src",o),O(n,"href","https://pudding.cool"),O(n,"aria-label","The Pudding"),O(n,"target","_blank"),O(n,"class","svelte-2y1csx"),O(u,"class","svelte-2y1csx"),O(k,"class","scroll svelte-2y1csx"),O(t,"class","words svelte-2y1csx")},m(L,I){oe(L,t,I),B(t,n),B(n,i),B(t,a),B(t,u),u.innerHTML=c,B(t,g),B(t,h),h.innerHTML=d,B(t,p),B(t,y),y.innerHTML=w,B(t,x),B(t,k),B(k,T),A=!0},p:ye,i(L){A||(xr(()=>{v||(v=ts(t,is,{},!0)),v.run(1)}),A=!0)},o(L){v||(v=ts(t,is,{},!1)),v.run(0),A=!1},d(L){L&&C(t),L&&v&&v.end()}}}function P1(s){let t,n,i,o,a,u=s[1]&&wc();return{c(){t=G("div"),n=G("div"),u&&u.c(),this.h()},l(c){t=q(c,"DIV",{class:!0,style:!0});var g=K(t);n=q(g,"DIV",{class:!0,style:!0});var h=K(n);u&&u.l(h),h.forEach(C),g.forEach(C),this.h()},h(){O(n,"class","title svelte-2y1csx"),O(n,"style",i=`background-image: url(${s[0]})`),O(t,"class","title-wrapper svelte-2y1csx"),O(t,"style",o=`transform: scale(${s[2]})`),He(t,"visible",!s[3])},m(c,g){oe(c,t,g),B(t,n),u&&u.m(n,null),a=!0},p(c,[g]){c[1]?u?(u.p(c,g),g&2&&re(u,1)):(u=wc(),u.c(),re(u,1),u.m(n,null)):u&&($t(),le(u,1,1,()=>{u=null}),Dt()),(!a||g&1&&i!==(i=`background-image: url(${c[0]})`))&&O(n,"style",i),(!a||g&4&&o!==(o=`transform: scale(${c[2]})`))&&O(t,"style",o),(!a||g&8)&&He(t,"visible",!c[3])},i(c){a||(re(u),a=!0)},o(c){le(u),a=!1},d(c){c&&C(t),u&&u.d()}}}function $1(s,t,n){let i,o,a,u;Te(s,Xr,d=>n(3,u=d));let{scrolled:c}=t,{scrollMax:g}=t;const h=pf().domain([0,g]).range([1,2.5]).clamp(!0);return s.$$set=d=>{"scrolled"in d&&n(4,c=d.scrolled),"scrollMax"in d&&n(5,g=d.scrollMax)},s.$$.update=()=>{s.$$.dirty&16&&n(2,i=h(c)),s.$$.dirty&16&&n(1,o=c<80)},n(0,a=`${sl}/assets/img/notebook.jpeg`),[a,o,i,u,c,g]}class D1 extends Ve{constructor(t){super(),Je(this,t,$1,P1,Ke,{scrolled:4,scrollMax:5})}}function N1(s){let t,n,i;const o=s[9].default,a=wv(o,s,s[8],null);return{c(){t=G("div"),a&&a.c(),this.h()},l(u){t=q(u,"DIV",{id:!0,class:!0});var c=K(t);a&&a.l(c),c.forEach(C),this.h()},h(){O(t,"id","panel-steps"),O(t,"class","svelte-1y7i367"),xr(()=>s[11].call(t))},m(u,c){oe(u,t,c),a&&a.m(t,null),s[10](t),n=ol(t,s[11].bind(t)),i=!0},p(u,[c]){a&&a.p&&(!i||c&256)&&bv(a,o,u,u[8],i?Tv(o,u[8],c,null):Ev(u[8]),null)},i(u){i||(re(a,u),i=!0)},o(u){le(a,u),i=!1},d(u){u&&C(t),a&&a.d(u),s[10](null),n()}}}function B1(s,t,n){let i;Te(s,Go,N=>n(1,i=N));let{$$slots:o={},$$scope:a}=t,{root:u}=t,{top:c=0}=t,{bottom:g=0}=t,{increments:h=100}=t,{value:d=void 0}=t;const p=[],y=[];let w=[],x=[],k;const T=()=>{!w.length||w.forEach(A)},v=()=>{let N=0,z=0;for(let R=0;R<p.length;R++)p[R]>N&&(N=p[R],z=R);N>0?n(2,d=z):n(2,d=void 0)},A=(N,z)=>{const R=E=>{E[0].isIntersecting;const P=E[0].intersectionRatio;p[z]=P,v()},H=c?c*-1:0,Z=g?g*-1:0,X=`${H}px 0px ${Z}px 0px`,ue={root:u,rootMargin:X,threshold:y};x[z]&&x[z].disconnect();const ie=new IntersectionObserver(R,ue);ie.observe(N),x[z]=ie},L=()=>{w=k.querySelectorAll(":scope > *:not(iframe)"),T()};ti(()=>{for(let N=0;N<h+1;N++)y.push(N/h);w=k.querySelectorAll(":scope > *:not(iframe)"),T()});function I(N){yt[N?"unshift":"push"](()=>{k=N,n(0,k)})}function F(){i=this.clientWidth,Go.set(i)}return s.$$set=N=>{"root"in N&&n(3,u=N.root),"top"in N&&n(4,c=N.top),"bottom"in N&&n(5,g=N.bottom),"increments"in N&&n(6,h=N.increments),"value"in N&&n(2,d=N.value),"$$scope"in N&&n(8,a=N.$$scope)},s.$$.update=()=>{s.$$.dirty&48&&T()},[k,i,d,u,c,g,h,L,a,o,I,F]}class U1 extends Ve{constructor(t){super(),Je(this,t,B1,N1,Ke,{root:3,top:4,bottom:5,increments:6,value:2,refreshNodes:7})}get refreshNodes(){return this.$$.ctx[7]}}var F1=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};const z1=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...n)=>F1(void 0,void 0,void 0,function*(){return yield(yield ni(()=>Promise.resolve().then(()=>cs),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)};class hl extends Error{constructor(t,n="FunctionsError",i){super(t),super.name=n,this.context=i}}class j1 extends hl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class W1 extends hl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class H1 extends hl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var G1=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};class q1{constructor(t,{headers:n={},customFetch:i}={}){this.url=t,this.headers=n,this.fetch=z1(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var i;return G1(this,void 0,void 0,function*(){try{const{headers:o,body:a}=n;let u={},c;a&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",c=a):typeof a=="string"?(u["Content-Type"]="text/plain",c=a):typeof FormData<"u"&&a instanceof FormData?c=a:(u["Content-Type"]="application/json",c=JSON.stringify(a)));const g=yield this.fetch(`${this.url}/${t}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),o),body:c}).catch(y=>{throw new j1(y)}),h=g.headers.get("x-relay-error");if(h&&h==="true")throw new W1(g);if(!g.ok)throw new H1(g);let d=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),p;return d==="application/json"?p=yield g.json():d==="application/octet-stream"?p=yield g.blob():d==="multipart/form-data"?p=yield g.formData():p=yield g.text(),{data:p,error:null}}catch(o){return{data:null,error:o}}})}}var Qr={exports:{}};(function(s,t){var n=typeof self<"u"?self:ln,i=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(u){var c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function g(E){return E&&DataView.prototype.isPrototypeOf(E)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(E){return E&&h.indexOf(Object.prototype.toString.call(E))>-1};function p(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(E))throw new TypeError("Invalid character in header field name");return E.toLowerCase()}function y(E){return typeof E!="string"&&(E=String(E)),E}function w(E){var P={next:function(){var U=E.shift();return{done:U===void 0,value:U}}};return c.iterable&&(P[Symbol.iterator]=function(){return P}),P}function x(E){this.map={},E instanceof x?E.forEach(function(P,U){this.append(U,P)},this):Array.isArray(E)?E.forEach(function(P){this.append(P[0],P[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(P){this.append(P,E[P])},this)}x.prototype.append=function(E,P){E=p(E),P=y(P);var U=this.map[E];this.map[E]=U?U+", "+P:P},x.prototype.delete=function(E){delete this.map[p(E)]},x.prototype.get=function(E){return E=p(E),this.has(E)?this.map[E]:null},x.prototype.has=function(E){return this.map.hasOwnProperty(p(E))},x.prototype.set=function(E,P){this.map[p(E)]=y(P)},x.prototype.forEach=function(E,P){for(var U in this.map)this.map.hasOwnProperty(U)&&E.call(P,this.map[U],U,this)},x.prototype.keys=function(){var E=[];return this.forEach(function(P,U){E.push(U)}),w(E)},x.prototype.values=function(){var E=[];return this.forEach(function(P){E.push(P)}),w(E)},x.prototype.entries=function(){var E=[];return this.forEach(function(P,U){E.push([U,P])}),w(E)},c.iterable&&(x.prototype[Symbol.iterator]=x.prototype.entries);function k(E){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}function T(E){return new Promise(function(P,U){E.onload=function(){P(E.result)},E.onerror=function(){U(E.error)}})}function v(E){var P=new FileReader,U=T(P);return P.readAsArrayBuffer(E),U}function A(E){var P=new FileReader,U=T(P);return P.readAsText(E),U}function L(E){for(var P=new Uint8Array(E),U=new Array(P.length),Q=0;Q<P.length;Q++)U[Q]=String.fromCharCode(P[Q]);return U.join("")}function I(E){if(E.slice)return E.slice(0);var P=new Uint8Array(E.byteLength);return P.set(new Uint8Array(E)),P.buffer}function F(){return this.bodyUsed=!1,this._initBody=function(E){this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:c.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:c.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():c.arrayBuffer&&c.blob&&g(E)?(this._bodyArrayBuffer=I(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||d(E))?this._bodyArrayBuffer=I(E):this._bodyText=E=Object.prototype.toString.call(E):this._bodyText="",this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var E=k(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?k(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var E=k(this);if(E)return E;if(this._bodyBlob)return A(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(L(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(H)}),this.json=function(){return this.text().then(JSON.parse)},this}var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function z(E){var P=E.toUpperCase();return N.indexOf(P)>-1?P:E}function R(E,P){P=P||{};var U=P.body;if(E instanceof R){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,P.headers||(this.headers=new x(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,!U&&E._bodyInit!=null&&(U=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=P.credentials||this.credentials||"same-origin",(P.headers||!this.headers)&&(this.headers=new x(P.headers)),this.method=z(P.method||this.method||"GET"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&U)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(U)}R.prototype.clone=function(){return new R(this,{body:this._bodyInit})};function H(E){var P=new FormData;return E.trim().split("&").forEach(function(U){if(U){var Q=U.split("="),te=Q.shift().replace(/\+/g," "),ee=Q.join("=").replace(/\+/g," ");P.append(decodeURIComponent(te),decodeURIComponent(ee))}}),P}function Z(E){var P=new x,U=E.replace(/\r?\n[\t ]+/g," ");return U.split(/\r?\n/).forEach(function(Q){var te=Q.split(":"),ee=te.shift().trim();if(ee){var pe=te.join(":").trim();P.append(ee,pe)}}),P}F.call(R.prototype);function X(E,P){P||(P={}),this.type="default",this.status=P.status===void 0?200:P.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in P?P.statusText:"OK",this.headers=new x(P.headers),this.url=P.url||"",this._initBody(E)}F.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new x(this.headers),url:this.url})},X.error=function(){var E=new X(null,{status:0,statusText:""});return E.type="error",E};var ue=[301,302,303,307,308];X.redirect=function(E,P){if(ue.indexOf(P)===-1)throw new RangeError("Invalid status code");return new X(null,{status:P,headers:{location:E}})},u.DOMException=a.DOMException;try{new u.DOMException}catch{u.DOMException=function(P,U){this.message=P,this.name=U;var Q=Error(P);this.stack=Q.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function ie(E,P){return new Promise(function(U,Q){var te=new R(E,P);if(te.signal&&te.signal.aborted)return Q(new u.DOMException("Aborted","AbortError"));var ee=new XMLHttpRequest;function pe(){ee.abort()}ee.onload=function(){var _e={status:ee.status,statusText:ee.statusText,headers:Z(ee.getAllResponseHeaders()||"")};_e.url="responseURL"in ee?ee.responseURL:_e.headers.get("X-Request-URL");var Ce="response"in ee?ee.response:ee.responseText;U(new X(Ce,_e))},ee.onerror=function(){Q(new TypeError("Network request failed"))},ee.ontimeout=function(){Q(new TypeError("Network request failed"))},ee.onabort=function(){Q(new u.DOMException("Aborted","AbortError"))},ee.open(te.method,te.url,!0),te.credentials==="include"?ee.withCredentials=!0:te.credentials==="omit"&&(ee.withCredentials=!1),"responseType"in ee&&c.blob&&(ee.responseType="blob"),te.headers.forEach(function(_e,Ce){ee.setRequestHeader(Ce,_e)}),te.signal&&(te.signal.addEventListener("abort",pe),ee.onreadystatechange=function(){ee.readyState===4&&te.signal.removeEventListener("abort",pe)}),ee.send(typeof te._bodyInit>"u"?null:te._bodyInit)})}return ie.polyfill=!0,a.fetch||(a.fetch=ie,a.Headers=x,a.Request=R,a.Response=X),u.Headers=x,u.Request=R,u.Response=X,u.fetch=ie,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=i;t=o.fetch,t.default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,s.exports=t})(Qr,Qr.exports);const dl=Ov(Qr.exports),cs=Cv({__proto__:null,default:dl},[Qr.exports]);var V1=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};class J1{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.allowEmpty=t.allowEmpty,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=dl:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(a=>V1(this,void 0,void 0,function*(){var u,c,g;let h=null,d=null,p=null,y=a.status,w=a.statusText;if(a.ok){if(this.method!=="HEAD"){const v=yield a.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const k=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),T=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");k&&T&&T.length>1&&(p=parseInt(T[1]))}else{const k=yield a.text();try{h=JSON.parse(k)}catch{h={message:k}}if(h&&this.allowEmpty&&((g=h==null?void 0:h.details)===null||g===void 0?void 0:g.includes("Results contain 0 rows"))&&(h=null,y=200,w="OK"),h&&this.shouldThrowOnError)throw h}return{error:h,data:d,count:p,status:y,statusText:w}}));return this.shouldThrowOnError||(o=o.catch(a=>({error:{message:`FetchError: ${a.message}`,details:"",hint:"",code:a.code||""},data:null,count:null,status:0,statusText:""}))),o.then(t,n)}}class K1 extends J1{select(t){let n=!1;const i=(t!=null?t:"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:i,foreignTable:o}={}){const a=o?`${o}.order`:"order",u=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${u?`${u},`:""}${t}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:i}={}){const o=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:i=!1,buffers:o=!1,wal:a=!1,format:u="text"}={}){const c=[t?"analyze":null,n?"verbose":null,i?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),g=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${c};`,u==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}}class mr extends K1{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const i=n.map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(t,`in.(${i})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:i,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(t,`${a}fts${u}.${n}`),this}match(t){return Object.entries(t).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(t,n,i){return this.url.searchParams.append(t,`not.${n}.${i}`),this}or(t,{foreignTable:n}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,i){return this.url.searchParams.append(t,`${n}.${i}`),this}}class Z1{constructor(t,{headers:n={},schema:i,fetch:o}){this.url=t,this.headers=n,this.schema=i,this.fetch=o}select(t,{head:n=!1,count:i}={}){const o=n?"HEAD":"GET";let a=!1;const u=(t!=null?t:"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",u),i&&(this.headers.Prefer=`count=${i}`),new mr({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n}={}){const i="POST",o=[],a=t;if(n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),Array.isArray(t)){const u=t.reduce((c,g)=>c.concat(Object.keys(g)),[]);if(u.length>0){const c=[...new Set(u)].map(g=>`"${g}"`);this.url.searchParams.set("columns",c.join(","))}}return new mr({method:i,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:i=!1,count:o}={}){const a="POST",u=[`resolution=${i?"ignore":"merge"}-duplicates`];n!==void 0&&this.url.searchParams.set("on_conflict",n);const c=t;return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new mr({method:a,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const i="PATCH",o=[],a=t;return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new mr({method:i,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",i=[];return t&&i.push(`count=${t}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new mr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const Y1="1.0.0",X1={"X-Client-Info":`postgrest-js/${Y1}`};class Q1{constructor(t,{headers:n={},schema:i,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},X1),n),this.schema=i,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new Z1(n,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(t,n={},{head:i=!1,count:o}={}){let a;const u=new URL(`${this.url}/rpc/${t}`);let c;i?(a="HEAD",Object.entries(n).forEach(([h,d])=>{u.searchParams.append(h,`${d}`)})):(a="POST",c=n);const g=Object.assign({},this.headers);return o&&(g.Prefer=`count=${o}`),new mr({method:a,url:u,headers:g,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}}var Uo,bc;function ey(){if(bc)return Uo;bc=1;var s=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Uo=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return s()}try{return __global__||s()}finally{delete Object.prototype.__global__}}(),Uo}const ty="websocket",ny="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",ry=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],iy="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",sy=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],oy="1.0.34",ly={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},ay="https://github.com/theturtle32/WebSocket-Node",uy={node:">=4.0.0"},cy={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},fy={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},hy={verbose:!1},dy={test:"tape test/unit/*.js",gulp:"gulp"},gy="index",py={lib:"./lib"},_y="lib/browser.js",my="Apache-2.0",vy={name:ty,description:ny,keywords:ry,author:iy,contributors:sy,version:oy,repository:ly,homepage:ay,engines:uy,dependencies:cy,devDependencies:fy,config:hy,scripts:dy,main:gy,directories:py,browser:_y,license:my};var yy=vy.version,qn;if(typeof globalThis=="object")qn=globalThis;else try{qn=ey()}catch{}finally{if(!qn&&typeof window<"u"&&(qn=window),!qn)throw new Error("Could not determine global this")}var ei=qn.WebSocket||qn.MozWebSocket,wy=yy;function _f(s,t){var n;return t?n=new ei(s,t):n=new ei(s),n}ei&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(s){Object.defineProperty(_f,s,{get:function(){return ei[s]}})});var by={w3cwebsocket:ei?_f:null,version:wy};const Ey="2.0.0",Ty={"X-Client-Info":`realtime-js/${Ey}`},xy="1.0.0",mf=1e4,Ay=1e3;var Zr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Zr||(Zr={}));var Pt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Pt||(Pt={}));var Qt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Qt||(Qt={}));var Yo;(function(s){s.websocket="websocket"})(Yo||(Yo={}));var Vn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Vn||(Vn={}));class vf{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class ky{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const c=i.decode(t.slice(u,u+o));u=u+o;const g=i.decode(t.slice(u,u+a));u=u+a;const h=JSON.parse(i.decode(t.slice(u,t.byteLength)));return{ref:null,topic:c,event:g,payload:h}}}class Fo{constructor(t,n,i={},o=mf){this.channel=t,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ec;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Ec||(Ec={}));class Yr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:u,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yr.syncState(this.state,o,a,u),this.pendingDiffs.forEach(g=>{this.state=Yr.syncDiff(this.state,g,a,u)}),this.pendingDiffs=[],c()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Yr.syncDiff(this.state,o,a,u),c())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,o){const a=this.cloneDeep(t),u=this.transformState(n),c={},g={};return this.map(a,(h,d)=>{u[h]||(g[h]=d)}),this.map(u,(h,d)=>{const p=a[h];if(p){const y=d.map(T=>T.presence_ref),w=p.map(T=>T.presence_ref),x=d.filter(T=>w.indexOf(T.presence_ref)<0),k=p.filter(T=>y.indexOf(T.presence_ref)<0);x.length>0&&(c[h]=x),k.length>0&&(g[h]=k)}else c[h]=d}),this.syncDiff(a,{joins:c,leaves:g},i,o)}static syncDiff(t,n,i,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(c,g)=>{var h;const d=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(g),d.length>0){const p=t[c].map(w=>w.presence_ref),y=d.filter(w=>p.indexOf(w.presence_ref)<0);t[c].unshift(...y)}i(c,d,g)}),this.map(u,(c,g)=>{let h=t[c];if(!h)return;const d=g.map(p=>p.presence_ref);h=h.filter(p=>d.indexOf(p.presence_ref)<0),t[c]=h,o(c,h,g),h.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const o=t[i];return"metas"in o?n[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ue;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ue||(Ue={}));const Tc=(s,t,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((a,u)=>(a[u]=Iy(u,s,t,o),a),{})},Iy=(s,t,n,i)=>{const o=t.find(c=>c.name===s),a=o==null?void 0:o.type,u=n[s];return a&&!i.includes(a)?yf(a,u):Xo(u)},yf=(s,t)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return My(t,n)}switch(s){case Ue.bool:return Sy(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return Oy(t);case Ue.json:case Ue.jsonb:return Ry(t);case Ue.timestamp:return Ly(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return Xo(t);default:return Xo(t)}},Xo=s=>s,Sy=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Oy=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},Ry=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},My=(s,t)=>{if(typeof s!="string")return s;const n=s.length-1,i=s[n];if(s[0]==="{"&&i==="}"){let a;const u=s.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(c=>yf(t,c))}return s},Ly=s=>typeof s=="string"?s.replace(" ","T"):s;var xc=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})},Ac;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Ac||(Ac={}));var kc;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes"})(kc||(kc={}));var Ic;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(Ic||(Ic={}));class gl{constructor(t,n={config:{}},i){this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=Pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fo(this,Qt.join,this.params,this.timeout),this.rejoinTimer=new vf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Yr(this)}subscribe(t,n=this.timeout){var i,o;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:u}}=this.params;this._onError(h=>t&&t("CHANNEL_ERROR",h)),this._onClose(()=>t&&t("CLOSED"));const c={},g={broadcast:a,presence:u,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(h=>h.filter))!==null&&o!==void 0?o:[]};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:g},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:h})=>{var d;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),h===void 0){t&&t("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,y=(d=p==null?void 0:p.length)!==null&&d!==void 0?d:0,w=[];for(let x=0;x<y;x++){const k=p[x],{filter:{event:T,schema:v,table:A,filter:L}}=k,I=h&&h[x];if(I&&I.event===T&&I.schema===v&&I.table===A&&I.filter===L)w.push(Object.assign(Object.assign({},k),{id:I.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t("SUBSCRIBED");return}}).receive("error",h=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(t,n={}){return xc(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(t={}){return xc(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,i){return this._on(t,n,i)}send(t,n={}){return new Promise(i=>{var o,a,u;const c=this._push(t.type,t,n.timeout||this.timeout);c.rateLimited&&i("rate limited"),t.type==="broadcast"&&!(!((u=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pt.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(i=>{const o=new Fo(this,Qt.leave,{},t);o.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),o.send(),this._canPush()||o.trigger("ok",{})})}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Fo(this,t,n,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var o,a;const u=t.toLocaleLowerCase(),{close:c,error:g,leave:h,join:d}=Qt;if(i&&[c,g,h,d].indexOf(u)>=0&&i!==this._joinRef())return;let y=this._onMessage(u,n,i);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var x,k,T;return((x=w.filter)===null||x===void 0?void 0:x.event)==="*"||((T=(k=w.filter)===null||k===void 0?void 0:k.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===u}).map(w=>w.callback(y,i)):(a=this.bindings[u])===null||a===void 0||a.filter(w=>{var x,k,T,v,A,L;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const I=w.id,F=(x=w.filter)===null||x===void 0?void 0:x.event;return I&&((k=n.ids)===null||k===void 0?void 0:k.includes(I))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((T=n.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const I=(A=(v=w==null?void 0:w.filter)===null||v===void 0?void 0:v.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return I==="*"||I===((L=n==null?void 0:n.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof y=="object"&&"ids"in y){const x=y.data,{schema:k,table:T,commit_timestamp:v,type:A,errors:L}=x;y=Object.assign(Object.assign({},{schema:k,table:T,commit_timestamp:v,eventType:A,new:{},old:{},errors:L}),this._getPayloadRecords(x))}w.callback(y,i)})}_isClosed(){return this.state===Pt.closed}_isJoined(){return this.state===Pt.joined}_isJoining(){return this.state===Pt.joining}_isLeaving(){return this.state===Pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const o=t.toLocaleLowerCase(),a={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&gl.isEqual(o.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qt.close,{},t)}_onError(t){this._on(Qt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Tc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Tc(t.columns,t.old_record)),n}}var Cy=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};const Py=()=>{};class $y{constructor(t,n){var i;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Ty,this.params={},this.timeout=mf,this.transport=by.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=Py,this.conn=null,this.sendBuffer=[],this.serializer=new ky,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${t}/${Yo.websocket}`,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.transport&&(this.transport=n.transport),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(i=n==null?void 0:n.params)===null||i===void 0?void 0:i.eventsPerSecond;o&&(this.eventsPerSecondLimitMs=Math.floor(1e3/o)),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(a,u)=>u(JSON.stringify(a)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vf(()=>Cy(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n!=null?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return t.unsubscribe().then(n=>(this.channels.length===0&&this.disconnect(),n))}removeAllChannels(){return Promise.all(this.channels.map(t=>t.unsubscribe())).then(t=>(this.disconnect(),t))}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Zr.connecting:return Vn.Connecting;case Zr.open:return Vn.Open;case Zr.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}channel(t,n={config:{}}){this.isConnected()||this.connect();const i=new gl(`realtime:${t}`,n,this);return this.channels.push(i),i}push(t){const{topic:n,event:i,payload:o,ref:a}=t;let u=()=>{this.encode(t,c=>{var g;(g=this.conn)===null||g===void 0||g.send(c)})};if(this.log("push",`${n} ${i} (${a})`,o),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(i)){if(this._throttle(u)())return"rate limited"}else u();else this.sendBuffer.push(u)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Qt.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xy}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:i,event:o,payload:a,ref:u}=n;(u&&u===this.pendingHeartbeatRef||o===(a==null?void 0:a.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${i} ${o} ${u&&"("+u+")"||""}`,a),this.channels.filter(c=>c._isMember(i)).forEach(c=>c._trigger(o,a,u)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${i}${o}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ay,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(t,n=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(t(),this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},n),!1)}}class wf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function kt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Dy extends wf{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ny extends wf{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var bf=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};const Ef=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...n)=>bf(void 0,void 0,void 0,function*(){return yield(yield ni(()=>Promise.resolve().then(()=>cs),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)},By=()=>bf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ni(()=>Promise.resolve().then(()=>cs),void 0,import.meta.url)).Response:Response});var Ir=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};const Sc=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Uy=(s,t)=>Ir(void 0,void 0,void 0,function*(){const n=yield By();s instanceof n?s.json().then(i=>{t(new Dy(Sc(i),s.status||500))}):t(new Ny(Sc(s),s))}),Fy=(s,t,n,i)=>{const o={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};function fs(s,t,n,i,o,a){return Ir(this,void 0,void 0,function*(){return new Promise((u,c)=>{s(n,Fy(t,i,o,a)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>Uy(g,c))})})}function Qo(s,t,n,i){return Ir(this,void 0,void 0,function*(){return fs(s,"GET",t,n,i)})}function Jn(s,t,n,i,o){return Ir(this,void 0,void 0,function*(){return fs(s,"POST",t,i,o,n)})}function zy(s,t,n,i,o){return Ir(this,void 0,void 0,function*(){return fs(s,"PUT",t,i,o,n)})}function Tf(s,t,n,i,o){return Ir(this,void 0,void 0,function*(){return fs(s,"DELETE",t,i,o,n)})}var on=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};const jy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wy={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Hy{constructor(t,n={},i,o){this.url=t,this.headers=n,this.bucketId=i,this.fetch=Ef(o)}uploadOrUpdate(t,n,i,o){return on(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Wy),o),c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",u.cacheControl)):(a=i,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const g=this._removeEmptyFolders(n),h=this._getFinalPath(g),d=yield this.fetch(`${this.url}/object/${h}`,{method:t,body:a,headers:c});if(d.ok)return{data:{path:g},error:null};{const p=yield d.json();return{data:null,error:p}}}catch(a){if(kt(a))return{data:null,error:a};throw a}})}upload(t,n,i){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}update(t,n,i){return on(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n){return on(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}copy(t,n){return on(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,i){return on(this,void 0,void 0,function*(){try{const o=this._getFinalPath(t);let a=yield Jn(this.fetch,`${this.url}/object/sign/${o}`,{expiresIn:n},{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(kt(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,i){return on(this,void 0,void 0,function*(){try{const o=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(kt(o))return{data:null,error:o};throw o}})}download(t){return on(this,void 0,void 0,function*(){try{const n=this._getFinalPath(t);return{data:yield(yield Qo(this.fetch,`${this.url}/object/${n}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}getPublicUrl(t,n){const i=this._getFinalPath(t),o=n!=null&&n.download?`?download=${n.download===!0?"":n.download}`:"";return{data:{publicUrl:encodeURI(`${this.url}/object/public/${i}${o}`)}}}remove(t){return on(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}list(t,n,i){return on(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},jy),n),{prefix:t||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(kt(o))return{data:null,error:o};throw o}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}const Gy="2.0.0",qy={"X-Client-Info":`storage-js/${Gy}`};var gr=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};class Vy{constructor(t,n={},i){this.url=t,this.headers=Object.assign(Object.assign({},qy),n),this.fetch=Ef(i)}listBuckets(){return gr(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(kt(t))return{data:null,error:t};throw t}})}getBucket(t){return gr(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return gr(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return gr(this,void 0,void 0,function*(){try{return{data:yield zy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(i){if(kt(i))return{data:null,error:i};throw i}})}emptyBucket(t){return gr(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return gr(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}})}}class Jy extends Vy{constructor(t,n={},i){super(t,n,i)}from(t){return new Hy(this.url,this.headers,t,this.fetch)}}const Ky="2.0.0",Zy={"X-Client-Info":`supabase-js/${Ky}`};var Yy=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};const Xy=s=>{let t;return s?t=s:typeof fetch>"u"?t=dl:t=fetch,(...n)=>t(...n)},Qy=()=>typeof Headers>"u"?Qr.exports.Headers:Headers,ew=(s,t,n)=>{const i=Xy(n),o=Qy();return(a,u)=>Yy(void 0,void 0,void 0,function*(){var c;const g=(c=yield t())!==null&&c!==void 0?c:s;let h=new o(u==null?void 0:u.headers);return h.has("apikey")||h.set("apikey",s),h.has("Authorization")||h.set("Authorization",`Bearer ${g}`),i(a,Object.assign(Object.assign({},u),{headers:h}))})};function tw(s){return s.replace(/\/$/,"")}function nw(s,t){const{db:n,auth:i,realtime:o,global:a}=s,{db:u,auth:c,realtime:g,global:h}=t;return{db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},g),o),global:Object.assign(Object.assign({},h),a)}}var hs=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};function rw(s){return Math.round(Date.now()/1e3)+s}function iw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const Zn=()=>typeof window<"u";function Gt(s,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),s=s.replace(/[\[\]]/g,"\\$&");const i=new RegExp("[?&#]"+s+"(=([^&#]*)|&|#|$)"),o=i.exec(t);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}const xf=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...n)=>hs(void 0,void 0,void 0,function*(){return yield(yield ni(()=>Promise.resolve().then(()=>cs),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)},sw=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ow=(s,t,n)=>hs(void 0,void 0,void 0,function*(){yield s.setItem(t,JSON.stringify(n))}),Oc=(s,t)=>hs(void 0,void 0,void 0,function*(){const n=yield s.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),lw=(s,t)=>hs(void 0,void 0,void 0,function*(){yield s.removeItem(t)}),aw=s=>{try{return atob(s.replace(/[-]/g,"+").replace(/[_]/g,"/"))}catch(t){if(t instanceof ReferenceError)return Buffer.from(s,"base64").toString("utf-8");throw t}};class ds{constructor(){this.promise=new ds.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ds.promiseConstructor=Promise;class pl extends Error{constructor(t){super(t),this.__isAuthError=!0,this.name="AuthError"}}function tt(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class uw extends pl{constructor(t,n){super(t),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Af extends pl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class gs extends pl{constructor(t,n,i){super(t),this.name=n,this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ki extends gs{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class zo extends gs{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class wn extends gs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ls extends gs{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}var _l=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})},cw=globalThis&&globalThis.__rest||function(s,t){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(n[i[o]]=s[i[o]]);return n};const Zi=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),fw=(s,t)=>_l(void 0,void 0,void 0,function*(){const n=[502,503,504];sw(s)?n.includes(s.status)?t(new ls(Zi(s),s.status)):s.json().then(i=>{t(new uw(Zi(i),s.status||500))}).catch(i=>{t(new Af(Zi(i),i))}):t(new ls(Zi(s),0))}),hw=(s,t,n,i)=>{const o={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};function it(s,t,n,i){var o,a;return _l(this,void 0,void 0,function*(){const u=(o=i==null?void 0:i.headers)!==null&&o!==void 0?o:{};i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const g=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=yield dw(s,t,n+g,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}})}function dw(s,t,n,i,o,a){return _l(this,void 0,void 0,function*(){return new Promise((u,c)=>{s(n,hw(t,i,o,a)).then(g=>{if(!g.ok)throw g;return i!=null&&i.noResolveJson?g:g.json()}).then(g=>u(g)).catch(g=>fw(g,c))})})}function pr(s){var t;let n=null;pw(s)&&(n=Object.assign({},s),n.expires_at=rw(s.expires_in));const i=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:n,user:i},error:null}}function Kn(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function gw(s){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a}=s,u=cw(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a},g=Object.assign({},u);return{data:{properties:c,user:g},error:null}}function pw(s){return s.access_token&&s.refresh_token&&s.expires_in}var Ln=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})},_w=globalThis&&globalThis.__rest||function(s,t){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&t.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(n[i[o]]=s[i[o]]);return n};class mw{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=xf(i)}signOut(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:t,noResolveJson:!0}),{error:null}}catch(n){if(tt(n))return{error:n};throw n}})}inviteUserByEmail(t,n={}){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kn})}catch(i){if(tt(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return Ln(this,void 0,void 0,function*(){try{const{options:n}=t,i=_w(t,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),yield it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:gw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(tt(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kn})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}listUsers(){return Ln(this,void 0,void 0,function*(){try{const{data:t,error:n}=yield it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers});if(n)throw n;return{data:Object.assign({},t),error:null}}catch(t){if(tt(t))return{data:{users:[]},error:t};throw t}})}getUserById(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kn})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kn})}catch(i){if(tt(i))return{data:{user:null},error:i};throw i}})}deleteUser(t){return Ln(this,void 0,void 0,function*(){try{return yield it(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kn})}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}}const vw="2.0.1",yw="http://localhost:9999",ww="supabase.auth.token",bw={"X-Client-Info":`gotrue-js/${vw}`},jo=10,Yi={MAX_RETRIES:10,RETRY_INTERVAL:2},Ew={getItem:s=>Zn()?globalThis.localStorage.getItem(s):null,setItem:(s,t)=>{!Zn()||globalThis.localStorage.setItem(s,t)},removeItem:s=>{!Zn()||globalThis.localStorage.removeItem(s)}};function Tw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var et=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};Tw();const xw={url:yw,storageKey:ww,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bw};class Aw{constructor(t){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const n=Object.assign(Object.assign({},xw),t);this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||Ew,this.admin=new mw({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=xf(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return et(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:n}=yield this._getSessionFromUrl();if(n)return yield this._removeSession(),{error:n};const{session:i,redirectType:o}=t;return yield this._saveSession(i),this._notifyAllSubscribers("SIGNED_IN",i),o==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",i),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return tt(t)?{error:t}:{error:new Af("Unexpected error during initialization",t)}}finally{this._handleVisibilityChange()}})}signUp(t){return et(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in t){const{email:c,password:g,options:h}=t;n=yield it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:g,data:h==null?void 0:h.data,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pr})}else if("phone"in t){const{phone:c,password:g,options:h}=t;n=yield it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:g,data:h==null?void 0:h.data,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pr})}else throw new zo("You must provide either an email or phone number and a password");const{data:i,error:o}=n;if(o||!i)return{data:{user:null,session:null},error:o};const a=i.session,u=i.user;return i.session&&(yield this._saveSession(i.session),this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithPassword(t){return et(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in t){const{email:a,password:u,options:c}=t;n=yield it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:pr})}else if("phone"in t){const{phone:a,password:u,options:c}=t;n=yield it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:pr})}else throw new zo("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o||!i?{data:{user:null,session:null},error:o}:(i.session&&(yield this._saveSession(i.session),this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:o})}catch(n){if(tt(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(t){var n,i,o;return et(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams})})}signInWithOtp(t){var n,i,o,a;return et(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in t){const{email:u,options:c}=t,{error:g}=yield it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:u,options:c}=t,{error:g}=yield it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(o=c==null?void 0:c.data)!==null&&o!==void 0?o:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null},error:g}}throw new zo("You must provide either an email or phone number.")}catch(u){if(tt(u))return{data:{user:null,session:null},error:u};throw u}})}verifyOtp(t){var n,i;return et(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:o,error:a}=yield it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captchaToken:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,xform:pr});if(a)throw a;if(!o)throw"An error occurred on token verification.";const u=o.session,c=o.user;return u!=null&&u.access_token&&(yield this._saveSession(u),this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(o){if(tt(o))return{data:{user:null,session:null},error:o};throw o}})}getSession(){return et(this,void 0,void 0,function*(){yield this.initializePromise;let t=null;if(this.persistSession){const a=yield Oc(this.storage,this.storageKey);a!==null&&(this._isValidSession(a)?t=a:yield this._removeSession())}else t=this.inMemorySession;if(!t)return{data:{session:null},error:null};if(!(t.expires_at?t.expires_at<=Date.now()/1e3:!1))return{data:{session:t},error:null};const{session:i,error:o}=yield this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}})}getUser(t){var n,i;return et(this,void 0,void 0,function*(){try{if(!t){const{data:o,error:a}=yield this.getSession();if(a)throw a;t=(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0}return yield it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kn})}catch(o){if(tt(o))return{data:{user:null},error:o};throw o}})}updateUser(t){return et(this,void 0,void 0,function*(){try{const{data:n,error:i}=yield this.getSession();if(i)throw i;if(!n.session)throw new Ki;const o=n.session,{data:a,error:u}=yield it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:t,jwt:o.access_token,xform:Kn});if(u)throw u;return o.user=a.user,yield this._saveSession(o),this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}}catch(n){if(tt(n))return{data:{user:null},error:n};throw n}})}setSession(t){return et(this,void 0,void 0,function*(){try{const n=Date.now()/1e3;let i=n,o=!0,a=null;if(t.access_token&&t.access_token.split(".")[1]){const u=JSON.parse(aw(t.access_token.split(".")[1]));u.exp&&(i=u.exp,o=i<=n)}if(o){if(!t.refresh_token)throw new Ki;const{data:u,error:c}=yield this._refreshAccessToken(t.refresh_token);if(c)return{data:{session:null,user:null},error:c};if(!u.session)return{data:{session:null,user:null},error:null};a=u.session}else{const{data:u,error:c}=yield this.getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:i-n,expires_at:i}}return yield this._saveSession(a),this._notifyAllSubscribers("TOKEN_REFRESHED",a),{data:{session:a,user:a.user},error:null}}catch(n){if(tt(n))return{data:{session:null,user:null},error:n};throw n}})}_getSessionFromUrl(){return et(this,void 0,void 0,function*(){try{if(!Zn())throw new wn("No browser detected.");if(!this._isImplicitGrantFlow())throw new wn("Not a valid implicit grant flow url.");const t=Gt("error_description");if(t){const k=Gt("error_code");if(!k)throw new wn("No error_code detected.");const T=Gt("error");throw T?new wn(t,{error:T,code:k}):new wn("No error detected.")}const n=Gt("provider_token"),i=Gt("provider_refresh_token"),o=Gt("access_token");if(!o)throw new wn("No access_token detected.");const a=Gt("expires_in");if(!a)throw new wn("No expires_in detected.");const u=Gt("refresh_token");if(!u)throw new wn("No refresh_token detected.");const c=Gt("token_type");if(!c)throw new wn("No token_type detected.");const h=Math.round(Date.now()/1e3)+parseInt(a),{data:d,error:p}=yield this.getUser(o);if(p)throw p;const y=d.user,w={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:parseInt(a),expires_at:h,refresh_token:u,token_type:c,user:y},x=Gt("type");return window.location.hash="",{data:{session:w,redirectType:x},error:null}}catch(t){if(tt(t))return{data:{session:null,redirectType:null},error:t};throw t}})}_isImplicitGrantFlow(){return Zn()&&(Boolean(Gt("access_token"))||Boolean(Gt("error_description")))}signOut(){var t;return et(this,void 0,void 0,function*(){const{data:n,error:i}=yield this.getSession();if(i)return{error:i};const o=(t=n.session)===null||t===void 0?void 0:t.access_token;if(o){const{error:a}=yield this.admin.signOut(o);if(a)return{error:a}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(t){const n=iw(),i={id:n,callback:t,unsubscribe:()=>{this.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,i),{data:{subscription:i}}}resetPasswordForEmail(t,n={}){return et(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(tt(i))return{data:null,error:i};throw i}})}_refreshAccessToken(t){return et(this,void 0,void 0,function*(){try{return yield it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:pr})}catch(n){if(tt(n))return{data:{session:null,user:null},error:n};throw n}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,n={}){const i=this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return Zn()&&(window.location.href=i),{data:{provider:t,url:i},error:null}}_recoverAndRefresh(){var t;return et(this,void 0,void 0,function*(){try{const n=yield Oc(this.storage,this.storageKey);if(!this._isValidSession(n)){n!==null&&(yield this._removeSession());return}const i=Math.round(Date.now()/1e3);if(((t=n.expires_at)!==null&&t!==void 0?t:1/0)<i+jo)if(this.autoRefreshToken&&n.refresh_token){this.networkRetries++;const{error:o}=yield this._callRefreshToken(n.refresh_token);if(o){if(console.log(o.message),o instanceof ls&&this.networkRetries<Yi.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(Yi.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(n)),this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){console.error(n);return}})}_callRefreshToken(t){var n,i;return et(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new ds,!t)throw new Ki;const{data:o,error:a}=yield this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Ki;yield this._saveSession(o.session),this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(tt(o)){const a={session:null,error:o};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(t,n){this.stateChangeEmitters.forEach(i=>i.callback(t,n))}_saveSession(t){return et(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=t);const n=t.expires_at;if(n){const i=Math.round(Date.now()/1e3),o=n-i,a=o>jo?jo:.5;this._startAutoRefreshToken((o-a)*1e3)}this.persistSession&&t.expires_at&&(yield this._persistSession(t))})}_persistSession(t){return ow(this.storage,this.storageKey,t)}_removeSession(){return et(this,void 0,void 0,function*(){this.persistSession?yield lw(this.storage,this.storageKey):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)})}_startAutoRefreshToken(t){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(t<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>et(this,void 0,void 0,function*(){this.networkRetries++;const{data:{session:n},error:i}=yield this.getSession();if(!i&&n){const{error:o}=yield this._callRefreshToken(n.refresh_token);o||(this.networkRetries=0),o instanceof ls&&this.networkRetries<Yi.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(Yi.RETRY_INTERVAL,this.networkRetries)*100)}}),t),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!Zn()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>et(this,void 0,void 0,function*(){document.visibilityState==="visible"&&(yield this.initializePromise,yield this._recoverAndRefresh())}))}catch(t){console.error("_handleVisibilityChange",t)}}_getUrlForProvider(t,n){const i=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return`${this.url}/authorize?${i.join("&")}`}}class kw extends Aw{constructor(t){super(t)}}var Iw=globalThis&&globalThis.__awaiter||function(s,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function c(d){try{h(i.next(d))}catch(p){u(p)}}function g(d){try{h(i.throw(d))}catch(p){u(p)}}function h(d){d.done?a(d.value):o(d.value).then(c,g)}h((i=i.apply(s,t||[])).next())})};const Sw={headers:Zy},Ow={schema:"public"},Rw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Mw={};class Lw{constructor(t,n,i){var o,a,u,c,g,h,d,p;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const y=tw(t);if(this.realtimeUrl=`${y}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${y}/auth/v1`,this.storageUrl=`${y}/storage/v1`,y.match(/(supabase\.co)|(supabase\.in)/)){const v=y.split(".");this.functionsUrl=`${v[0]}.functions.${v[1]}.${v[2]}`}else this.functionsUrl=`${y}/functions/v1`;const x=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,k={db:Ow,realtime:Mw,auth:Object.assign(Object.assign({},Rw),{storageKey:x}),global:Sw},T=nw(i!=null?i:{},k);this.storageKey=(a=(o=T.auth)===null||o===void 0?void 0:o.storageKey)!==null&&a!==void 0?a:"",this.headers=(c=(u=T.global)===null||u===void 0?void 0:u.headers)!==null&&c!==void 0?c:{},this.auth=this._initSupabaseAuthClient((g=T.auth)!==null&&g!==void 0?g:{},this.headers,(h=T.global)===null||h===void 0?void 0:h.fetch),this.fetch=ew(n,this._getAccessToken.bind(this),(d=T.global)===null||d===void 0?void 0:d.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},T.realtime)),this.rest=new Q1(`${y}/rest/v1`,{headers:this.headers,schema:(p=T.db)===null||p===void 0?void 0:p.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new q1(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Jy(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},i){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Iw(this,void 0,void 0,function*(){const{data:i}=yield this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:a},u,c){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kw({url:this.authUrl,headers:Object.assign(Object.assign({},g),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:o,fetch:c})}_initRealtimeClient(t){return new $y(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,i==null?void 0:i.access_token,"CLIENT")})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n!=null?n:null),this.changedAccessToken=n):(t==="SIGNED_OUT"||t==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),i=="STORAGE"&&this.auth.signOut())}}const Cw=(s,t,n)=>new Lw(s,t,n),Pw="https://dbmtysppmiwwjwaeneex.supabase.co",$w="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibXR5c3BwbWl3d2p3YWVuZWV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDQ5NTI0NDUsImV4cCI6MTk2MDUyODQ0NX0.i_1JrAfv5fieeVaiJrVIQPL6V0_-H9sR-PKIuGDAIfI",ml=Cw(Pw,$w),Dw=async({table:s,data:t})=>{const n=await ml.from(s).insert(t).select();if(n.error)throw console.log(n.error),new Error("insert failed");if(n.data)return n.data},vl=async({table:s,column:t,value:n,id:i})=>{const o=await ml.from(s).update({[t]:n}).eq("id",i);if(o.error)throw console.log(o.error),new Error("update failed");if(o.data)return o.data},yl=async()=>{const s=await ml.from("emotions").select();if(s.error)throw console.log(s.error),new Error("getData failed");if(s.data)return s.data};var el={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(s,t){(function(){var n,i="4.17.21",o=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",c="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",h=500,d="__lodash_placeholder__",p=1,y=2,w=4,x=1,k=2,T=1,v=2,A=4,L=8,I=16,F=32,N=64,z=128,R=256,H=512,Z=30,X="...",ue=800,ie=16,E=1,P=2,U=3,Q=1/0,te=9007199254740991,ee=17976931348623157e292,pe=0/0,_e=4294967295,Ce=_e-1,at=_e>>>1,Ze=[["ary",z],["bind",T],["bindKey",v],["curry",L],["curryRight",I],["flip",H],["partial",F],["partialRight",N],["rearg",R]],st="[object Arguments]",bt="[object Array]",It="[object AsyncFunction]",gt="[object Boolean]",un="[object Date]",Pf="[object DOMException]",ri="[object Error]",ii="[object Function]",xl="[object GeneratorFunction]",Vt="[object Map]",Sr="[object Number]",$f="[object Null]",cn="[object Object]",Al="[object Promise]",Df="[object Proxy]",Or="[object RegExp]",Jt="[object Set]",Rr="[object String]",si="[object Symbol]",Nf="[object Undefined]",Mr="[object WeakMap]",Bf="[object WeakSet]",Lr="[object ArrayBuffer]",Qn="[object DataView]",ps="[object Float32Array]",_s="[object Float64Array]",ms="[object Int8Array]",vs="[object Int16Array]",ys="[object Int32Array]",ws="[object Uint8Array]",bs="[object Uint8ClampedArray]",Es="[object Uint16Array]",Ts="[object Uint32Array]",Uf=/\b__p \+= '';/g,Ff=/\b(__p \+=) '' \+/g,zf=/(__e\(.*?\)|\b__t\)) \+\n'';/g,kl=/&(?:amp|lt|gt|quot|#39);/g,Il=/[&<>"']/g,jf=RegExp(kl.source),Wf=RegExp(Il.source),Hf=/<%-([\s\S]+?)%>/g,Gf=/<%([\s\S]+?)%>/g,Sl=/<%=([\s\S]+?)%>/g,qf=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Vf=/^\w*$/,Jf=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xs=/[\\^$.*+?()[\]{}|]/g,Kf=RegExp(xs.source),As=/^\s+/,Zf=/\s/,Yf=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Xf=/\{\n\/\* \[wrapped with (.+)\] \*/,Qf=/,? & /,eh=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,th=/[()=,{}\[\]\/\s]/,nh=/\\(\\)?/g,rh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ol=/\w*$/,ih=/^[-+]0x[0-9a-f]+$/i,sh=/^0b[01]+$/i,oh=/^\[object .+?Constructor\]$/,lh=/^0o[0-7]+$/i,ah=/^(?:0|[1-9]\d*)$/,uh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oi=/($^)/,ch=/['\n\r\u2028\u2029\\]/g,li="\\ud800-\\udfff",fh="\\u0300-\\u036f",hh="\\ufe20-\\ufe2f",dh="\\u20d0-\\u20ff",Rl=fh+hh+dh,Ml="\\u2700-\\u27bf",Ll="a-z\\xdf-\\xf6\\xf8-\\xff",gh="\\xac\\xb1\\xd7\\xf7",ph="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",_h="\\u2000-\\u206f",mh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Cl="A-Z\\xc0-\\xd6\\xd8-\\xde",Pl="\\ufe0e\\ufe0f",$l=gh+ph+_h+mh,ks="['\u2019]",vh="["+li+"]",Dl="["+$l+"]",ai="["+Rl+"]",Nl="\\d+",yh="["+Ml+"]",Bl="["+Ll+"]",Ul="[^"+li+$l+Nl+Ml+Ll+Cl+"]",Is="\\ud83c[\\udffb-\\udfff]",wh="(?:"+ai+"|"+Is+")",Fl="[^"+li+"]",Ss="(?:\\ud83c[\\udde6-\\uddff]){2}",Os="[\\ud800-\\udbff][\\udc00-\\udfff]",er="["+Cl+"]",zl="\\u200d",jl="(?:"+Bl+"|"+Ul+")",bh="(?:"+er+"|"+Ul+")",Wl="(?:"+ks+"(?:d|ll|m|re|s|t|ve))?",Hl="(?:"+ks+"(?:D|LL|M|RE|S|T|VE))?",Gl=wh+"?",ql="["+Pl+"]?",Eh="(?:"+zl+"(?:"+[Fl,Ss,Os].join("|")+")"+ql+Gl+")*",Th="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vl=ql+Gl+Eh,Ah="(?:"+[yh,Ss,Os].join("|")+")"+Vl,kh="(?:"+[Fl+ai+"?",ai,Ss,Os,vh].join("|")+")",Ih=RegExp(ks,"g"),Sh=RegExp(ai,"g"),Rs=RegExp(Is+"(?="+Is+")|"+kh+Vl,"g"),Oh=RegExp([er+"?"+Bl+"+"+Wl+"(?="+[Dl,er,"$"].join("|")+")",bh+"+"+Hl+"(?="+[Dl,er+jl,"$"].join("|")+")",er+"?"+jl+"+"+Wl,er+"+"+Hl,xh,Th,Nl,Ah].join("|"),"g"),Rh=RegExp("["+zl+li+Rl+Pl+"]"),Mh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Lh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ch=-1,Fe={};Fe[ps]=Fe[_s]=Fe[ms]=Fe[vs]=Fe[ys]=Fe[ws]=Fe[bs]=Fe[Es]=Fe[Ts]=!0,Fe[st]=Fe[bt]=Fe[Lr]=Fe[gt]=Fe[Qn]=Fe[un]=Fe[ri]=Fe[ii]=Fe[Vt]=Fe[Sr]=Fe[cn]=Fe[Or]=Fe[Jt]=Fe[Rr]=Fe[Mr]=!1;var Be={};Be[st]=Be[bt]=Be[Lr]=Be[Qn]=Be[gt]=Be[un]=Be[ps]=Be[_s]=Be[ms]=Be[vs]=Be[ys]=Be[Vt]=Be[Sr]=Be[cn]=Be[Or]=Be[Jt]=Be[Rr]=Be[si]=Be[ws]=Be[bs]=Be[Es]=Be[Ts]=!0,Be[ri]=Be[ii]=Be[Mr]=!1;var Ph={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},$h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Nh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bh=parseFloat,Uh=parseInt,Jl=typeof ln=="object"&&ln&&ln.Object===Object&&ln,Fh=typeof self=="object"&&self&&self.Object===Object&&self,ut=Jl||Fh||Function("return this")(),Ms=t&&!t.nodeType&&t,Dn=Ms&&!0&&s&&!s.nodeType&&s,Kl=Dn&&Dn.exports===Ms,Ls=Kl&&Jl.process,Nt=function(){try{var $=Dn&&Dn.require&&Dn.require("util").types;return $||Ls&&Ls.binding&&Ls.binding("util")}catch{}}(),Zl=Nt&&Nt.isArrayBuffer,Yl=Nt&&Nt.isDate,Xl=Nt&&Nt.isMap,Ql=Nt&&Nt.isRegExp,ea=Nt&&Nt.isSet,ta=Nt&&Nt.isTypedArray;function St($,W,j){switch(j.length){case 0:return $.call(W);case 1:return $.call(W,j[0]);case 2:return $.call(W,j[0],j[1]);case 3:return $.call(W,j[0],j[1],j[2])}return $.apply(W,j)}function zh($,W,j,se){for(var me=-1,Pe=$==null?0:$.length;++me<Pe;){var nt=$[me];W(se,nt,j(nt),$)}return se}function Bt($,W){for(var j=-1,se=$==null?0:$.length;++j<se&&W($[j],j,$)!==!1;);return $}function jh($,W){for(var j=$==null?0:$.length;j--&&W($[j],j,$)!==!1;);return $}function na($,W){for(var j=-1,se=$==null?0:$.length;++j<se;)if(!W($[j],j,$))return!1;return!0}function Tn($,W){for(var j=-1,se=$==null?0:$.length,me=0,Pe=[];++j<se;){var nt=$[j];W(nt,j,$)&&(Pe[me++]=nt)}return Pe}function ui($,W){var j=$==null?0:$.length;return!!j&&tr($,W,0)>-1}function Cs($,W,j){for(var se=-1,me=$==null?0:$.length;++se<me;)if(j(W,$[se]))return!0;return!1}function We($,W){for(var j=-1,se=$==null?0:$.length,me=Array(se);++j<se;)me[j]=W($[j],j,$);return me}function xn($,W){for(var j=-1,se=W.length,me=$.length;++j<se;)$[me+j]=W[j];return $}function Ps($,W,j,se){var me=-1,Pe=$==null?0:$.length;for(se&&Pe&&(j=$[++me]);++me<Pe;)j=W(j,$[me],me,$);return j}function Wh($,W,j,se){var me=$==null?0:$.length;for(se&&me&&(j=$[--me]);me--;)j=W(j,$[me],me,$);return j}function $s($,W){for(var j=-1,se=$==null?0:$.length;++j<se;)if(W($[j],j,$))return!0;return!1}var Hh=Ds("length");function Gh($){return $.split("")}function qh($){return $.match(eh)||[]}function ra($,W,j){var se;return j($,function(me,Pe,nt){if(W(me,Pe,nt))return se=Pe,!1}),se}function ci($,W,j,se){for(var me=$.length,Pe=j+(se?1:-1);se?Pe--:++Pe<me;)if(W($[Pe],Pe,$))return Pe;return-1}function tr($,W,j){return W===W?id($,W,j):ci($,ia,j)}function Vh($,W,j,se){for(var me=j-1,Pe=$.length;++me<Pe;)if(se($[me],W))return me;return-1}function ia($){return $!==$}function sa($,W){var j=$==null?0:$.length;return j?Bs($,W)/j:pe}function Ds($){return function(W){return W==null?n:W[$]}}function Ns($){return function(W){return $==null?n:$[W]}}function oa($,W,j,se,me){return me($,function(Pe,nt,Ne){j=se?(se=!1,Pe):W(j,Pe,nt,Ne)}),j}function Jh($,W){var j=$.length;for($.sort(W);j--;)$[j]=$[j].value;return $}function Bs($,W){for(var j,se=-1,me=$.length;++se<me;){var Pe=W($[se]);Pe!==n&&(j=j===n?Pe:j+Pe)}return j}function Us($,W){for(var j=-1,se=Array($);++j<$;)se[j]=W(j);return se}function Kh($,W){return We(W,function(j){return[j,$[j]]})}function la($){return $&&$.slice(0,fa($)+1).replace(As,"")}function Ot($){return function(W){return $(W)}}function Fs($,W){return We(W,function(j){return $[j]})}function Cr($,W){return $.has(W)}function aa($,W){for(var j=-1,se=$.length;++j<se&&tr(W,$[j],0)>-1;);return j}function ua($,W){for(var j=$.length;j--&&tr(W,$[j],0)>-1;);return j}function Zh($,W){for(var j=$.length,se=0;j--;)$[j]===W&&++se;return se}var Yh=Ns(Ph),Xh=Ns($h);function Qh($){return"\\"+Nh[$]}function ed($,W){return $==null?n:$[W]}function nr($){return Rh.test($)}function td($){return Mh.test($)}function nd($){for(var W,j=[];!(W=$.next()).done;)j.push(W.value);return j}function zs($){var W=-1,j=Array($.size);return $.forEach(function(se,me){j[++W]=[me,se]}),j}function ca($,W){return function(j){return $(W(j))}}function An($,W){for(var j=-1,se=$.length,me=0,Pe=[];++j<se;){var nt=$[j];(nt===W||nt===d)&&($[j]=d,Pe[me++]=j)}return Pe}function fi($){var W=-1,j=Array($.size);return $.forEach(function(se){j[++W]=se}),j}function rd($){var W=-1,j=Array($.size);return $.forEach(function(se){j[++W]=[se,se]}),j}function id($,W,j){for(var se=j-1,me=$.length;++se<me;)if($[se]===W)return se;return-1}function sd($,W,j){for(var se=j+1;se--;)if($[se]===W)return se;return se}function rr($){return nr($)?ld($):Hh($)}function Kt($){return nr($)?ad($):Gh($)}function fa($){for(var W=$.length;W--&&Zf.test($.charAt(W)););return W}var od=Ns(Dh);function ld($){for(var W=Rs.lastIndex=0;Rs.test($);)++W;return W}function ad($){return $.match(Rs)||[]}function ud($){return $.match(Oh)||[]}var cd=function $(W){W=W==null?ut:ir.defaults(ut.Object(),W,ir.pick(ut,Lh));var j=W.Array,se=W.Date,me=W.Error,Pe=W.Function,nt=W.Math,Ne=W.Object,js=W.RegExp,fd=W.String,Ut=W.TypeError,hi=j.prototype,hd=Pe.prototype,sr=Ne.prototype,di=W["__core-js_shared__"],gi=hd.toString,De=sr.hasOwnProperty,dd=0,ha=function(){var e=/[^.]+$/.exec(di&&di.keys&&di.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),pi=sr.toString,gd=gi.call(Ne),pd=ut._,_d=js("^"+gi.call(De).replace(xs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_i=Kl?W.Buffer:n,kn=W.Symbol,mi=W.Uint8Array,da=_i?_i.allocUnsafe:n,vi=ca(Ne.getPrototypeOf,Ne),ga=Ne.create,pa=sr.propertyIsEnumerable,yi=hi.splice,_a=kn?kn.isConcatSpreadable:n,Pr=kn?kn.iterator:n,Nn=kn?kn.toStringTag:n,wi=function(){try{var e=jn(Ne,"defineProperty");return e({},"",{}),e}catch{}}(),md=W.clearTimeout!==ut.clearTimeout&&W.clearTimeout,vd=se&&se.now!==ut.Date.now&&se.now,yd=W.setTimeout!==ut.setTimeout&&W.setTimeout,bi=nt.ceil,Ei=nt.floor,Ws=Ne.getOwnPropertySymbols,wd=_i?_i.isBuffer:n,ma=W.isFinite,bd=hi.join,Ed=ca(Ne.keys,Ne),rt=nt.max,ft=nt.min,Td=se.now,xd=W.parseInt,va=nt.random,Ad=hi.reverse,Hs=jn(W,"DataView"),$r=jn(W,"Map"),Gs=jn(W,"Promise"),or=jn(W,"Set"),Dr=jn(W,"WeakMap"),Nr=jn(Ne,"create"),Ti=Dr&&new Dr,lr={},kd=Wn(Hs),Id=Wn($r),Sd=Wn(Gs),Od=Wn(or),Rd=Wn(Dr),xi=kn?kn.prototype:n,Br=xi?xi.valueOf:n,ya=xi?xi.toString:n;function m(e){if(Ye(e)&&!ve(e)&&!(e instanceof Ae)){if(e instanceof Ft)return e;if(De.call(e,"__wrapped__"))return wu(e)}return new Ft(e)}var ar=function(){function e(){}return function(r){if(!Ge(r))return{};if(ga)return ga(r);e.prototype=r;var l=new e;return e.prototype=n,l}}();function Ai(){}function Ft(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=n}m.templateSettings={escape:Hf,evaluate:Gf,interpolate:Sl,variable:"",imports:{_:m}},m.prototype=Ai.prototype,m.prototype.constructor=m,Ft.prototype=ar(Ai.prototype),Ft.prototype.constructor=Ft;function Ae(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=_e,this.__views__=[]}function Md(){var e=new Ae(this.__wrapped__);return e.__actions__=Et(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Et(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Et(this.__views__),e}function Ld(){if(this.__filtered__){var e=new Ae(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Cd(){var e=this.__wrapped__.value(),r=this.__dir__,l=ve(e),f=r<0,_=l?e.length:0,b=Gg(0,_,this.__views__),S=b.start,M=b.end,D=M-S,V=f?M:S-1,J=this.__iteratees__,Y=J.length,ne=0,ae=ft(D,this.__takeCount__);if(!l||!f&&_==D&&ae==D)return Wa(e,this.__actions__);var de=[];e:for(;D--&&ne<ae;){V+=r;for(var be=-1,ge=e[V];++be<Y;){var xe=J[be],Se=xe.iteratee,Lt=xe.type,mt=Se(ge);if(Lt==P)ge=mt;else if(!mt){if(Lt==E)continue e;break e}}de[ne++]=ge}return de}Ae.prototype=ar(Ai.prototype),Ae.prototype.constructor=Ae;function Bn(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var f=e[r];this.set(f[0],f[1])}}function Pd(){this.__data__=Nr?Nr(null):{},this.size=0}function $d(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function Dd(e){var r=this.__data__;if(Nr){var l=r[e];return l===g?n:l}return De.call(r,e)?r[e]:n}function Nd(e){var r=this.__data__;return Nr?r[e]!==n:De.call(r,e)}function Bd(e,r){var l=this.__data__;return this.size+=this.has(e)?0:1,l[e]=Nr&&r===n?g:r,this}Bn.prototype.clear=Pd,Bn.prototype.delete=$d,Bn.prototype.get=Dd,Bn.prototype.has=Nd,Bn.prototype.set=Bd;function fn(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var f=e[r];this.set(f[0],f[1])}}function Ud(){this.__data__=[],this.size=0}function Fd(e){var r=this.__data__,l=ki(r,e);if(l<0)return!1;var f=r.length-1;return l==f?r.pop():yi.call(r,l,1),--this.size,!0}function zd(e){var r=this.__data__,l=ki(r,e);return l<0?n:r[l][1]}function jd(e){return ki(this.__data__,e)>-1}function Wd(e,r){var l=this.__data__,f=ki(l,e);return f<0?(++this.size,l.push([e,r])):l[f][1]=r,this}fn.prototype.clear=Ud,fn.prototype.delete=Fd,fn.prototype.get=zd,fn.prototype.has=jd,fn.prototype.set=Wd;function hn(e){var r=-1,l=e==null?0:e.length;for(this.clear();++r<l;){var f=e[r];this.set(f[0],f[1])}}function Hd(){this.size=0,this.__data__={hash:new Bn,map:new($r||fn),string:new Bn}}function Gd(e){var r=Bi(this,e).delete(e);return this.size-=r?1:0,r}function qd(e){return Bi(this,e).get(e)}function Vd(e){return Bi(this,e).has(e)}function Jd(e,r){var l=Bi(this,e),f=l.size;return l.set(e,r),this.size+=l.size==f?0:1,this}hn.prototype.clear=Hd,hn.prototype.delete=Gd,hn.prototype.get=qd,hn.prototype.has=Vd,hn.prototype.set=Jd;function Un(e){var r=-1,l=e==null?0:e.length;for(this.__data__=new hn;++r<l;)this.add(e[r])}function Kd(e){return this.__data__.set(e,g),this}function Zd(e){return this.__data__.has(e)}Un.prototype.add=Un.prototype.push=Kd,Un.prototype.has=Zd;function Zt(e){var r=this.__data__=new fn(e);this.size=r.size}function Yd(){this.__data__=new fn,this.size=0}function Xd(e){var r=this.__data__,l=r.delete(e);return this.size=r.size,l}function Qd(e){return this.__data__.get(e)}function eg(e){return this.__data__.has(e)}function tg(e,r){var l=this.__data__;if(l instanceof fn){var f=l.__data__;if(!$r||f.length<o-1)return f.push([e,r]),this.size=++l.size,this;l=this.__data__=new hn(f)}return l.set(e,r),this.size=l.size,this}Zt.prototype.clear=Yd,Zt.prototype.delete=Xd,Zt.prototype.get=Qd,Zt.prototype.has=eg,Zt.prototype.set=tg;function wa(e,r){var l=ve(e),f=!l&&Hn(e),_=!l&&!f&&Mn(e),b=!l&&!f&&!_&&hr(e),S=l||f||_||b,M=S?Us(e.length,fd):[],D=M.length;for(var V in e)(r||De.call(e,V))&&!(S&&(V=="length"||_&&(V=="offset"||V=="parent")||b&&(V=="buffer"||V=="byteLength"||V=="byteOffset")||_n(V,D)))&&M.push(V);return M}function ba(e){var r=e.length;return r?e[no(0,r-1)]:n}function ng(e,r){return Ui(Et(e),Fn(r,0,e.length))}function rg(e){return Ui(Et(e))}function qs(e,r,l){(l!==n&&!Yt(e[r],l)||l===n&&!(r in e))&&dn(e,r,l)}function Ur(e,r,l){var f=e[r];(!(De.call(e,r)&&Yt(f,l))||l===n&&!(r in e))&&dn(e,r,l)}function ki(e,r){for(var l=e.length;l--;)if(Yt(e[l][0],r))return l;return-1}function ig(e,r,l,f){return In(e,function(_,b,S){r(f,_,l(_),S)}),f}function Ea(e,r){return e&&rn(r,ot(r),e)}function sg(e,r){return e&&rn(r,xt(r),e)}function dn(e,r,l){r=="__proto__"&&wi?wi(e,r,{configurable:!0,enumerable:!0,value:l,writable:!0}):e[r]=l}function Vs(e,r){for(var l=-1,f=r.length,_=j(f),b=e==null;++l<f;)_[l]=b?n:So(e,r[l]);return _}function Fn(e,r,l){return e===e&&(l!==n&&(e=e<=l?e:l),r!==n&&(e=e>=r?e:r)),e}function zt(e,r,l,f,_,b){var S,M=r&p,D=r&y,V=r&w;if(l&&(S=_?l(e,f,_,b):l(e)),S!==n)return S;if(!Ge(e))return e;var J=ve(e);if(J){if(S=Vg(e),!M)return Et(e,S)}else{var Y=ht(e),ne=Y==ii||Y==xl;if(Mn(e))return qa(e,M);if(Y==cn||Y==st||ne&&!_){if(S=D||ne?{}:fu(e),!M)return D?Dg(e,sg(S,e)):$g(e,Ea(S,e))}else{if(!Be[Y])return _?e:{};S=Jg(e,Y,M)}}b||(b=new Zt);var ae=b.get(e);if(ae)return ae;b.set(e,S),Fu(e)?e.forEach(function(ge){S.add(zt(ge,r,l,ge,e,b))}):Bu(e)&&e.forEach(function(ge,xe){S.set(xe,zt(ge,r,l,xe,e,b))});var de=V?D?go:ho:D?xt:ot,be=J?n:de(e);return Bt(be||e,function(ge,xe){be&&(xe=ge,ge=e[xe]),Ur(S,xe,zt(ge,r,l,xe,e,b))}),S}function og(e){var r=ot(e);return function(l){return Ta(l,e,r)}}function Ta(e,r,l){var f=l.length;if(e==null)return!f;for(e=Ne(e);f--;){var _=l[f],b=r[_],S=e[_];if(S===n&&!(_ in e)||!b(S))return!1}return!0}function xa(e,r,l){if(typeof e!="function")throw new Ut(u);return qr(function(){e.apply(n,l)},r)}function Fr(e,r,l,f){var _=-1,b=ui,S=!0,M=e.length,D=[],V=r.length;if(!M)return D;l&&(r=We(r,Ot(l))),f?(b=Cs,S=!1):r.length>=o&&(b=Cr,S=!1,r=new Un(r));e:for(;++_<M;){var J=e[_],Y=l==null?J:l(J);if(J=f||J!==0?J:0,S&&Y===Y){for(var ne=V;ne--;)if(r[ne]===Y)continue e;D.push(J)}else b(r,Y,f)||D.push(J)}return D}var In=Ya(nn),Aa=Ya(Ks,!0);function lg(e,r){var l=!0;return In(e,function(f,_,b){return l=!!r(f,_,b),l}),l}function Ii(e,r,l){for(var f=-1,_=e.length;++f<_;){var b=e[f],S=r(b);if(S!=null&&(M===n?S===S&&!Mt(S):l(S,M)))var M=S,D=b}return D}function ag(e,r,l,f){var _=e.length;for(l=we(l),l<0&&(l=-l>_?0:_+l),f=f===n||f>_?_:we(f),f<0&&(f+=_),f=l>f?0:ju(f);l<f;)e[l++]=r;return e}function ka(e,r){var l=[];return In(e,function(f,_,b){r(f,_,b)&&l.push(f)}),l}function ct(e,r,l,f,_){var b=-1,S=e.length;for(l||(l=Zg),_||(_=[]);++b<S;){var M=e[b];r>0&&l(M)?r>1?ct(M,r-1,l,f,_):xn(_,M):f||(_[_.length]=M)}return _}var Js=Xa(),Ia=Xa(!0);function nn(e,r){return e&&Js(e,r,ot)}function Ks(e,r){return e&&Ia(e,r,ot)}function Si(e,r){return Tn(r,function(l){return mn(e[l])})}function zn(e,r){r=On(r,e);for(var l=0,f=r.length;e!=null&&l<f;)e=e[sn(r[l++])];return l&&l==f?e:n}function Sa(e,r,l){var f=r(e);return ve(e)?f:xn(f,l(e))}function pt(e){return e==null?e===n?Nf:$f:Nn&&Nn in Ne(e)?Hg(e):rp(e)}function Zs(e,r){return e>r}function ug(e,r){return e!=null&&De.call(e,r)}function cg(e,r){return e!=null&&r in Ne(e)}function fg(e,r,l){return e>=ft(r,l)&&e<rt(r,l)}function Ys(e,r,l){for(var f=l?Cs:ui,_=e[0].length,b=e.length,S=b,M=j(b),D=1/0,V=[];S--;){var J=e[S];S&&r&&(J=We(J,Ot(r))),D=ft(J.length,D),M[S]=!l&&(r||_>=120&&J.length>=120)?new Un(S&&J):n}J=e[0];var Y=-1,ne=M[0];e:for(;++Y<_&&V.length<D;){var ae=J[Y],de=r?r(ae):ae;if(ae=l||ae!==0?ae:0,!(ne?Cr(ne,de):f(V,de,l))){for(S=b;--S;){var be=M[S];if(!(be?Cr(be,de):f(e[S],de,l)))continue e}ne&&ne.push(de),V.push(ae)}}return V}function hg(e,r,l,f){return nn(e,function(_,b,S){r(f,l(_),b,S)}),f}function zr(e,r,l){r=On(r,e),e=pu(e,r);var f=e==null?e:e[sn(Wt(r))];return f==null?n:St(f,e,l)}function Oa(e){return Ye(e)&&pt(e)==st}function dg(e){return Ye(e)&&pt(e)==Lr}function gg(e){return Ye(e)&&pt(e)==un}function jr(e,r,l,f,_){return e===r?!0:e==null||r==null||!Ye(e)&&!Ye(r)?e!==e&&r!==r:pg(e,r,l,f,jr,_)}function pg(e,r,l,f,_,b){var S=ve(e),M=ve(r),D=S?bt:ht(e),V=M?bt:ht(r);D=D==st?cn:D,V=V==st?cn:V;var J=D==cn,Y=V==cn,ne=D==V;if(ne&&Mn(e)){if(!Mn(r))return!1;S=!0,J=!1}if(ne&&!J)return b||(b=new Zt),S||hr(e)?au(e,r,l,f,_,b):jg(e,r,D,l,f,_,b);if(!(l&x)){var ae=J&&De.call(e,"__wrapped__"),de=Y&&De.call(r,"__wrapped__");if(ae||de){var be=ae?e.value():e,ge=de?r.value():r;return b||(b=new Zt),_(be,ge,l,f,b)}}return ne?(b||(b=new Zt),Wg(e,r,l,f,_,b)):!1}function _g(e){return Ye(e)&&ht(e)==Vt}function Xs(e,r,l,f){var _=l.length,b=_,S=!f;if(e==null)return!b;for(e=Ne(e);_--;){var M=l[_];if(S&&M[2]?M[1]!==e[M[0]]:!(M[0]in e))return!1}for(;++_<b;){M=l[_];var D=M[0],V=e[D],J=M[1];if(S&&M[2]){if(V===n&&!(D in e))return!1}else{var Y=new Zt;if(f)var ne=f(V,J,D,e,r,Y);if(!(ne===n?jr(J,V,x|k,f,Y):ne))return!1}}return!0}function Ra(e){if(!Ge(e)||Xg(e))return!1;var r=mn(e)?_d:oh;return r.test(Wn(e))}function mg(e){return Ye(e)&&pt(e)==Or}function vg(e){return Ye(e)&&ht(e)==Jt}function yg(e){return Ye(e)&&Gi(e.length)&&!!Fe[pt(e)]}function Ma(e){return typeof e=="function"?e:e==null?At:typeof e=="object"?ve(e)?Pa(e[0],e[1]):Ca(e):Qu(e)}function Qs(e){if(!Gr(e))return Ed(e);var r=[];for(var l in Ne(e))De.call(e,l)&&l!="constructor"&&r.push(l);return r}function wg(e){if(!Ge(e))return np(e);var r=Gr(e),l=[];for(var f in e)f=="constructor"&&(r||!De.call(e,f))||l.push(f);return l}function eo(e,r){return e<r}function La(e,r){var l=-1,f=Tt(e)?j(e.length):[];return In(e,function(_,b,S){f[++l]=r(_,b,S)}),f}function Ca(e){var r=_o(e);return r.length==1&&r[0][2]?du(r[0][0],r[0][1]):function(l){return l===e||Xs(l,e,r)}}function Pa(e,r){return vo(e)&&hu(r)?du(sn(e),r):function(l){var f=So(l,e);return f===n&&f===r?Oo(l,e):jr(r,f,x|k)}}function Oi(e,r,l,f,_){e!==r&&Js(r,function(b,S){if(_||(_=new Zt),Ge(b))bg(e,r,S,l,Oi,f,_);else{var M=f?f(wo(e,S),b,S+"",e,r,_):n;M===n&&(M=b),qs(e,S,M)}},xt)}function bg(e,r,l,f,_,b,S){var M=wo(e,l),D=wo(r,l),V=S.get(D);if(V){qs(e,l,V);return}var J=b?b(M,D,l+"",e,r,S):n,Y=J===n;if(Y){var ne=ve(D),ae=!ne&&Mn(D),de=!ne&&!ae&&hr(D);J=D,ne||ae||de?ve(M)?J=M:Xe(M)?J=Et(M):ae?(Y=!1,J=qa(D,!0)):de?(Y=!1,J=Va(D,!0)):J=[]:Vr(D)||Hn(D)?(J=M,Hn(M)?J=Wu(M):(!Ge(M)||mn(M))&&(J=fu(D))):Y=!1}Y&&(S.set(D,J),_(J,D,f,b,S),S.delete(D)),qs(e,l,J)}function $a(e,r){var l=e.length;if(!!l)return r+=r<0?l:0,_n(r,l)?e[r]:n}function Da(e,r,l){r.length?r=We(r,function(b){return ve(b)?function(S){return zn(S,b.length===1?b[0]:b)}:b}):r=[At];var f=-1;r=We(r,Ot(he()));var _=La(e,function(b,S,M){var D=We(r,function(V){return V(b)});return{criteria:D,index:++f,value:b}});return Jh(_,function(b,S){return Pg(b,S,l)})}function Eg(e,r){return Na(e,r,function(l,f){return Oo(e,f)})}function Na(e,r,l){for(var f=-1,_=r.length,b={};++f<_;){var S=r[f],M=zn(e,S);l(M,S)&&Wr(b,On(S,e),M)}return b}function Tg(e){return function(r){return zn(r,e)}}function to(e,r,l,f){var _=f?Vh:tr,b=-1,S=r.length,M=e;for(e===r&&(r=Et(r)),l&&(M=We(e,Ot(l)));++b<S;)for(var D=0,V=r[b],J=l?l(V):V;(D=_(M,J,D,f))>-1;)M!==e&&yi.call(M,D,1),yi.call(e,D,1);return e}function Ba(e,r){for(var l=e?r.length:0,f=l-1;l--;){var _=r[l];if(l==f||_!==b){var b=_;_n(_)?yi.call(e,_,1):so(e,_)}}return e}function no(e,r){return e+Ei(va()*(r-e+1))}function xg(e,r,l,f){for(var _=-1,b=rt(bi((r-e)/(l||1)),0),S=j(b);b--;)S[f?b:++_]=e,e+=l;return S}function ro(e,r){var l="";if(!e||r<1||r>te)return l;do r%2&&(l+=e),r=Ei(r/2),r&&(e+=e);while(r);return l}function Ee(e,r){return bo(gu(e,r,At),e+"")}function Ag(e){return ba(dr(e))}function kg(e,r){var l=dr(e);return Ui(l,Fn(r,0,l.length))}function Wr(e,r,l,f){if(!Ge(e))return e;r=On(r,e);for(var _=-1,b=r.length,S=b-1,M=e;M!=null&&++_<b;){var D=sn(r[_]),V=l;if(D==="__proto__"||D==="constructor"||D==="prototype")return e;if(_!=S){var J=M[D];V=f?f(J,D,M):n,V===n&&(V=Ge(J)?J:_n(r[_+1])?[]:{})}Ur(M,D,V),M=M[D]}return e}var Ua=Ti?function(e,r){return Ti.set(e,r),e}:At,Ig=wi?function(e,r){return wi(e,"toString",{configurable:!0,enumerable:!1,value:Mo(r),writable:!0})}:At;function Sg(e){return Ui(dr(e))}function jt(e,r,l){var f=-1,_=e.length;r<0&&(r=-r>_?0:_+r),l=l>_?_:l,l<0&&(l+=_),_=r>l?0:l-r>>>0,r>>>=0;for(var b=j(_);++f<_;)b[f]=e[f+r];return b}function Og(e,r){var l;return In(e,function(f,_,b){return l=r(f,_,b),!l}),!!l}function Ri(e,r,l){var f=0,_=e==null?f:e.length;if(typeof r=="number"&&r===r&&_<=at){for(;f<_;){var b=f+_>>>1,S=e[b];S!==null&&!Mt(S)&&(l?S<=r:S<r)?f=b+1:_=b}return _}return io(e,r,At,l)}function io(e,r,l,f){var _=0,b=e==null?0:e.length;if(b===0)return 0;r=l(r);for(var S=r!==r,M=r===null,D=Mt(r),V=r===n;_<b;){var J=Ei((_+b)/2),Y=l(e[J]),ne=Y!==n,ae=Y===null,de=Y===Y,be=Mt(Y);if(S)var ge=f||de;else V?ge=de&&(f||ne):M?ge=de&&ne&&(f||!ae):D?ge=de&&ne&&!ae&&(f||!be):ae||be?ge=!1:ge=f?Y<=r:Y<r;ge?_=J+1:b=J}return ft(b,Ce)}function Fa(e,r){for(var l=-1,f=e.length,_=0,b=[];++l<f;){var S=e[l],M=r?r(S):S;if(!l||!Yt(M,D)){var D=M;b[_++]=S===0?0:S}}return b}function za(e){return typeof e=="number"?e:Mt(e)?pe:+e}function Rt(e){if(typeof e=="string")return e;if(ve(e))return We(e,Rt)+"";if(Mt(e))return ya?ya.call(e):"";var r=e+"";return r=="0"&&1/e==-Q?"-0":r}function Sn(e,r,l){var f=-1,_=ui,b=e.length,S=!0,M=[],D=M;if(l)S=!1,_=Cs;else if(b>=o){var V=r?null:Fg(e);if(V)return fi(V);S=!1,_=Cr,D=new Un}else D=r?[]:M;e:for(;++f<b;){var J=e[f],Y=r?r(J):J;if(J=l||J!==0?J:0,S&&Y===Y){for(var ne=D.length;ne--;)if(D[ne]===Y)continue e;r&&D.push(Y),M.push(J)}else _(D,Y,l)||(D!==M&&D.push(Y),M.push(J))}return M}function so(e,r){return r=On(r,e),e=pu(e,r),e==null||delete e[sn(Wt(r))]}function ja(e,r,l,f){return Wr(e,r,l(zn(e,r)),f)}function Mi(e,r,l,f){for(var _=e.length,b=f?_:-1;(f?b--:++b<_)&&r(e[b],b,e););return l?jt(e,f?0:b,f?b+1:_):jt(e,f?b+1:0,f?_:b)}function Wa(e,r){var l=e;return l instanceof Ae&&(l=l.value()),Ps(r,function(f,_){return _.func.apply(_.thisArg,xn([f],_.args))},l)}function oo(e,r,l){var f=e.length;if(f<2)return f?Sn(e[0]):[];for(var _=-1,b=j(f);++_<f;)for(var S=e[_],M=-1;++M<f;)M!=_&&(b[_]=Fr(b[_]||S,e[M],r,l));return Sn(ct(b,1),r,l)}function Ha(e,r,l){for(var f=-1,_=e.length,b=r.length,S={};++f<_;){var M=f<b?r[f]:n;l(S,e[f],M)}return S}function lo(e){return Xe(e)?e:[]}function ao(e){return typeof e=="function"?e:At}function On(e,r){return ve(e)?e:vo(e,r)?[e]:yu($e(e))}var Rg=Ee;function Rn(e,r,l){var f=e.length;return l=l===n?f:l,!r&&l>=f?e:jt(e,r,l)}var Ga=md||function(e){return ut.clearTimeout(e)};function qa(e,r){if(r)return e.slice();var l=e.length,f=da?da(l):new e.constructor(l);return e.copy(f),f}function uo(e){var r=new e.constructor(e.byteLength);return new mi(r).set(new mi(e)),r}function Mg(e,r){var l=r?uo(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.byteLength)}function Lg(e){var r=new e.constructor(e.source,Ol.exec(e));return r.lastIndex=e.lastIndex,r}function Cg(e){return Br?Ne(Br.call(e)):{}}function Va(e,r){var l=r?uo(e.buffer):e.buffer;return new e.constructor(l,e.byteOffset,e.length)}function Ja(e,r){if(e!==r){var l=e!==n,f=e===null,_=e===e,b=Mt(e),S=r!==n,M=r===null,D=r===r,V=Mt(r);if(!M&&!V&&!b&&e>r||b&&S&&D&&!M&&!V||f&&S&&D||!l&&D||!_)return 1;if(!f&&!b&&!V&&e<r||V&&l&&_&&!f&&!b||M&&l&&_||!S&&_||!D)return-1}return 0}function Pg(e,r,l){for(var f=-1,_=e.criteria,b=r.criteria,S=_.length,M=l.length;++f<S;){var D=Ja(_[f],b[f]);if(D){if(f>=M)return D;var V=l[f];return D*(V=="desc"?-1:1)}}return e.index-r.index}function Ka(e,r,l,f){for(var _=-1,b=e.length,S=l.length,M=-1,D=r.length,V=rt(b-S,0),J=j(D+V),Y=!f;++M<D;)J[M]=r[M];for(;++_<S;)(Y||_<b)&&(J[l[_]]=e[_]);for(;V--;)J[M++]=e[_++];return J}function Za(e,r,l,f){for(var _=-1,b=e.length,S=-1,M=l.length,D=-1,V=r.length,J=rt(b-M,0),Y=j(J+V),ne=!f;++_<J;)Y[_]=e[_];for(var ae=_;++D<V;)Y[ae+D]=r[D];for(;++S<M;)(ne||_<b)&&(Y[ae+l[S]]=e[_++]);return Y}function Et(e,r){var l=-1,f=e.length;for(r||(r=j(f));++l<f;)r[l]=e[l];return r}function rn(e,r,l,f){var _=!l;l||(l={});for(var b=-1,S=r.length;++b<S;){var M=r[b],D=f?f(l[M],e[M],M,l,e):n;D===n&&(D=e[M]),_?dn(l,M,D):Ur(l,M,D)}return l}function $g(e,r){return rn(e,mo(e),r)}function Dg(e,r){return rn(e,uu(e),r)}function Li(e,r){return function(l,f){var _=ve(l)?zh:ig,b=r?r():{};return _(l,e,he(f,2),b)}}function ur(e){return Ee(function(r,l){var f=-1,_=l.length,b=_>1?l[_-1]:n,S=_>2?l[2]:n;for(b=e.length>3&&typeof b=="function"?(_--,b):n,S&&_t(l[0],l[1],S)&&(b=_<3?n:b,_=1),r=Ne(r);++f<_;){var M=l[f];M&&e(r,M,f,b)}return r})}function Ya(e,r){return function(l,f){if(l==null)return l;if(!Tt(l))return e(l,f);for(var _=l.length,b=r?_:-1,S=Ne(l);(r?b--:++b<_)&&f(S[b],b,S)!==!1;);return l}}function Xa(e){return function(r,l,f){for(var _=-1,b=Ne(r),S=f(r),M=S.length;M--;){var D=S[e?M:++_];if(l(b[D],D,b)===!1)break}return r}}function Ng(e,r,l){var f=r&T,_=Hr(e);function b(){var S=this&&this!==ut&&this instanceof b?_:e;return S.apply(f?l:this,arguments)}return b}function Qa(e){return function(r){r=$e(r);var l=nr(r)?Kt(r):n,f=l?l[0]:r.charAt(0),_=l?Rn(l,1).join(""):r.slice(1);return f[e]()+_}}function cr(e){return function(r){return Ps(Yu(Zu(r).replace(Ih,"")),e,"")}}function Hr(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var l=ar(e.prototype),f=e.apply(l,r);return Ge(f)?f:l}}function Bg(e,r,l){var f=Hr(e);function _(){for(var b=arguments.length,S=j(b),M=b,D=fr(_);M--;)S[M]=arguments[M];var V=b<3&&S[0]!==D&&S[b-1]!==D?[]:An(S,D);if(b-=V.length,b<l)return iu(e,r,Ci,_.placeholder,n,S,V,n,n,l-b);var J=this&&this!==ut&&this instanceof _?f:e;return St(J,this,S)}return _}function eu(e){return function(r,l,f){var _=Ne(r);if(!Tt(r)){var b=he(l,3);r=ot(r),l=function(M){return b(_[M],M,_)}}var S=e(r,l,f);return S>-1?_[b?r[S]:S]:n}}function tu(e){return pn(function(r){var l=r.length,f=l,_=Ft.prototype.thru;for(e&&r.reverse();f--;){var b=r[f];if(typeof b!="function")throw new Ut(u);if(_&&!S&&Ni(b)=="wrapper")var S=new Ft([],!0)}for(f=S?f:l;++f<l;){b=r[f];var M=Ni(b),D=M=="wrapper"?po(b):n;D&&yo(D[0])&&D[1]==(z|L|F|R)&&!D[4].length&&D[9]==1?S=S[Ni(D[0])].apply(S,D[3]):S=b.length==1&&yo(b)?S[M]():S.thru(b)}return function(){var V=arguments,J=V[0];if(S&&V.length==1&&ve(J))return S.plant(J).value();for(var Y=0,ne=l?r[Y].apply(this,V):J;++Y<l;)ne=r[Y].call(this,ne);return ne}})}function Ci(e,r,l,f,_,b,S,M,D,V){var J=r&z,Y=r&T,ne=r&v,ae=r&(L|I),de=r&H,be=ne?n:Hr(e);function ge(){for(var xe=arguments.length,Se=j(xe),Lt=xe;Lt--;)Se[Lt]=arguments[Lt];if(ae)var mt=fr(ge),Ct=Zh(Se,mt);if(f&&(Se=Ka(Se,f,_,ae)),b&&(Se=Za(Se,b,S,ae)),xe-=Ct,ae&&xe<V){var Qe=An(Se,mt);return iu(e,r,Ci,ge.placeholder,l,Se,Qe,M,D,V-xe)}var Xt=Y?l:this,yn=ne?Xt[e]:e;return xe=Se.length,M?Se=ip(Se,M):de&&xe>1&&Se.reverse(),J&&D<xe&&(Se.length=D),this&&this!==ut&&this instanceof ge&&(yn=be||Hr(yn)),yn.apply(Xt,Se)}return ge}function nu(e,r){return function(l,f){return hg(l,e,r(f),{})}}function Pi(e,r){return function(l,f){var _;if(l===n&&f===n)return r;if(l!==n&&(_=l),f!==n){if(_===n)return f;typeof l=="string"||typeof f=="string"?(l=Rt(l),f=Rt(f)):(l=za(l),f=za(f)),_=e(l,f)}return _}}function co(e){return pn(function(r){return r=We(r,Ot(he())),Ee(function(l){var f=this;return e(r,function(_){return St(_,f,l)})})})}function $i(e,r){r=r===n?" ":Rt(r);var l=r.length;if(l<2)return l?ro(r,e):r;var f=ro(r,bi(e/rr(r)));return nr(r)?Rn(Kt(f),0,e).join(""):f.slice(0,e)}function Ug(e,r,l,f){var _=r&T,b=Hr(e);function S(){for(var M=-1,D=arguments.length,V=-1,J=f.length,Y=j(J+D),ne=this&&this!==ut&&this instanceof S?b:e;++V<J;)Y[V]=f[V];for(;D--;)Y[V++]=arguments[++M];return St(ne,_?l:this,Y)}return S}function ru(e){return function(r,l,f){return f&&typeof f!="number"&&_t(r,l,f)&&(l=f=n),r=vn(r),l===n?(l=r,r=0):l=vn(l),f=f===n?r<l?1:-1:vn(f),xg(r,l,f,e)}}function Di(e){return function(r,l){return typeof r=="string"&&typeof l=="string"||(r=Ht(r),l=Ht(l)),e(r,l)}}function iu(e,r,l,f,_,b,S,M,D,V){var J=r&L,Y=J?S:n,ne=J?n:S,ae=J?b:n,de=J?n:b;r|=J?F:N,r&=~(J?N:F),r&A||(r&=~(T|v));var be=[e,r,_,ae,Y,de,ne,M,D,V],ge=l.apply(n,be);return yo(e)&&_u(ge,be),ge.placeholder=f,mu(ge,e,r)}function fo(e){var r=nt[e];return function(l,f){if(l=Ht(l),f=f==null?0:ft(we(f),292),f&&ma(l)){var _=($e(l)+"e").split("e"),b=r(_[0]+"e"+(+_[1]+f));return _=($e(b)+"e").split("e"),+(_[0]+"e"+(+_[1]-f))}return r(l)}}var Fg=or&&1/fi(new or([,-0]))[1]==Q?function(e){return new or(e)}:Po;function su(e){return function(r){var l=ht(r);return l==Vt?zs(r):l==Jt?rd(r):Kh(r,e(r))}}function gn(e,r,l,f,_,b,S,M){var D=r&v;if(!D&&typeof e!="function")throw new Ut(u);var V=f?f.length:0;if(V||(r&=~(F|N),f=_=n),S=S===n?S:rt(we(S),0),M=M===n?M:we(M),V-=_?_.length:0,r&N){var J=f,Y=_;f=_=n}var ne=D?n:po(e),ae=[e,r,l,f,_,J,Y,b,S,M];if(ne&&tp(ae,ne),e=ae[0],r=ae[1],l=ae[2],f=ae[3],_=ae[4],M=ae[9]=ae[9]===n?D?0:e.length:rt(ae[9]-V,0),!M&&r&(L|I)&&(r&=~(L|I)),!r||r==T)var de=Ng(e,r,l);else r==L||r==I?de=Bg(e,r,M):(r==F||r==(T|F))&&!_.length?de=Ug(e,r,l,f):de=Ci.apply(n,ae);var be=ne?Ua:_u;return mu(be(de,ae),e,r)}function ou(e,r,l,f){return e===n||Yt(e,sr[l])&&!De.call(f,l)?r:e}function lu(e,r,l,f,_,b){return Ge(e)&&Ge(r)&&(b.set(r,e),Oi(e,r,n,lu,b),b.delete(r)),e}function zg(e){return Vr(e)?n:e}function au(e,r,l,f,_,b){var S=l&x,M=e.length,D=r.length;if(M!=D&&!(S&&D>M))return!1;var V=b.get(e),J=b.get(r);if(V&&J)return V==r&&J==e;var Y=-1,ne=!0,ae=l&k?new Un:n;for(b.set(e,r),b.set(r,e);++Y<M;){var de=e[Y],be=r[Y];if(f)var ge=S?f(be,de,Y,r,e,b):f(de,be,Y,e,r,b);if(ge!==n){if(ge)continue;ne=!1;break}if(ae){if(!$s(r,function(xe,Se){if(!Cr(ae,Se)&&(de===xe||_(de,xe,l,f,b)))return ae.push(Se)})){ne=!1;break}}else if(!(de===be||_(de,be,l,f,b))){ne=!1;break}}return b.delete(e),b.delete(r),ne}function jg(e,r,l,f,_,b,S){switch(l){case Qn:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Lr:return!(e.byteLength!=r.byteLength||!b(new mi(e),new mi(r)));case gt:case un:case Sr:return Yt(+e,+r);case ri:return e.name==r.name&&e.message==r.message;case Or:case Rr:return e==r+"";case Vt:var M=zs;case Jt:var D=f&x;if(M||(M=fi),e.size!=r.size&&!D)return!1;var V=S.get(e);if(V)return V==r;f|=k,S.set(e,r);var J=au(M(e),M(r),f,_,b,S);return S.delete(e),J;case si:if(Br)return Br.call(e)==Br.call(r)}return!1}function Wg(e,r,l,f,_,b){var S=l&x,M=ho(e),D=M.length,V=ho(r),J=V.length;if(D!=J&&!S)return!1;for(var Y=D;Y--;){var ne=M[Y];if(!(S?ne in r:De.call(r,ne)))return!1}var ae=b.get(e),de=b.get(r);if(ae&&de)return ae==r&&de==e;var be=!0;b.set(e,r),b.set(r,e);for(var ge=S;++Y<D;){ne=M[Y];var xe=e[ne],Se=r[ne];if(f)var Lt=S?f(Se,xe,ne,r,e,b):f(xe,Se,ne,e,r,b);if(!(Lt===n?xe===Se||_(xe,Se,l,f,b):Lt)){be=!1;break}ge||(ge=ne=="constructor")}if(be&&!ge){var mt=e.constructor,Ct=r.constructor;mt!=Ct&&"constructor"in e&&"constructor"in r&&!(typeof mt=="function"&&mt instanceof mt&&typeof Ct=="function"&&Ct instanceof Ct)&&(be=!1)}return b.delete(e),b.delete(r),be}function pn(e){return bo(gu(e,n,Tu),e+"")}function ho(e){return Sa(e,ot,mo)}function go(e){return Sa(e,xt,uu)}var po=Ti?function(e){return Ti.get(e)}:Po;function Ni(e){for(var r=e.name+"",l=lr[r],f=De.call(lr,r)?l.length:0;f--;){var _=l[f],b=_.func;if(b==null||b==e)return _.name}return r}function fr(e){var r=De.call(m,"placeholder")?m:e;return r.placeholder}function he(){var e=m.iteratee||Lo;return e=e===Lo?Ma:e,arguments.length?e(arguments[0],arguments[1]):e}function Bi(e,r){var l=e.__data__;return Yg(r)?l[typeof r=="string"?"string":"hash"]:l.map}function _o(e){for(var r=ot(e),l=r.length;l--;){var f=r[l],_=e[f];r[l]=[f,_,hu(_)]}return r}function jn(e,r){var l=ed(e,r);return Ra(l)?l:n}function Hg(e){var r=De.call(e,Nn),l=e[Nn];try{e[Nn]=n;var f=!0}catch{}var _=pi.call(e);return f&&(r?e[Nn]=l:delete e[Nn]),_}var mo=Ws?function(e){return e==null?[]:(e=Ne(e),Tn(Ws(e),function(r){return pa.call(e,r)}))}:$o,uu=Ws?function(e){for(var r=[];e;)xn(r,mo(e)),e=vi(e);return r}:$o,ht=pt;(Hs&&ht(new Hs(new ArrayBuffer(1)))!=Qn||$r&&ht(new $r)!=Vt||Gs&&ht(Gs.resolve())!=Al||or&&ht(new or)!=Jt||Dr&&ht(new Dr)!=Mr)&&(ht=function(e){var r=pt(e),l=r==cn?e.constructor:n,f=l?Wn(l):"";if(f)switch(f){case kd:return Qn;case Id:return Vt;case Sd:return Al;case Od:return Jt;case Rd:return Mr}return r});function Gg(e,r,l){for(var f=-1,_=l.length;++f<_;){var b=l[f],S=b.size;switch(b.type){case"drop":e+=S;break;case"dropRight":r-=S;break;case"take":r=ft(r,e+S);break;case"takeRight":e=rt(e,r-S);break}}return{start:e,end:r}}function qg(e){var r=e.match(Xf);return r?r[1].split(Qf):[]}function cu(e,r,l){r=On(r,e);for(var f=-1,_=r.length,b=!1;++f<_;){var S=sn(r[f]);if(!(b=e!=null&&l(e,S)))break;e=e[S]}return b||++f!=_?b:(_=e==null?0:e.length,!!_&&Gi(_)&&_n(S,_)&&(ve(e)||Hn(e)))}function Vg(e){var r=e.length,l=new e.constructor(r);return r&&typeof e[0]=="string"&&De.call(e,"index")&&(l.index=e.index,l.input=e.input),l}function fu(e){return typeof e.constructor=="function"&&!Gr(e)?ar(vi(e)):{}}function Jg(e,r,l){var f=e.constructor;switch(r){case Lr:return uo(e);case gt:case un:return new f(+e);case Qn:return Mg(e,l);case ps:case _s:case ms:case vs:case ys:case ws:case bs:case Es:case Ts:return Va(e,l);case Vt:return new f;case Sr:case Rr:return new f(e);case Or:return Lg(e);case Jt:return new f;case si:return Cg(e)}}function Kg(e,r){var l=r.length;if(!l)return e;var f=l-1;return r[f]=(l>1?"& ":"")+r[f],r=r.join(l>2?", ":" "),e.replace(Yf,`{
/* [wrapped with `+r+`] */
`)}function Zg(e){return ve(e)||Hn(e)||!!(_a&&e&&e[_a])}function _n(e,r){var l=typeof e;return r=r==null?te:r,!!r&&(l=="number"||l!="symbol"&&ah.test(e))&&e>-1&&e%1==0&&e<r}function _t(e,r,l){if(!Ge(l))return!1;var f=typeof r;return(f=="number"?Tt(l)&&_n(r,l.length):f=="string"&&r in l)?Yt(l[r],e):!1}function vo(e,r){if(ve(e))return!1;var l=typeof e;return l=="number"||l=="symbol"||l=="boolean"||e==null||Mt(e)?!0:Vf.test(e)||!qf.test(e)||r!=null&&e in Ne(r)}function Yg(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function yo(e){var r=Ni(e),l=m[r];if(typeof l!="function"||!(r in Ae.prototype))return!1;if(e===l)return!0;var f=po(l);return!!f&&e===f[0]}function Xg(e){return!!ha&&ha in e}var Qg=di?mn:Do;function Gr(e){var r=e&&e.constructor,l=typeof r=="function"&&r.prototype||sr;return e===l}function hu(e){return e===e&&!Ge(e)}function du(e,r){return function(l){return l==null?!1:l[e]===r&&(r!==n||e in Ne(l))}}function ep(e){var r=Wi(e,function(f){return l.size===h&&l.clear(),f}),l=r.cache;return r}function tp(e,r){var l=e[1],f=r[1],_=l|f,b=_<(T|v|z),S=f==z&&l==L||f==z&&l==R&&e[7].length<=r[8]||f==(z|R)&&r[7].length<=r[8]&&l==L;if(!(b||S))return e;f&T&&(e[2]=r[2],_|=l&T?0:A);var M=r[3];if(M){var D=e[3];e[3]=D?Ka(D,M,r[4]):M,e[4]=D?An(e[3],d):r[4]}return M=r[5],M&&(D=e[5],e[5]=D?Za(D,M,r[6]):M,e[6]=D?An(e[5],d):r[6]),M=r[7],M&&(e[7]=M),f&z&&(e[8]=e[8]==null?r[8]:ft(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=_,e}function np(e){var r=[];if(e!=null)for(var l in Ne(e))r.push(l);return r}function rp(e){return pi.call(e)}function gu(e,r,l){return r=rt(r===n?e.length-1:r,0),function(){for(var f=arguments,_=-1,b=rt(f.length-r,0),S=j(b);++_<b;)S[_]=f[r+_];_=-1;for(var M=j(r+1);++_<r;)M[_]=f[_];return M[r]=l(S),St(e,this,M)}}function pu(e,r){return r.length<2?e:zn(e,jt(r,0,-1))}function ip(e,r){for(var l=e.length,f=ft(r.length,l),_=Et(e);f--;){var b=r[f];e[f]=_n(b,l)?_[b]:n}return e}function wo(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var _u=vu(Ua),qr=yd||function(e,r){return ut.setTimeout(e,r)},bo=vu(Ig);function mu(e,r,l){var f=r+"";return bo(e,Kg(f,sp(qg(f),l)))}function vu(e){var r=0,l=0;return function(){var f=Td(),_=ie-(f-l);if(l=f,_>0){if(++r>=ue)return arguments[0]}else r=0;return e.apply(n,arguments)}}function Ui(e,r){var l=-1,f=e.length,_=f-1;for(r=r===n?f:r;++l<r;){var b=no(l,_),S=e[b];e[b]=e[l],e[l]=S}return e.length=r,e}var yu=ep(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Jf,function(l,f,_,b){r.push(_?b.replace(nh,"$1"):f||l)}),r});function sn(e){if(typeof e=="string"||Mt(e))return e;var r=e+"";return r=="0"&&1/e==-Q?"-0":r}function Wn(e){if(e!=null){try{return gi.call(e)}catch{}try{return e+""}catch{}}return""}function sp(e,r){return Bt(Ze,function(l){var f="_."+l[0];r&l[1]&&!ui(e,f)&&e.push(f)}),e.sort()}function wu(e){if(e instanceof Ae)return e.clone();var r=new Ft(e.__wrapped__,e.__chain__);return r.__actions__=Et(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}function op(e,r,l){(l?_t(e,r,l):r===n)?r=1:r=rt(we(r),0);var f=e==null?0:e.length;if(!f||r<1)return[];for(var _=0,b=0,S=j(bi(f/r));_<f;)S[b++]=jt(e,_,_+=r);return S}function lp(e){for(var r=-1,l=e==null?0:e.length,f=0,_=[];++r<l;){var b=e[r];b&&(_[f++]=b)}return _}function ap(){var e=arguments.length;if(!e)return[];for(var r=j(e-1),l=arguments[0],f=e;f--;)r[f-1]=arguments[f];return xn(ve(l)?Et(l):[l],ct(r,1))}var up=Ee(function(e,r){return Xe(e)?Fr(e,ct(r,1,Xe,!0)):[]}),cp=Ee(function(e,r){var l=Wt(r);return Xe(l)&&(l=n),Xe(e)?Fr(e,ct(r,1,Xe,!0),he(l,2)):[]}),fp=Ee(function(e,r){var l=Wt(r);return Xe(l)&&(l=n),Xe(e)?Fr(e,ct(r,1,Xe,!0),n,l):[]});function hp(e,r,l){var f=e==null?0:e.length;return f?(r=l||r===n?1:we(r),jt(e,r<0?0:r,f)):[]}function dp(e,r,l){var f=e==null?0:e.length;return f?(r=l||r===n?1:we(r),r=f-r,jt(e,0,r<0?0:r)):[]}function gp(e,r){return e&&e.length?Mi(e,he(r,3),!0,!0):[]}function pp(e,r){return e&&e.length?Mi(e,he(r,3),!0):[]}function _p(e,r,l,f){var _=e==null?0:e.length;return _?(l&&typeof l!="number"&&_t(e,r,l)&&(l=0,f=_),ag(e,r,l,f)):[]}function bu(e,r,l){var f=e==null?0:e.length;if(!f)return-1;var _=l==null?0:we(l);return _<0&&(_=rt(f+_,0)),ci(e,he(r,3),_)}function Eu(e,r,l){var f=e==null?0:e.length;if(!f)return-1;var _=f-1;return l!==n&&(_=we(l),_=l<0?rt(f+_,0):ft(_,f-1)),ci(e,he(r,3),_,!0)}function Tu(e){var r=e==null?0:e.length;return r?ct(e,1):[]}function mp(e){var r=e==null?0:e.length;return r?ct(e,Q):[]}function vp(e,r){var l=e==null?0:e.length;return l?(r=r===n?1:we(r),ct(e,r)):[]}function yp(e){for(var r=-1,l=e==null?0:e.length,f={};++r<l;){var _=e[r];f[_[0]]=_[1]}return f}function xu(e){return e&&e.length?e[0]:n}function wp(e,r,l){var f=e==null?0:e.length;if(!f)return-1;var _=l==null?0:we(l);return _<0&&(_=rt(f+_,0)),tr(e,r,_)}function bp(e){var r=e==null?0:e.length;return r?jt(e,0,-1):[]}var Ep=Ee(function(e){var r=We(e,lo);return r.length&&r[0]===e[0]?Ys(r):[]}),Tp=Ee(function(e){var r=Wt(e),l=We(e,lo);return r===Wt(l)?r=n:l.pop(),l.length&&l[0]===e[0]?Ys(l,he(r,2)):[]}),xp=Ee(function(e){var r=Wt(e),l=We(e,lo);return r=typeof r=="function"?r:n,r&&l.pop(),l.length&&l[0]===e[0]?Ys(l,n,r):[]});function Ap(e,r){return e==null?"":bd.call(e,r)}function Wt(e){var r=e==null?0:e.length;return r?e[r-1]:n}function kp(e,r,l){var f=e==null?0:e.length;if(!f)return-1;var _=f;return l!==n&&(_=we(l),_=_<0?rt(f+_,0):ft(_,f-1)),r===r?sd(e,r,_):ci(e,ia,_,!0)}function Ip(e,r){return e&&e.length?$a(e,we(r)):n}var Sp=Ee(Au);function Au(e,r){return e&&e.length&&r&&r.length?to(e,r):e}function Op(e,r,l){return e&&e.length&&r&&r.length?to(e,r,he(l,2)):e}function Rp(e,r,l){return e&&e.length&&r&&r.length?to(e,r,n,l):e}var Mp=pn(function(e,r){var l=e==null?0:e.length,f=Vs(e,r);return Ba(e,We(r,function(_){return _n(_,l)?+_:_}).sort(Ja)),f});function Lp(e,r){var l=[];if(!(e&&e.length))return l;var f=-1,_=[],b=e.length;for(r=he(r,3);++f<b;){var S=e[f];r(S,f,e)&&(l.push(S),_.push(f))}return Ba(e,_),l}function Eo(e){return e==null?e:Ad.call(e)}function Cp(e,r,l){var f=e==null?0:e.length;return f?(l&&typeof l!="number"&&_t(e,r,l)?(r=0,l=f):(r=r==null?0:we(r),l=l===n?f:we(l)),jt(e,r,l)):[]}function Pp(e,r){return Ri(e,r)}function $p(e,r,l){return io(e,r,he(l,2))}function Dp(e,r){var l=e==null?0:e.length;if(l){var f=Ri(e,r);if(f<l&&Yt(e[f],r))return f}return-1}function Np(e,r){return Ri(e,r,!0)}function Bp(e,r,l){return io(e,r,he(l,2),!0)}function Up(e,r){var l=e==null?0:e.length;if(l){var f=Ri(e,r,!0)-1;if(Yt(e[f],r))return f}return-1}function Fp(e){return e&&e.length?Fa(e):[]}function zp(e,r){return e&&e.length?Fa(e,he(r,2)):[]}function jp(e){var r=e==null?0:e.length;return r?jt(e,1,r):[]}function Wp(e,r,l){return e&&e.length?(r=l||r===n?1:we(r),jt(e,0,r<0?0:r)):[]}function Hp(e,r,l){var f=e==null?0:e.length;return f?(r=l||r===n?1:we(r),r=f-r,jt(e,r<0?0:r,f)):[]}function Gp(e,r){return e&&e.length?Mi(e,he(r,3),!1,!0):[]}function qp(e,r){return e&&e.length?Mi(e,he(r,3)):[]}var Vp=Ee(function(e){return Sn(ct(e,1,Xe,!0))}),Jp=Ee(function(e){var r=Wt(e);return Xe(r)&&(r=n),Sn(ct(e,1,Xe,!0),he(r,2))}),Kp=Ee(function(e){var r=Wt(e);return r=typeof r=="function"?r:n,Sn(ct(e,1,Xe,!0),n,r)});function Zp(e){return e&&e.length?Sn(e):[]}function Yp(e,r){return e&&e.length?Sn(e,he(r,2)):[]}function Xp(e,r){return r=typeof r=="function"?r:n,e&&e.length?Sn(e,n,r):[]}function To(e){if(!(e&&e.length))return[];var r=0;return e=Tn(e,function(l){if(Xe(l))return r=rt(l.length,r),!0}),Us(r,function(l){return We(e,Ds(l))})}function ku(e,r){if(!(e&&e.length))return[];var l=To(e);return r==null?l:We(l,function(f){return St(r,n,f)})}var Qp=Ee(function(e,r){return Xe(e)?Fr(e,r):[]}),e_=Ee(function(e){return oo(Tn(e,Xe))}),t_=Ee(function(e){var r=Wt(e);return Xe(r)&&(r=n),oo(Tn(e,Xe),he(r,2))}),n_=Ee(function(e){var r=Wt(e);return r=typeof r=="function"?r:n,oo(Tn(e,Xe),n,r)}),r_=Ee(To);function i_(e,r){return Ha(e||[],r||[],Ur)}function s_(e,r){return Ha(e||[],r||[],Wr)}var o_=Ee(function(e){var r=e.length,l=r>1?e[r-1]:n;return l=typeof l=="function"?(e.pop(),l):n,ku(e,l)});function Iu(e){var r=m(e);return r.__chain__=!0,r}function l_(e,r){return r(e),e}function Fi(e,r){return r(e)}var a_=pn(function(e){var r=e.length,l=r?e[0]:0,f=this.__wrapped__,_=function(b){return Vs(b,e)};return r>1||this.__actions__.length||!(f instanceof Ae)||!_n(l)?this.thru(_):(f=f.slice(l,+l+(r?1:0)),f.__actions__.push({func:Fi,args:[_],thisArg:n}),new Ft(f,this.__chain__).thru(function(b){return r&&!b.length&&b.push(n),b}))});function u_(){return Iu(this)}function c_(){return new Ft(this.value(),this.__chain__)}function f_(){this.__values__===n&&(this.__values__=zu(this.value()));var e=this.__index__>=this.__values__.length,r=e?n:this.__values__[this.__index__++];return{done:e,value:r}}function h_(){return this}function d_(e){for(var r,l=this;l instanceof Ai;){var f=wu(l);f.__index__=0,f.__values__=n,r?_.__wrapped__=f:r=f;var _=f;l=l.__wrapped__}return _.__wrapped__=e,r}function g_(){var e=this.__wrapped__;if(e instanceof Ae){var r=e;return this.__actions__.length&&(r=new Ae(this)),r=r.reverse(),r.__actions__.push({func:Fi,args:[Eo],thisArg:n}),new Ft(r,this.__chain__)}return this.thru(Eo)}function p_(){return Wa(this.__wrapped__,this.__actions__)}var __=Li(function(e,r,l){De.call(e,l)?++e[l]:dn(e,l,1)});function m_(e,r,l){var f=ve(e)?na:lg;return l&&_t(e,r,l)&&(r=n),f(e,he(r,3))}function v_(e,r){var l=ve(e)?Tn:ka;return l(e,he(r,3))}var y_=eu(bu),w_=eu(Eu);function b_(e,r){return ct(zi(e,r),1)}function E_(e,r){return ct(zi(e,r),Q)}function T_(e,r,l){return l=l===n?1:we(l),ct(zi(e,r),l)}function Su(e,r){var l=ve(e)?Bt:In;return l(e,he(r,3))}function Ou(e,r){var l=ve(e)?jh:Aa;return l(e,he(r,3))}var x_=Li(function(e,r,l){De.call(e,l)?e[l].push(r):dn(e,l,[r])});function A_(e,r,l,f){e=Tt(e)?e:dr(e),l=l&&!f?we(l):0;var _=e.length;return l<0&&(l=rt(_+l,0)),qi(e)?l<=_&&e.indexOf(r,l)>-1:!!_&&tr(e,r,l)>-1}var k_=Ee(function(e,r,l){var f=-1,_=typeof r=="function",b=Tt(e)?j(e.length):[];return In(e,function(S){b[++f]=_?St(r,S,l):zr(S,r,l)}),b}),I_=Li(function(e,r,l){dn(e,l,r)});function zi(e,r){var l=ve(e)?We:La;return l(e,he(r,3))}function S_(e,r,l,f){return e==null?[]:(ve(r)||(r=r==null?[]:[r]),l=f?n:l,ve(l)||(l=l==null?[]:[l]),Da(e,r,l))}var O_=Li(function(e,r,l){e[l?0:1].push(r)},function(){return[[],[]]});function R_(e,r,l){var f=ve(e)?Ps:oa,_=arguments.length<3;return f(e,he(r,4),l,_,In)}function M_(e,r,l){var f=ve(e)?Wh:oa,_=arguments.length<3;return f(e,he(r,4),l,_,Aa)}function L_(e,r){var l=ve(e)?Tn:ka;return l(e,Hi(he(r,3)))}function C_(e){var r=ve(e)?ba:Ag;return r(e)}function P_(e,r,l){(l?_t(e,r,l):r===n)?r=1:r=we(r);var f=ve(e)?ng:kg;return f(e,r)}function $_(e){var r=ve(e)?rg:Sg;return r(e)}function D_(e){if(e==null)return 0;if(Tt(e))return qi(e)?rr(e):e.length;var r=ht(e);return r==Vt||r==Jt?e.size:Qs(e).length}function N_(e,r,l){var f=ve(e)?$s:Og;return l&&_t(e,r,l)&&(r=n),f(e,he(r,3))}var B_=Ee(function(e,r){if(e==null)return[];var l=r.length;return l>1&&_t(e,r[0],r[1])?r=[]:l>2&&_t(r[0],r[1],r[2])&&(r=[r[0]]),Da(e,ct(r,1),[])}),ji=vd||function(){return ut.Date.now()};function U_(e,r){if(typeof r!="function")throw new Ut(u);return e=we(e),function(){if(--e<1)return r.apply(this,arguments)}}function Ru(e,r,l){return r=l?n:r,r=e&&r==null?e.length:r,gn(e,z,n,n,n,n,r)}function Mu(e,r){var l;if(typeof r!="function")throw new Ut(u);return e=we(e),function(){return--e>0&&(l=r.apply(this,arguments)),e<=1&&(r=n),l}}var xo=Ee(function(e,r,l){var f=T;if(l.length){var _=An(l,fr(xo));f|=F}return gn(e,f,r,l,_)}),Lu=Ee(function(e,r,l){var f=T|v;if(l.length){var _=An(l,fr(Lu));f|=F}return gn(r,f,e,l,_)});function Cu(e,r,l){r=l?n:r;var f=gn(e,L,n,n,n,n,n,r);return f.placeholder=Cu.placeholder,f}function Pu(e,r,l){r=l?n:r;var f=gn(e,I,n,n,n,n,n,r);return f.placeholder=Pu.placeholder,f}function $u(e,r,l){var f,_,b,S,M,D,V=0,J=!1,Y=!1,ne=!0;if(typeof e!="function")throw new Ut(u);r=Ht(r)||0,Ge(l)&&(J=!!l.leading,Y="maxWait"in l,b=Y?rt(Ht(l.maxWait)||0,r):b,ne="trailing"in l?!!l.trailing:ne);function ae(Qe){var Xt=f,yn=_;return f=_=n,V=Qe,S=e.apply(yn,Xt),S}function de(Qe){return V=Qe,M=qr(xe,r),J?ae(Qe):S}function be(Qe){var Xt=Qe-D,yn=Qe-V,ec=r-Xt;return Y?ft(ec,b-yn):ec}function ge(Qe){var Xt=Qe-D,yn=Qe-V;return D===n||Xt>=r||Xt<0||Y&&yn>=b}function xe(){var Qe=ji();if(ge(Qe))return Se(Qe);M=qr(xe,be(Qe))}function Se(Qe){return M=n,ne&&f?ae(Qe):(f=_=n,S)}function Lt(){M!==n&&Ga(M),V=0,f=D=_=M=n}function mt(){return M===n?S:Se(ji())}function Ct(){var Qe=ji(),Xt=ge(Qe);if(f=arguments,_=this,D=Qe,Xt){if(M===n)return de(D);if(Y)return Ga(M),M=qr(xe,r),ae(D)}return M===n&&(M=qr(xe,r)),S}return Ct.cancel=Lt,Ct.flush=mt,Ct}var F_=Ee(function(e,r){return xa(e,1,r)}),z_=Ee(function(e,r,l){return xa(e,Ht(r)||0,l)});function j_(e){return gn(e,H)}function Wi(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new Ut(u);var l=function(){var f=arguments,_=r?r.apply(this,f):f[0],b=l.cache;if(b.has(_))return b.get(_);var S=e.apply(this,f);return l.cache=b.set(_,S)||b,S};return l.cache=new(Wi.Cache||hn),l}Wi.Cache=hn;function Hi(e){if(typeof e!="function")throw new Ut(u);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function W_(e){return Mu(2,e)}var H_=Rg(function(e,r){r=r.length==1&&ve(r[0])?We(r[0],Ot(he())):We(ct(r,1),Ot(he()));var l=r.length;return Ee(function(f){for(var _=-1,b=ft(f.length,l);++_<b;)f[_]=r[_].call(this,f[_]);return St(e,this,f)})}),Ao=Ee(function(e,r){var l=An(r,fr(Ao));return gn(e,F,n,r,l)}),Du=Ee(function(e,r){var l=An(r,fr(Du));return gn(e,N,n,r,l)}),G_=pn(function(e,r){return gn(e,R,n,n,n,r)});function q_(e,r){if(typeof e!="function")throw new Ut(u);return r=r===n?r:we(r),Ee(e,r)}function V_(e,r){if(typeof e!="function")throw new Ut(u);return r=r==null?0:rt(we(r),0),Ee(function(l){var f=l[r],_=Rn(l,0,r);return f&&xn(_,f),St(e,this,_)})}function J_(e,r,l){var f=!0,_=!0;if(typeof e!="function")throw new Ut(u);return Ge(l)&&(f="leading"in l?!!l.leading:f,_="trailing"in l?!!l.trailing:_),$u(e,r,{leading:f,maxWait:r,trailing:_})}function K_(e){return Ru(e,1)}function Z_(e,r){return Ao(ao(r),e)}function Y_(){if(!arguments.length)return[];var e=arguments[0];return ve(e)?e:[e]}function X_(e){return zt(e,w)}function Q_(e,r){return r=typeof r=="function"?r:n,zt(e,w,r)}function e0(e){return zt(e,p|w)}function t0(e,r){return r=typeof r=="function"?r:n,zt(e,p|w,r)}function n0(e,r){return r==null||Ta(e,r,ot(r))}function Yt(e,r){return e===r||e!==e&&r!==r}var r0=Di(Zs),i0=Di(function(e,r){return e>=r}),Hn=Oa(function(){return arguments}())?Oa:function(e){return Ye(e)&&De.call(e,"callee")&&!pa.call(e,"callee")},ve=j.isArray,s0=Zl?Ot(Zl):dg;function Tt(e){return e!=null&&Gi(e.length)&&!mn(e)}function Xe(e){return Ye(e)&&Tt(e)}function o0(e){return e===!0||e===!1||Ye(e)&&pt(e)==gt}var Mn=wd||Do,l0=Yl?Ot(Yl):gg;function a0(e){return Ye(e)&&e.nodeType===1&&!Vr(e)}function u0(e){if(e==null)return!0;if(Tt(e)&&(ve(e)||typeof e=="string"||typeof e.splice=="function"||Mn(e)||hr(e)||Hn(e)))return!e.length;var r=ht(e);if(r==Vt||r==Jt)return!e.size;if(Gr(e))return!Qs(e).length;for(var l in e)if(De.call(e,l))return!1;return!0}function c0(e,r){return jr(e,r)}function f0(e,r,l){l=typeof l=="function"?l:n;var f=l?l(e,r):n;return f===n?jr(e,r,n,l):!!f}function ko(e){if(!Ye(e))return!1;var r=pt(e);return r==ri||r==Pf||typeof e.message=="string"&&typeof e.name=="string"&&!Vr(e)}function h0(e){return typeof e=="number"&&ma(e)}function mn(e){if(!Ge(e))return!1;var r=pt(e);return r==ii||r==xl||r==It||r==Df}function Nu(e){return typeof e=="number"&&e==we(e)}function Gi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=te}function Ge(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function Ye(e){return e!=null&&typeof e=="object"}var Bu=Xl?Ot(Xl):_g;function d0(e,r){return e===r||Xs(e,r,_o(r))}function g0(e,r,l){return l=typeof l=="function"?l:n,Xs(e,r,_o(r),l)}function p0(e){return Uu(e)&&e!=+e}function _0(e){if(Qg(e))throw new me(a);return Ra(e)}function m0(e){return e===null}function v0(e){return e==null}function Uu(e){return typeof e=="number"||Ye(e)&&pt(e)==Sr}function Vr(e){if(!Ye(e)||pt(e)!=cn)return!1;var r=vi(e);if(r===null)return!0;var l=De.call(r,"constructor")&&r.constructor;return typeof l=="function"&&l instanceof l&&gi.call(l)==gd}var Io=Ql?Ot(Ql):mg;function y0(e){return Nu(e)&&e>=-te&&e<=te}var Fu=ea?Ot(ea):vg;function qi(e){return typeof e=="string"||!ve(e)&&Ye(e)&&pt(e)==Rr}function Mt(e){return typeof e=="symbol"||Ye(e)&&pt(e)==si}var hr=ta?Ot(ta):yg;function w0(e){return e===n}function b0(e){return Ye(e)&&ht(e)==Mr}function E0(e){return Ye(e)&&pt(e)==Bf}var T0=Di(eo),x0=Di(function(e,r){return e<=r});function zu(e){if(!e)return[];if(Tt(e))return qi(e)?Kt(e):Et(e);if(Pr&&e[Pr])return nd(e[Pr]());var r=ht(e),l=r==Vt?zs:r==Jt?fi:dr;return l(e)}function vn(e){if(!e)return e===0?e:0;if(e=Ht(e),e===Q||e===-Q){var r=e<0?-1:1;return r*ee}return e===e?e:0}function we(e){var r=vn(e),l=r%1;return r===r?l?r-l:r:0}function ju(e){return e?Fn(we(e),0,_e):0}function Ht(e){if(typeof e=="number")return e;if(Mt(e))return pe;if(Ge(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Ge(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=la(e);var l=sh.test(e);return l||lh.test(e)?Uh(e.slice(2),l?2:8):ih.test(e)?pe:+e}function Wu(e){return rn(e,xt(e))}function A0(e){return e?Fn(we(e),-te,te):e===0?e:0}function $e(e){return e==null?"":Rt(e)}var k0=ur(function(e,r){if(Gr(r)||Tt(r)){rn(r,ot(r),e);return}for(var l in r)De.call(r,l)&&Ur(e,l,r[l])}),Hu=ur(function(e,r){rn(r,xt(r),e)}),Vi=ur(function(e,r,l,f){rn(r,xt(r),e,f)}),I0=ur(function(e,r,l,f){rn(r,ot(r),e,f)}),S0=pn(Vs);function O0(e,r){var l=ar(e);return r==null?l:Ea(l,r)}var R0=Ee(function(e,r){e=Ne(e);var l=-1,f=r.length,_=f>2?r[2]:n;for(_&&_t(r[0],r[1],_)&&(f=1);++l<f;)for(var b=r[l],S=xt(b),M=-1,D=S.length;++M<D;){var V=S[M],J=e[V];(J===n||Yt(J,sr[V])&&!De.call(e,V))&&(e[V]=b[V])}return e}),M0=Ee(function(e){return e.push(n,lu),St(Gu,n,e)});function L0(e,r){return ra(e,he(r,3),nn)}function C0(e,r){return ra(e,he(r,3),Ks)}function P0(e,r){return e==null?e:Js(e,he(r,3),xt)}function $0(e,r){return e==null?e:Ia(e,he(r,3),xt)}function D0(e,r){return e&&nn(e,he(r,3))}function N0(e,r){return e&&Ks(e,he(r,3))}function B0(e){return e==null?[]:Si(e,ot(e))}function U0(e){return e==null?[]:Si(e,xt(e))}function So(e,r,l){var f=e==null?n:zn(e,r);return f===n?l:f}function F0(e,r){return e!=null&&cu(e,r,ug)}function Oo(e,r){return e!=null&&cu(e,r,cg)}var z0=nu(function(e,r,l){r!=null&&typeof r.toString!="function"&&(r=pi.call(r)),e[r]=l},Mo(At)),j0=nu(function(e,r,l){r!=null&&typeof r.toString!="function"&&(r=pi.call(r)),De.call(e,r)?e[r].push(l):e[r]=[l]},he),W0=Ee(zr);function ot(e){return Tt(e)?wa(e):Qs(e)}function xt(e){return Tt(e)?wa(e,!0):wg(e)}function H0(e,r){var l={};return r=he(r,3),nn(e,function(f,_,b){dn(l,r(f,_,b),f)}),l}function G0(e,r){var l={};return r=he(r,3),nn(e,function(f,_,b){dn(l,_,r(f,_,b))}),l}var q0=ur(function(e,r,l){Oi(e,r,l)}),Gu=ur(function(e,r,l,f){Oi(e,r,l,f)}),V0=pn(function(e,r){var l={};if(e==null)return l;var f=!1;r=We(r,function(b){return b=On(b,e),f||(f=b.length>1),b}),rn(e,go(e),l),f&&(l=zt(l,p|y|w,zg));for(var _=r.length;_--;)so(l,r[_]);return l});function J0(e,r){return qu(e,Hi(he(r)))}var K0=pn(function(e,r){return e==null?{}:Eg(e,r)});function qu(e,r){if(e==null)return{};var l=We(go(e),function(f){return[f]});return r=he(r),Na(e,l,function(f,_){return r(f,_[0])})}function Z0(e,r,l){r=On(r,e);var f=-1,_=r.length;for(_||(_=1,e=n);++f<_;){var b=e==null?n:e[sn(r[f])];b===n&&(f=_,b=l),e=mn(b)?b.call(e):b}return e}function Y0(e,r,l){return e==null?e:Wr(e,r,l)}function X0(e,r,l,f){return f=typeof f=="function"?f:n,e==null?e:Wr(e,r,l,f)}var Vu=su(ot),Ju=su(xt);function Q0(e,r,l){var f=ve(e),_=f||Mn(e)||hr(e);if(r=he(r,4),l==null){var b=e&&e.constructor;_?l=f?new b:[]:Ge(e)?l=mn(b)?ar(vi(e)):{}:l={}}return(_?Bt:nn)(e,function(S,M,D){return r(l,S,M,D)}),l}function em(e,r){return e==null?!0:so(e,r)}function tm(e,r,l){return e==null?e:ja(e,r,ao(l))}function nm(e,r,l,f){return f=typeof f=="function"?f:n,e==null?e:ja(e,r,ao(l),f)}function dr(e){return e==null?[]:Fs(e,ot(e))}function rm(e){return e==null?[]:Fs(e,xt(e))}function im(e,r,l){return l===n&&(l=r,r=n),l!==n&&(l=Ht(l),l=l===l?l:0),r!==n&&(r=Ht(r),r=r===r?r:0),Fn(Ht(e),r,l)}function sm(e,r,l){return r=vn(r),l===n?(l=r,r=0):l=vn(l),e=Ht(e),fg(e,r,l)}function om(e,r,l){if(l&&typeof l!="boolean"&&_t(e,r,l)&&(r=l=n),l===n&&(typeof r=="boolean"?(l=r,r=n):typeof e=="boolean"&&(l=e,e=n)),e===n&&r===n?(e=0,r=1):(e=vn(e),r===n?(r=e,e=0):r=vn(r)),e>r){var f=e;e=r,r=f}if(l||e%1||r%1){var _=va();return ft(e+_*(r-e+Bh("1e-"+((_+"").length-1))),r)}return no(e,r)}var lm=cr(function(e,r,l){return r=r.toLowerCase(),e+(l?Ku(r):r)});function Ku(e){return Ro($e(e).toLowerCase())}function Zu(e){return e=$e(e),e&&e.replace(uh,Yh).replace(Sh,"")}function am(e,r,l){e=$e(e),r=Rt(r);var f=e.length;l=l===n?f:Fn(we(l),0,f);var _=l;return l-=r.length,l>=0&&e.slice(l,_)==r}function um(e){return e=$e(e),e&&Wf.test(e)?e.replace(Il,Xh):e}function cm(e){return e=$e(e),e&&Kf.test(e)?e.replace(xs,"\\$&"):e}var fm=cr(function(e,r,l){return e+(l?"-":"")+r.toLowerCase()}),hm=cr(function(e,r,l){return e+(l?" ":"")+r.toLowerCase()}),dm=Qa("toLowerCase");function gm(e,r,l){e=$e(e),r=we(r);var f=r?rr(e):0;if(!r||f>=r)return e;var _=(r-f)/2;return $i(Ei(_),l)+e+$i(bi(_),l)}function pm(e,r,l){e=$e(e),r=we(r);var f=r?rr(e):0;return r&&f<r?e+$i(r-f,l):e}function _m(e,r,l){e=$e(e),r=we(r);var f=r?rr(e):0;return r&&f<r?$i(r-f,l)+e:e}function mm(e,r,l){return l||r==null?r=0:r&&(r=+r),xd($e(e).replace(As,""),r||0)}function vm(e,r,l){return(l?_t(e,r,l):r===n)?r=1:r=we(r),ro($e(e),r)}function ym(){var e=arguments,r=$e(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var wm=cr(function(e,r,l){return e+(l?"_":"")+r.toLowerCase()});function bm(e,r,l){return l&&typeof l!="number"&&_t(e,r,l)&&(r=l=n),l=l===n?_e:l>>>0,l?(e=$e(e),e&&(typeof r=="string"||r!=null&&!Io(r))&&(r=Rt(r),!r&&nr(e))?Rn(Kt(e),0,l):e.split(r,l)):[]}var Em=cr(function(e,r,l){return e+(l?" ":"")+Ro(r)});function Tm(e,r,l){return e=$e(e),l=l==null?0:Fn(we(l),0,e.length),r=Rt(r),e.slice(l,l+r.length)==r}function xm(e,r,l){var f=m.templateSettings;l&&_t(e,r,l)&&(r=n),e=$e(e),r=Vi({},r,f,ou);var _=Vi({},r.imports,f.imports,ou),b=ot(_),S=Fs(_,b),M,D,V=0,J=r.interpolate||oi,Y="__p += '",ne=js((r.escape||oi).source+"|"+J.source+"|"+(J===Sl?rh:oi).source+"|"+(r.evaluate||oi).source+"|$","g"),ae="//# sourceURL="+(De.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ch+"]")+`
`;e.replace(ne,function(ge,xe,Se,Lt,mt,Ct){return Se||(Se=Lt),Y+=e.slice(V,Ct).replace(ch,Qh),xe&&(M=!0,Y+=`' +
__e(`+xe+`) +
'`),mt&&(D=!0,Y+=`';
`+mt+`;
__p += '`),Se&&(Y+=`' +
((__t = (`+Se+`)) == null ? '' : __t) +
'`),V=Ct+ge.length,ge}),Y+=`';
`;var de=De.call(r,"variable")&&r.variable;if(!de)Y=`with (obj) {
`+Y+`
}
`;else if(th.test(de))throw new me(c);Y=(D?Y.replace(Uf,""):Y).replace(Ff,"$1").replace(zf,"$1;"),Y="function("+(de||"obj")+`) {
`+(de?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(M?", __e = _.escape":"")+(D?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Y+`return __p
}`;var be=Xu(function(){return Pe(b,ae+"return "+Y).apply(n,S)});if(be.source=Y,ko(be))throw be;return be}function Am(e){return $e(e).toLowerCase()}function km(e){return $e(e).toUpperCase()}function Im(e,r,l){if(e=$e(e),e&&(l||r===n))return la(e);if(!e||!(r=Rt(r)))return e;var f=Kt(e),_=Kt(r),b=aa(f,_),S=ua(f,_)+1;return Rn(f,b,S).join("")}function Sm(e,r,l){if(e=$e(e),e&&(l||r===n))return e.slice(0,fa(e)+1);if(!e||!(r=Rt(r)))return e;var f=Kt(e),_=ua(f,Kt(r))+1;return Rn(f,0,_).join("")}function Om(e,r,l){if(e=$e(e),e&&(l||r===n))return e.replace(As,"");if(!e||!(r=Rt(r)))return e;var f=Kt(e),_=aa(f,Kt(r));return Rn(f,_).join("")}function Rm(e,r){var l=Z,f=X;if(Ge(r)){var _="separator"in r?r.separator:_;l="length"in r?we(r.length):l,f="omission"in r?Rt(r.omission):f}e=$e(e);var b=e.length;if(nr(e)){var S=Kt(e);b=S.length}if(l>=b)return e;var M=l-rr(f);if(M<1)return f;var D=S?Rn(S,0,M).join(""):e.slice(0,M);if(_===n)return D+f;if(S&&(M+=D.length-M),Io(_)){if(e.slice(M).search(_)){var V,J=D;for(_.global||(_=js(_.source,$e(Ol.exec(_))+"g")),_.lastIndex=0;V=_.exec(J);)var Y=V.index;D=D.slice(0,Y===n?M:Y)}}else if(e.indexOf(Rt(_),M)!=M){var ne=D.lastIndexOf(_);ne>-1&&(D=D.slice(0,ne))}return D+f}function Mm(e){return e=$e(e),e&&jf.test(e)?e.replace(kl,od):e}var Lm=cr(function(e,r,l){return e+(l?" ":"")+r.toUpperCase()}),Ro=Qa("toUpperCase");function Yu(e,r,l){return e=$e(e),r=l?n:r,r===n?td(e)?ud(e):qh(e):e.match(r)||[]}var Xu=Ee(function(e,r){try{return St(e,n,r)}catch(l){return ko(l)?l:new me(l)}}),Cm=pn(function(e,r){return Bt(r,function(l){l=sn(l),dn(e,l,xo(e[l],e))}),e});function Pm(e){var r=e==null?0:e.length,l=he();return e=r?We(e,function(f){if(typeof f[1]!="function")throw new Ut(u);return[l(f[0]),f[1]]}):[],Ee(function(f){for(var _=-1;++_<r;){var b=e[_];if(St(b[0],this,f))return St(b[1],this,f)}})}function $m(e){return og(zt(e,p))}function Mo(e){return function(){return e}}function Dm(e,r){return e==null||e!==e?r:e}var Nm=tu(),Bm=tu(!0);function At(e){return e}function Lo(e){return Ma(typeof e=="function"?e:zt(e,p))}function Um(e){return Ca(zt(e,p))}function Fm(e,r){return Pa(e,zt(r,p))}var zm=Ee(function(e,r){return function(l){return zr(l,e,r)}}),jm=Ee(function(e,r){return function(l){return zr(e,l,r)}});function Co(e,r,l){var f=ot(r),_=Si(r,f);l==null&&!(Ge(r)&&(_.length||!f.length))&&(l=r,r=e,e=this,_=Si(r,ot(r)));var b=!(Ge(l)&&"chain"in l)||!!l.chain,S=mn(e);return Bt(_,function(M){var D=r[M];e[M]=D,S&&(e.prototype[M]=function(){var V=this.__chain__;if(b||V){var J=e(this.__wrapped__),Y=J.__actions__=Et(this.__actions__);return Y.push({func:D,args:arguments,thisArg:e}),J.__chain__=V,J}return D.apply(e,xn([this.value()],arguments))})}),e}function Wm(){return ut._===this&&(ut._=pd),this}function Po(){}function Hm(e){return e=we(e),Ee(function(r){return $a(r,e)})}var Gm=co(We),qm=co(na),Vm=co($s);function Qu(e){return vo(e)?Ds(sn(e)):Tg(e)}function Jm(e){return function(r){return e==null?n:zn(e,r)}}var Km=ru(),Zm=ru(!0);function $o(){return[]}function Do(){return!1}function Ym(){return{}}function Xm(){return""}function Qm(){return!0}function ev(e,r){if(e=we(e),e<1||e>te)return[];var l=_e,f=ft(e,_e);r=he(r),e-=_e;for(var _=Us(f,r);++l<e;)r(l);return _}function tv(e){return ve(e)?We(e,sn):Mt(e)?[e]:Et(yu($e(e)))}function nv(e){var r=++dd;return $e(e)+r}var rv=Pi(function(e,r){return e+r},0),iv=fo("ceil"),sv=Pi(function(e,r){return e/r},1),ov=fo("floor");function lv(e){return e&&e.length?Ii(e,At,Zs):n}function av(e,r){return e&&e.length?Ii(e,he(r,2),Zs):n}function uv(e){return sa(e,At)}function cv(e,r){return sa(e,he(r,2))}function fv(e){return e&&e.length?Ii(e,At,eo):n}function hv(e,r){return e&&e.length?Ii(e,he(r,2),eo):n}var dv=Pi(function(e,r){return e*r},1),gv=fo("round"),pv=Pi(function(e,r){return e-r},0);function _v(e){return e&&e.length?Bs(e,At):0}function mv(e,r){return e&&e.length?Bs(e,he(r,2)):0}return m.after=U_,m.ary=Ru,m.assign=k0,m.assignIn=Hu,m.assignInWith=Vi,m.assignWith=I0,m.at=S0,m.before=Mu,m.bind=xo,m.bindAll=Cm,m.bindKey=Lu,m.castArray=Y_,m.chain=Iu,m.chunk=op,m.compact=lp,m.concat=ap,m.cond=Pm,m.conforms=$m,m.constant=Mo,m.countBy=__,m.create=O0,m.curry=Cu,m.curryRight=Pu,m.debounce=$u,m.defaults=R0,m.defaultsDeep=M0,m.defer=F_,m.delay=z_,m.difference=up,m.differenceBy=cp,m.differenceWith=fp,m.drop=hp,m.dropRight=dp,m.dropRightWhile=gp,m.dropWhile=pp,m.fill=_p,m.filter=v_,m.flatMap=b_,m.flatMapDeep=E_,m.flatMapDepth=T_,m.flatten=Tu,m.flattenDeep=mp,m.flattenDepth=vp,m.flip=j_,m.flow=Nm,m.flowRight=Bm,m.fromPairs=yp,m.functions=B0,m.functionsIn=U0,m.groupBy=x_,m.initial=bp,m.intersection=Ep,m.intersectionBy=Tp,m.intersectionWith=xp,m.invert=z0,m.invertBy=j0,m.invokeMap=k_,m.iteratee=Lo,m.keyBy=I_,m.keys=ot,m.keysIn=xt,m.map=zi,m.mapKeys=H0,m.mapValues=G0,m.matches=Um,m.matchesProperty=Fm,m.memoize=Wi,m.merge=q0,m.mergeWith=Gu,m.method=zm,m.methodOf=jm,m.mixin=Co,m.negate=Hi,m.nthArg=Hm,m.omit=V0,m.omitBy=J0,m.once=W_,m.orderBy=S_,m.over=Gm,m.overArgs=H_,m.overEvery=qm,m.overSome=Vm,m.partial=Ao,m.partialRight=Du,m.partition=O_,m.pick=K0,m.pickBy=qu,m.property=Qu,m.propertyOf=Jm,m.pull=Sp,m.pullAll=Au,m.pullAllBy=Op,m.pullAllWith=Rp,m.pullAt=Mp,m.range=Km,m.rangeRight=Zm,m.rearg=G_,m.reject=L_,m.remove=Lp,m.rest=q_,m.reverse=Eo,m.sampleSize=P_,m.set=Y0,m.setWith=X0,m.shuffle=$_,m.slice=Cp,m.sortBy=B_,m.sortedUniq=Fp,m.sortedUniqBy=zp,m.split=bm,m.spread=V_,m.tail=jp,m.take=Wp,m.takeRight=Hp,m.takeRightWhile=Gp,m.takeWhile=qp,m.tap=l_,m.throttle=J_,m.thru=Fi,m.toArray=zu,m.toPairs=Vu,m.toPairsIn=Ju,m.toPath=tv,m.toPlainObject=Wu,m.transform=Q0,m.unary=K_,m.union=Vp,m.unionBy=Jp,m.unionWith=Kp,m.uniq=Zp,m.uniqBy=Yp,m.uniqWith=Xp,m.unset=em,m.unzip=To,m.unzipWith=ku,m.update=tm,m.updateWith=nm,m.values=dr,m.valuesIn=rm,m.without=Qp,m.words=Yu,m.wrap=Z_,m.xor=e_,m.xorBy=t_,m.xorWith=n_,m.zip=r_,m.zipObject=i_,m.zipObjectDeep=s_,m.zipWith=o_,m.entries=Vu,m.entriesIn=Ju,m.extend=Hu,m.extendWith=Vi,Co(m,m),m.add=rv,m.attempt=Xu,m.camelCase=lm,m.capitalize=Ku,m.ceil=iv,m.clamp=im,m.clone=X_,m.cloneDeep=e0,m.cloneDeepWith=t0,m.cloneWith=Q_,m.conformsTo=n0,m.deburr=Zu,m.defaultTo=Dm,m.divide=sv,m.endsWith=am,m.eq=Yt,m.escape=um,m.escapeRegExp=cm,m.every=m_,m.find=y_,m.findIndex=bu,m.findKey=L0,m.findLast=w_,m.findLastIndex=Eu,m.findLastKey=C0,m.floor=ov,m.forEach=Su,m.forEachRight=Ou,m.forIn=P0,m.forInRight=$0,m.forOwn=D0,m.forOwnRight=N0,m.get=So,m.gt=r0,m.gte=i0,m.has=F0,m.hasIn=Oo,m.head=xu,m.identity=At,m.includes=A_,m.indexOf=wp,m.inRange=sm,m.invoke=W0,m.isArguments=Hn,m.isArray=ve,m.isArrayBuffer=s0,m.isArrayLike=Tt,m.isArrayLikeObject=Xe,m.isBoolean=o0,m.isBuffer=Mn,m.isDate=l0,m.isElement=a0,m.isEmpty=u0,m.isEqual=c0,m.isEqualWith=f0,m.isError=ko,m.isFinite=h0,m.isFunction=mn,m.isInteger=Nu,m.isLength=Gi,m.isMap=Bu,m.isMatch=d0,m.isMatchWith=g0,m.isNaN=p0,m.isNative=_0,m.isNil=v0,m.isNull=m0,m.isNumber=Uu,m.isObject=Ge,m.isObjectLike=Ye,m.isPlainObject=Vr,m.isRegExp=Io,m.isSafeInteger=y0,m.isSet=Fu,m.isString=qi,m.isSymbol=Mt,m.isTypedArray=hr,m.isUndefined=w0,m.isWeakMap=b0,m.isWeakSet=E0,m.join=Ap,m.kebabCase=fm,m.last=Wt,m.lastIndexOf=kp,m.lowerCase=hm,m.lowerFirst=dm,m.lt=T0,m.lte=x0,m.max=lv,m.maxBy=av,m.mean=uv,m.meanBy=cv,m.min=fv,m.minBy=hv,m.stubArray=$o,m.stubFalse=Do,m.stubObject=Ym,m.stubString=Xm,m.stubTrue=Qm,m.multiply=dv,m.nth=Ip,m.noConflict=Wm,m.noop=Po,m.now=ji,m.pad=gm,m.padEnd=pm,m.padStart=_m,m.parseInt=mm,m.random=om,m.reduce=R_,m.reduceRight=M_,m.repeat=vm,m.replace=ym,m.result=Z0,m.round=gv,m.runInContext=$,m.sample=C_,m.size=D_,m.snakeCase=wm,m.some=N_,m.sortedIndex=Pp,m.sortedIndexBy=$p,m.sortedIndexOf=Dp,m.sortedLastIndex=Np,m.sortedLastIndexBy=Bp,m.sortedLastIndexOf=Up,m.startCase=Em,m.startsWith=Tm,m.subtract=pv,m.sum=_v,m.sumBy=mv,m.template=xm,m.times=ev,m.toFinite=vn,m.toInteger=we,m.toLength=ju,m.toLower=Am,m.toNumber=Ht,m.toSafeInteger=A0,m.toString=$e,m.toUpper=km,m.trim=Im,m.trimEnd=Sm,m.trimStart=Om,m.truncate=Rm,m.unescape=Mm,m.uniqueId=nv,m.upperCase=Lm,m.upperFirst=Ro,m.each=Su,m.eachRight=Ou,m.first=xu,Co(m,function(){var e={};return nn(m,function(r,l){De.call(m.prototype,l)||(e[l]=r)}),e}(),{chain:!1}),m.VERSION=i,Bt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){m[e].placeholder=m}),Bt(["drop","take"],function(e,r){Ae.prototype[e]=function(l){l=l===n?1:rt(we(l),0);var f=this.__filtered__&&!r?new Ae(this):this.clone();return f.__filtered__?f.__takeCount__=ft(l,f.__takeCount__):f.__views__.push({size:ft(l,_e),type:e+(f.__dir__<0?"Right":"")}),f},Ae.prototype[e+"Right"]=function(l){return this.reverse()[e](l).reverse()}}),Bt(["filter","map","takeWhile"],function(e,r){var l=r+1,f=l==E||l==U;Ae.prototype[e]=function(_){var b=this.clone();return b.__iteratees__.push({iteratee:he(_,3),type:l}),b.__filtered__=b.__filtered__||f,b}}),Bt(["head","last"],function(e,r){var l="take"+(r?"Right":"");Ae.prototype[e]=function(){return this[l](1).value()[0]}}),Bt(["initial","tail"],function(e,r){var l="drop"+(r?"":"Right");Ae.prototype[e]=function(){return this.__filtered__?new Ae(this):this[l](1)}}),Ae.prototype.compact=function(){return this.filter(At)},Ae.prototype.find=function(e){return this.filter(e).head()},Ae.prototype.findLast=function(e){return this.reverse().find(e)},Ae.prototype.invokeMap=Ee(function(e,r){return typeof e=="function"?new Ae(this):this.map(function(l){return zr(l,e,r)})}),Ae.prototype.reject=function(e){return this.filter(Hi(he(e)))},Ae.prototype.slice=function(e,r){e=we(e);var l=this;return l.__filtered__&&(e>0||r<0)?new Ae(l):(e<0?l=l.takeRight(-e):e&&(l=l.drop(e)),r!==n&&(r=we(r),l=r<0?l.dropRight(-r):l.take(r-e)),l)},Ae.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ae.prototype.toArray=function(){return this.take(_e)},nn(Ae.prototype,function(e,r){var l=/^(?:filter|find|map|reject)|While$/.test(r),f=/^(?:head|last)$/.test(r),_=m[f?"take"+(r=="last"?"Right":""):r],b=f||/^find/.test(r);!_||(m.prototype[r]=function(){var S=this.__wrapped__,M=f?[1]:arguments,D=S instanceof Ae,V=M[0],J=D||ve(S),Y=function(xe){var Se=_.apply(m,xn([xe],M));return f&&ne?Se[0]:Se};J&&l&&typeof V=="function"&&V.length!=1&&(D=J=!1);var ne=this.__chain__,ae=!!this.__actions__.length,de=b&&!ne,be=D&&!ae;if(!b&&J){S=be?S:new Ae(this);var ge=e.apply(S,M);return ge.__actions__.push({func:Fi,args:[Y],thisArg:n}),new Ft(ge,ne)}return de&&be?e.apply(this,M):(ge=this.thru(Y),de?f?ge.value()[0]:ge.value():ge)})}),Bt(["pop","push","shift","sort","splice","unshift"],function(e){var r=hi[e],l=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",f=/^(?:pop|shift)$/.test(e);m.prototype[e]=function(){var _=arguments;if(f&&!this.__chain__){var b=this.value();return r.apply(ve(b)?b:[],_)}return this[l](function(S){return r.apply(ve(S)?S:[],_)})}}),nn(Ae.prototype,function(e,r){var l=m[r];if(l){var f=l.name+"";De.call(lr,f)||(lr[f]=[]),lr[f].push({name:r,func:l})}}),lr[Ci(n,v).name]=[{name:"wrapper",func:n}],Ae.prototype.clone=Md,Ae.prototype.reverse=Ld,Ae.prototype.value=Cd,m.prototype.at=a_,m.prototype.chain=u_,m.prototype.commit=c_,m.prototype.next=f_,m.prototype.plant=d_,m.prototype.reverse=g_,m.prototype.toJSON=m.prototype.valueOf=m.prototype.value=p_,m.prototype.first=m.prototype.head,Pr&&(m.prototype[Pr]=h_),m},ir=cd();Dn?((Dn.exports=ir)._=ir,Ms._=ir):ut._=ir}).call(ln)})(el,el.exports);const an=el.exports,Nw=120,as=s=>{let t;s.substring(0,1)==="#"?t=Bw(s):s.substring(0,3)==="rgb"&&(t=s);const n=t.substring(4,t.length-1).replace(/ /g,"").split(",");return parseInt(n[0])*.299+parseInt(n[1])*.587+parseInt(n[2])*.114>Nw?"black":"white"},Bw=s=>{let t=0,n=0,i=0;return s.length==4?(t="0x"+s[1]+s[1],n="0x"+s[2]+s[2],i="0x"+s[3]+s[3]):s.length==7&&(t="0x"+s[1]+s[2],n="0x"+s[3]+s[4],i="0x"+s[5]+s[6]),"rgb("+ +t+","+ +n+","+ +i+")"};const Uw={blue:"#4477AA",red:"#EE6677",green:"#228833",yellow:"#CCBB44",cyan:"#66CCEE",purple:"#AA3377",gray:"#BBBBBB"},Fw={black:"#000000",white:"#ffffff","gray-50":"rgb(247, 247, 247)","gray-100":"rgb(239, 239, 239)","gray-200":"rgb(223, 223, 223)","gray-300":"rgb(202, 202, 202)","gray-400":"rgb(168, 168, 168)","gray-500":"rgb(135, 135, 135)","gray-600":"rgb(109, 109, 109)","gray-700":"rgb(78, 78, 78)","gray-800":"rgb(55, 55, 55)","gray-900":"rgb(38, 38, 38)","gray-1000":"rgb(25, 25, 25)",purple:"#a239ca",blue:"#4717f6",green:"#34a29e",red:"#ff533d",yellow:"#e5e338","grey-balloon":"#d8d8d8"},Yn={category:Uw,color:Fw,"":{"12px":"0.75rem","14px":"0.875rem","16px":"1rem","18px":"1.125rem","20px":"1.25rem","22px":"1.375rem","24px":"1.5rem","28px":"1.75rem","32px":"2rem","36px":"2.25rem","40px":"2.5rem","44px":"2.75rem","48px":"3rem","56px":"3.5rem","64px":"4rem","80px":"5rem","96px":"6rem","112px":"7rem","128px":"8rem"}};function zw(s){let t;for(;t=s.sourceEvent;)s=t;return s}function Gn(s,t){if(s=zw(s),t===void 0&&(t=s.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=s.clientX,i.y=s.clientY,i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}if(t.getBoundingClientRect){var o=t.getBoundingClientRect();return[s.clientX-o.left-t.clientLeft,s.clientY-o.top-t.clientTop]}}return[s.pageX,s.pageY]}const tl={capture:!0,passive:!1};function nl(s){s.preventDefault(),s.stopImmediatePropagation()}function jw(s){var t=s.document.documentElement,n=lt(s).on("dragstart.drag",nl,tl);"onselectstart"in t?n.on("selectstart.drag",nl,tl):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ww(s,t){var n=s.document.documentElement,i=lt(s).on("dragstart.drag",null);t&&(i.on("click.drag",nl,tl),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Hw(s,t){var n,i=1;s==null&&(s=0),t==null&&(t=0);function o(){var a,u=n.length,c,g=0,h=0;for(a=0;a<u;++a)c=n[a],g+=c.x,h+=c.y;for(g=(g/u-s)*i,h=(h/u-t)*i,a=0;a<u;++a)c=n[a],c.x-=g,c.y-=h}return o.initialize=function(a){n=a},o.x=function(a){return arguments.length?(s=+a,o):s},o.y=function(a){return arguments.length?(t=+a,o):t},o.strength=function(a){return arguments.length?(i=+a,o):i},o}function Gw(s){const t=+this._x.call(null,s),n=+this._y.call(null,s);return kf(this.cover(t,n),t,n,s)}function kf(s,t,n,i){if(isNaN(t)||isNaN(n))return s;var o,a=s._root,u={data:i},c=s._x0,g=s._y0,h=s._x1,d=s._y1,p,y,w,x,k,T,v,A;if(!a)return s._root=u,s;for(;a.length;)if((k=t>=(p=(c+h)/2))?c=p:h=p,(T=n>=(y=(g+d)/2))?g=y:d=y,o=a,!(a=a[v=T<<1|k]))return o[v]=u,s;if(w=+s._x.call(null,a.data),x=+s._y.call(null,a.data),t===w&&n===x)return u.next=a,o?o[v]=u:s._root=u,s;do o=o?o[v]=new Array(4):s._root=new Array(4),(k=t>=(p=(c+h)/2))?c=p:h=p,(T=n>=(y=(g+d)/2))?g=y:d=y;while((v=T<<1|k)===(A=(x>=y)<<1|w>=p));return o[A]=a,o[v]=u,s}function qw(s){var t,n,i=s.length,o,a,u=new Array(i),c=new Array(i),g=1/0,h=1/0,d=-1/0,p=-1/0;for(n=0;n<i;++n)isNaN(o=+this._x.call(null,t=s[n]))||isNaN(a=+this._y.call(null,t))||(u[n]=o,c[n]=a,o<g&&(g=o),o>d&&(d=o),a<h&&(h=a),a>p&&(p=a));if(g>d||h>p)return this;for(this.cover(g,h).cover(d,p),n=0;n<i;++n)kf(this,u[n],c[n],s[n]);return this}function Vw(s,t){if(isNaN(s=+s)||isNaN(t=+t))return this;var n=this._x0,i=this._y0,o=this._x1,a=this._y1;if(isNaN(n))o=(n=Math.floor(s))+1,a=(i=Math.floor(t))+1;else{for(var u=o-n||1,c=this._root,g,h;n>s||s>=o||i>t||t>=a;)switch(h=(t<i)<<1|s<n,g=new Array(4),g[h]=c,c=g,u*=2,h){case 0:o=n+u,a=i+u;break;case 1:n=o-u,a=i+u;break;case 2:o=n+u,i=a-u;break;case 3:n=o-u,i=a-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=i,this._x1=o,this._y1=a,this}function Jw(){var s=[];return this.visit(function(t){if(!t.length)do s.push(t.data);while(t=t.next)}),s}function Kw(s){return arguments.length?this.cover(+s[0][0],+s[0][1]).cover(+s[1][0],+s[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function vt(s,t,n,i,o){this.node=s,this.x0=t,this.y0=n,this.x1=i,this.y1=o}function Zw(s,t,n){var i,o=this._x0,a=this._y0,u,c,g,h,d=this._x1,p=this._y1,y=[],w=this._root,x,k;for(w&&y.push(new vt(w,o,a,d,p)),n==null?n=1/0:(o=s-n,a=t-n,d=s+n,p=t+n,n*=n);x=y.pop();)if(!(!(w=x.node)||(u=x.x0)>d||(c=x.y0)>p||(g=x.x1)<o||(h=x.y1)<a))if(w.length){var T=(u+g)/2,v=(c+h)/2;y.push(new vt(w[3],T,v,g,h),new vt(w[2],u,v,T,h),new vt(w[1],T,c,g,v),new vt(w[0],u,c,T,v)),(k=(t>=v)<<1|s>=T)&&(x=y[y.length-1],y[y.length-1]=y[y.length-1-k],y[y.length-1-k]=x)}else{var A=s-+this._x.call(null,w.data),L=t-+this._y.call(null,w.data),I=A*A+L*L;if(I<n){var F=Math.sqrt(n=I);o=s-F,a=t-F,d=s+F,p=t+F,i=w.data}}return i}function Yw(s){if(isNaN(d=+this._x.call(null,s))||isNaN(p=+this._y.call(null,s)))return this;var t,n=this._root,i,o,a,u=this._x0,c=this._y0,g=this._x1,h=this._y1,d,p,y,w,x,k,T,v;if(!n)return this;if(n.length)for(;;){if((x=d>=(y=(u+g)/2))?u=y:g=y,(k=p>=(w=(c+h)/2))?c=w:h=w,t=n,!(n=n[T=k<<1|x]))return this;if(!n.length)break;(t[T+1&3]||t[T+2&3]||t[T+3&3])&&(i=t,v=T)}for(;n.data!==s;)if(o=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,o?(a?o.next=a:delete o.next,this):t?(a?t[T]=a:delete t[T],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(i?i[v]=n:this._root=n),this):(this._root=a,this)}function Xw(s){for(var t=0,n=s.length;t<n;++t)this.remove(s[t]);return this}function Qw(){return this._root}function eb(){var s=0;return this.visit(function(t){if(!t.length)do++s;while(t=t.next)}),s}function tb(s){var t=[],n,i=this._root,o,a,u,c,g;for(i&&t.push(new vt(i,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!s(i=n.node,a=n.x0,u=n.y0,c=n.x1,g=n.y1)&&i.length){var h=(a+c)/2,d=(u+g)/2;(o=i[3])&&t.push(new vt(o,h,d,c,g)),(o=i[2])&&t.push(new vt(o,a,d,h,g)),(o=i[1])&&t.push(new vt(o,h,u,c,d)),(o=i[0])&&t.push(new vt(o,a,u,h,d))}return this}function nb(s){var t=[],n=[],i;for(this._root&&t.push(new vt(this._root,this._x0,this._y0,this._x1,this._y1));i=t.pop();){var o=i.node;if(o.length){var a,u=i.x0,c=i.y0,g=i.x1,h=i.y1,d=(u+g)/2,p=(c+h)/2;(a=o[0])&&t.push(new vt(a,u,c,d,p)),(a=o[1])&&t.push(new vt(a,d,c,g,p)),(a=o[2])&&t.push(new vt(a,u,p,d,h)),(a=o[3])&&t.push(new vt(a,d,p,g,h))}n.push(i)}for(;i=n.pop();)s(i.node,i.x0,i.y0,i.x1,i.y1);return this}function rb(s){return s[0]}function ib(s){return arguments.length?(this._x=s,this):this._x}function sb(s){return s[1]}function ob(s){return arguments.length?(this._y=s,this):this._y}function wl(s,t,n){var i=new bl(t==null?rb:t,n==null?sb:n,NaN,NaN,NaN,NaN);return s==null?i:i.addAll(s)}function bl(s,t,n,i,o,a){this._x=s,this._y=t,this._x0=n,this._y0=i,this._x1=o,this._y1=a,this._root=void 0}function Rc(s){for(var t={data:s.data},n=t;s=s.next;)n=n.next={data:s.data};return t}var wt=wl.prototype=bl.prototype;wt.copy=function(){var s=new bl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,i;if(!t)return s;if(!t.length)return s._root=Rc(t),s;for(n=[{source:t,target:s._root=new Array(4)}];t=n.pop();)for(var o=0;o<4;++o)(i=t.source[o])&&(i.length?n.push({source:i,target:t.target[o]=new Array(4)}):t.target[o]=Rc(i));return s};wt.add=Gw;wt.addAll=qw;wt.cover=Vw;wt.data=Jw;wt.extent=Kw;wt.find=Zw;wt.remove=Yw;wt.removeAll=Xw;wt.root=Qw;wt.size=eb;wt.visit=tb;wt.visitAfter=nb;wt.x=ib;wt.y=ob;function en(s){return function(){return s}}function Pn(s){return(s()-.5)*1e-6}function lb(s){return s.x+s.vx}function ab(s){return s.y+s.vy}function If(s){var t,n,i,o=1,a=1;typeof s!="function"&&(s=en(s==null?1:+s));function u(){for(var h,d=t.length,p,y,w,x,k,T,v=0;v<a;++v)for(p=wl(t,lb,ab).visitAfter(c),h=0;h<d;++h)y=t[h],k=n[y.index],T=k*k,w=y.x+y.vx,x=y.y+y.vy,p.visit(A);function A(L,I,F,N,z){var R=L.data,H=L.r,Z=k+H;if(R){if(R.index>y.index){var X=w-R.x-R.vx,ue=x-R.y-R.vy,ie=X*X+ue*ue;ie<Z*Z&&(X===0&&(X=Pn(i),ie+=X*X),ue===0&&(ue=Pn(i),ie+=ue*ue),ie=(Z-(ie=Math.sqrt(ie)))/ie*o,y.vx+=(X*=ie)*(Z=(H*=H)/(T+H)),y.vy+=(ue*=ie)*Z,R.vx-=X*(Z=1-Z),R.vy-=ue*Z)}return}return I>w+Z||N<w-Z||F>x+Z||z<x-Z}}function c(h){if(h.data)return h.r=n[h.data.index];for(var d=h.r=0;d<4;++d)h[d]&&h[d].r>h.r&&(h.r=h[d].r)}function g(){if(!!t){var h,d=t.length,p;for(n=new Array(d),h=0;h<d;++h)p=t[h],n[p.index]=+s(p,h,t)}}return u.initialize=function(h,d){t=h,i=d,g()},u.iterations=function(h){return arguments.length?(a=+h,u):a},u.strength=function(h){return arguments.length?(o=+h,u):o},u.radius=function(h){return arguments.length?(s=typeof h=="function"?h:en(+h),g(),u):s},u}function ub(s){return s.index}function Mc(s,t){var n=s.get(t);if(!n)throw new Error("node not found: "+t);return n}function Sf(s){var t=ub,n=p,i,o=en(30),a,u,c,g,h,d=1;s==null&&(s=[]);function p(T){return 1/Math.min(c[T.source.index],c[T.target.index])}function y(T){for(var v=0,A=s.length;v<d;++v)for(var L=0,I,F,N,z,R,H,Z;L<A;++L)I=s[L],F=I.source,N=I.target,z=N.x+N.vx-F.x-F.vx||Pn(h),R=N.y+N.vy-F.y-F.vy||Pn(h),H=Math.sqrt(z*z+R*R),H=(H-a[L])/H*T*i[L],z*=H,R*=H,N.vx-=z*(Z=g[L]),N.vy-=R*Z,F.vx+=z*(Z=1-Z),F.vy+=R*Z}function w(){if(!!u){var T,v=u.length,A=s.length,L=new Map(u.map((F,N)=>[t(F,N,u),F])),I;for(T=0,c=new Array(v);T<A;++T)I=s[T],I.index=T,typeof I.source!="object"&&(I.source=Mc(L,I.source)),typeof I.target!="object"&&(I.target=Mc(L,I.target)),c[I.source.index]=(c[I.source.index]||0)+1,c[I.target.index]=(c[I.target.index]||0)+1;for(T=0,g=new Array(A);T<A;++T)I=s[T],g[T]=c[I.source.index]/(c[I.source.index]+c[I.target.index]);i=new Array(A),x(),a=new Array(A),k()}}function x(){if(!!u)for(var T=0,v=s.length;T<v;++T)i[T]=+n(s[T],T,s)}function k(){if(!!u)for(var T=0,v=s.length;T<v;++T)a[T]=+o(s[T],T,s)}return y.initialize=function(T,v){u=T,h=v,w()},y.links=function(T){return arguments.length?(s=T,w(),y):s},y.id=function(T){return arguments.length?(t=T,y):t},y.iterations=function(T){return arguments.length?(d=+T,y):d},y.strength=function(T){return arguments.length?(n=typeof T=="function"?T:en(+T),x(),y):n},y.distance=function(T){return arguments.length?(o=typeof T=="function"?T:en(+T),k(),y):o},y}const cb=1664525,fb=1013904223,Lc=4294967296;function hb(){let s=1;return()=>(s=(cb*s+fb)%Lc)/Lc}function db(s){return s.x}function gb(s){return s.y}var pb=10,_b=Math.PI*(3-Math.sqrt(5));function Of(s){var t,n=1,i=.001,o=1-Math.pow(i,1/300),a=0,u=.6,c=new Map,g=Rv(p),h=af("tick","end"),d=hb();s==null&&(s=[]);function p(){y(),h.call("tick",t),n<i&&(g.stop(),h.call("end",t))}function y(k){var T,v=s.length,A;k===void 0&&(k=1);for(var L=0;L<k;++L)for(n+=(a-n)*o,c.forEach(function(I){I(n)}),T=0;T<v;++T)A=s[T],A.fx==null?A.x+=A.vx*=u:(A.x=A.fx,A.vx=0),A.fy==null?A.y+=A.vy*=u:(A.y=A.fy,A.vy=0);return t}function w(){for(var k=0,T=s.length,v;k<T;++k){if(v=s[k],v.index=k,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),isNaN(v.x)||isNaN(v.y)){var A=pb*Math.sqrt(.5+k),L=k*_b;v.x=A*Math.cos(L),v.y=A*Math.sin(L)}(isNaN(v.vx)||isNaN(v.vy))&&(v.vx=v.vy=0)}}function x(k){return k.initialize&&k.initialize(s,d),k}return w(),t={tick:y,restart:function(){return g.restart(p),t},stop:function(){return g.stop(),t},nodes:function(k){return arguments.length?(s=k,w(),c.forEach(x),t):s},alpha:function(k){return arguments.length?(n=+k,t):n},alphaMin:function(k){return arguments.length?(i=+k,t):i},alphaDecay:function(k){return arguments.length?(o=+k,t):+o},alphaTarget:function(k){return arguments.length?(a=+k,t):a},velocityDecay:function(k){return arguments.length?(u=1-k,t):1-u},randomSource:function(k){return arguments.length?(d=k,c.forEach(x),t):d},force:function(k,T){return arguments.length>1?(T==null?c.delete(k):c.set(k,x(T)),t):c.get(k)},find:function(k,T,v){var A=0,L=s.length,I,F,N,z,R;for(v==null?v=1/0:v*=v,A=0;A<L;++A)z=s[A],I=k-z.x,F=T-z.y,N=I*I+F*F,N<v&&(R=z,v=N);return R},on:function(k,T){return arguments.length>1?(h.on(k,T),t):h.on(k)}}}function Rf(){var s,t,n,i,o=en(-30),a,u=1,c=1/0,g=.81;function h(w){var x,k=s.length,T=wl(s,db,gb).visitAfter(p);for(i=w,x=0;x<k;++x)t=s[x],T.visit(y)}function d(){if(!!s){var w,x=s.length,k;for(a=new Array(x),w=0;w<x;++w)k=s[w],a[k.index]=+o(k,w,s)}}function p(w){var x=0,k,T,v=0,A,L,I;if(w.length){for(A=L=I=0;I<4;++I)(k=w[I])&&(T=Math.abs(k.value))&&(x+=k.value,v+=T,A+=T*k.x,L+=T*k.y);w.x=A/v,w.y=L/v}else{k=w,k.x=k.data.x,k.y=k.data.y;do x+=a[k.data.index];while(k=k.next)}w.value=x}function y(w,x,k,T){if(!w.value)return!0;var v=w.x-t.x,A=w.y-t.y,L=T-x,I=v*v+A*A;if(L*L/g<I)return I<c&&(v===0&&(v=Pn(n),I+=v*v),A===0&&(A=Pn(n),I+=A*A),I<u&&(I=Math.sqrt(u*I)),t.vx+=v*w.value*i/I,t.vy+=A*w.value*i/I),!0;if(w.length||I>=c)return;(w.data!==t||w.next)&&(v===0&&(v=Pn(n),I+=v*v),A===0&&(A=Pn(n),I+=A*A),I<u&&(I=Math.sqrt(u*I)));do w.data!==t&&(L=a[w.data.index]*i/I,t.vx+=v*L,t.vy+=A*L);while(w=w.next)}return h.initialize=function(w,x){s=w,n=x,d()},h.strength=function(w){return arguments.length?(o=typeof w=="function"?w:en(+w),d(),h):o},h.distanceMin=function(w){return arguments.length?(u=w*w,h):Math.sqrt(u)},h.distanceMax=function(w){return arguments.length?(c=w*w,h):Math.sqrt(c)},h.theta=function(w){return arguments.length?(g=w*w,h):Math.sqrt(g)},h}function Mf(s){var t=en(.1),n,i,o;typeof s!="function"&&(s=en(s==null?0:+s));function a(c){for(var g=0,h=n.length,d;g<h;++g)d=n[g],d.vy+=(o[g]-d.y)*i[g]*c}function u(){if(!!n){var c,g=n.length;for(i=new Array(g),o=new Array(g),c=0;c<g;++c)i[c]=isNaN(o[c]=+s(n[c],c,n))?0:+t(n[c],c,n)}}return a.initialize=function(c){n=c,u()},a.strength=function(c){return arguments.length?(t=typeof c=="function"?c:en(+c),u(),a):t},a.y=function(c){return arguments.length?(s=typeof c=="function"?c:en(+c),u(),a):s},a}const Xi=s=>()=>s;function mb(s,{sourceEvent:t,target:n,transform:i,dispatch:o}){Object.defineProperties(this,{type:{value:s,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Wo(s){s.stopImmediatePropagation()}function Jr(s){s.preventDefault(),s.stopImmediatePropagation()}function vb(s){return(!s.ctrlKey||s.type==="wheel")&&!s.button}function yb(){var s=this;return s instanceof SVGElement?(s=s.ownerSVGElement||s,s.hasAttribute("viewBox")?(s=s.viewBox.baseVal,[[s.x,s.y],[s.x+s.width,s.y+s.height]]):[[0,0],[s.width.baseVal.value,s.height.baseVal.value]]):[[0,0],[s.clientWidth,s.clientHeight]]}function Cc(){return this.__zoom||al}function wb(s){return-s.deltaY*(s.deltaMode===1?.05:s.deltaMode?1:.002)*(s.ctrlKey?10:1)}function bb(){return navigator.maxTouchPoints||"ontouchstart"in this}function Eb(s,t,n){var i=s.invertX(t[0][0])-n[0][0],o=s.invertX(t[1][0])-n[1][0],a=s.invertY(t[0][1])-n[0][1],u=s.invertY(t[1][1])-n[1][1];return s.translate(o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o),u>a?(a+u)/2:Math.min(0,a)||Math.max(0,u))}function Tb(){var s=vb,t=yb,n=Eb,i=wb,o=bb,a=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,g=h1,h=af("start","zoom","end"),d,p,y,w=500,x=150,k=0,T=10;function v(E){E.property("__zoom",Cc).on("wheel.zoom",R,{passive:!1}).on("mousedown.zoom",H).on("dblclick.zoom",Z).filter(o).on("touchstart.zoom",X).on("touchmove.zoom",ue).on("touchend.zoom touchcancel.zoom",ie).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(E,P,U,Q){var te=E.selection?E.selection():E;te.property("__zoom",Cc),E!==te?F(E,P,U,Q):te.interrupt().each(function(){N(this,arguments).event(Q).start().zoom(null,typeof P=="function"?P.apply(this,arguments):P).end()})},v.scaleBy=function(E,P,U,Q){v.scaleTo(E,function(){var te=this.__zoom.k,ee=typeof P=="function"?P.apply(this,arguments):P;return te*ee},U,Q)},v.scaleTo=function(E,P,U,Q){v.transform(E,function(){var te=t.apply(this,arguments),ee=this.__zoom,pe=U==null?I(te):typeof U=="function"?U.apply(this,arguments):U,_e=ee.invert(pe),Ce=typeof P=="function"?P.apply(this,arguments):P;return n(L(A(ee,Ce),pe,_e),te,u)},U,Q)},v.translateBy=function(E,P,U,Q){v.transform(E,function(){return n(this.__zoom.translate(typeof P=="function"?P.apply(this,arguments):P,typeof U=="function"?U.apply(this,arguments):U),t.apply(this,arguments),u)},null,Q)},v.translateTo=function(E,P,U,Q,te){v.transform(E,function(){var ee=t.apply(this,arguments),pe=this.__zoom,_e=Q==null?I(ee):typeof Q=="function"?Q.apply(this,arguments):Q;return n(al.translate(_e[0],_e[1]).scale(pe.k).translate(typeof P=="function"?-P.apply(this,arguments):-P,typeof U=="function"?-U.apply(this,arguments):-U),ee,u)},Q,te)};function A(E,P){return P=Math.max(a[0],Math.min(a[1],P)),P===E.k?E:new No(P,E.x,E.y)}function L(E,P,U){var Q=P[0]-U[0]*E.k,te=P[1]-U[1]*E.k;return Q===E.x&&te===E.y?E:new No(E.k,Q,te)}function I(E){return[(+E[0][0]+ +E[1][0])/2,(+E[0][1]+ +E[1][1])/2]}function F(E,P,U,Q){E.on("start.zoom",function(){N(this,arguments).event(Q).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(Q).end()}).tween("zoom",function(){var te=this,ee=arguments,pe=N(te,ee).event(Q),_e=t.apply(te,ee),Ce=U==null?I(_e):typeof U=="function"?U.apply(te,ee):U,at=Math.max(_e[1][0]-_e[0][0],_e[1][1]-_e[0][1]),Ze=te.__zoom,st=typeof P=="function"?P.apply(te,ee):P,bt=g(Ze.invert(Ce).concat(at/Ze.k),st.invert(Ce).concat(at/st.k));return function(It){if(It===1)It=st;else{var gt=bt(It),un=at/gt[2];It=new No(un,Ce[0]-gt[0]*un,Ce[1]-gt[1]*un)}pe.zoom(null,It)}})}function N(E,P,U){return!U&&E.__zooming||new z(E,P)}function z(E,P){this.that=E,this.args=P,this.active=0,this.sourceEvent=null,this.extent=t.apply(E,P),this.taps=0}z.prototype={event:function(E){return E&&(this.sourceEvent=E),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(E,P){return this.mouse&&E!=="mouse"&&(this.mouse[1]=P.invert(this.mouse[0])),this.touch0&&E!=="touch"&&(this.touch0[1]=P.invert(this.touch0[0])),this.touch1&&E!=="touch"&&(this.touch1[1]=P.invert(this.touch1[0])),this.that.__zoom=P,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(E){var P=lt(this.that).datum();h.call(E,this.that,new mb(E,{sourceEvent:this.sourceEvent,target:v,type:E,transform:this.that.__zoom,dispatch:h}),P)}};function R(E,...P){if(!s.apply(this,arguments))return;var U=N(this,P).event(E),Q=this.__zoom,te=Math.max(a[0],Math.min(a[1],Q.k*Math.pow(2,i.apply(this,arguments)))),ee=Gn(E);if(U.wheel)(U.mouse[0][0]!==ee[0]||U.mouse[0][1]!==ee[1])&&(U.mouse[1]=Q.invert(U.mouse[0]=ee)),clearTimeout(U.wheel);else{if(Q.k===te)return;U.mouse=[ee,Q.invert(ee)],Bo(this),U.start()}Jr(E),U.wheel=setTimeout(pe,x),U.zoom("mouse",n(L(A(Q,te),U.mouse[0],U.mouse[1]),U.extent,u));function pe(){U.wheel=null,U.end()}}function H(E,...P){if(y||!s.apply(this,arguments))return;var U=E.currentTarget,Q=N(this,P,!0).event(E),te=lt(E.view).on("mousemove.zoom",Ce,!0).on("mouseup.zoom",at,!0),ee=Gn(E,U),pe=E.clientX,_e=E.clientY;jw(E.view),Wo(E),Q.mouse=[ee,this.__zoom.invert(ee)],Bo(this),Q.start();function Ce(Ze){if(Jr(Ze),!Q.moved){var st=Ze.clientX-pe,bt=Ze.clientY-_e;Q.moved=st*st+bt*bt>k}Q.event(Ze).zoom("mouse",n(L(Q.that.__zoom,Q.mouse[0]=Gn(Ze,U),Q.mouse[1]),Q.extent,u))}function at(Ze){te.on("mousemove.zoom mouseup.zoom",null),Ww(Ze.view,Q.moved),Jr(Ze),Q.event(Ze).end()}}function Z(E,...P){if(!!s.apply(this,arguments)){var U=this.__zoom,Q=Gn(E.changedTouches?E.changedTouches[0]:E,this),te=U.invert(Q),ee=U.k*(E.shiftKey?.5:2),pe=n(L(A(U,ee),Q,te),t.apply(this,P),u);Jr(E),c>0?lt(this).transition().duration(c).call(F,pe,Q,E):lt(this).call(v.transform,pe,Q,E)}}function X(E,...P){if(!!s.apply(this,arguments)){var U=E.touches,Q=U.length,te=N(this,P,E.changedTouches.length===Q).event(E),ee,pe,_e,Ce;for(Wo(E),pe=0;pe<Q;++pe)_e=U[pe],Ce=Gn(_e,this),Ce=[Ce,this.__zoom.invert(Ce),_e.identifier],te.touch0?!te.touch1&&te.touch0[2]!==Ce[2]&&(te.touch1=Ce,te.taps=0):(te.touch0=Ce,ee=!0,te.taps=1+!!d);d&&(d=clearTimeout(d)),ee&&(te.taps<2&&(p=Ce[0],d=setTimeout(function(){d=null},w)),Bo(this),te.start())}}function ue(E,...P){if(!!this.__zooming){var U=N(this,P).event(E),Q=E.changedTouches,te=Q.length,ee,pe,_e,Ce;for(Jr(E),ee=0;ee<te;++ee)pe=Q[ee],_e=Gn(pe,this),U.touch0&&U.touch0[2]===pe.identifier?U.touch0[0]=_e:U.touch1&&U.touch1[2]===pe.identifier&&(U.touch1[0]=_e);if(pe=U.that.__zoom,U.touch1){var at=U.touch0[0],Ze=U.touch0[1],st=U.touch1[0],bt=U.touch1[1],It=(It=st[0]-at[0])*It+(It=st[1]-at[1])*It,gt=(gt=bt[0]-Ze[0])*gt+(gt=bt[1]-Ze[1])*gt;pe=A(pe,Math.sqrt(It/gt)),_e=[(at[0]+st[0])/2,(at[1]+st[1])/2],Ce=[(Ze[0]+bt[0])/2,(Ze[1]+bt[1])/2]}else if(U.touch0)_e=U.touch0[0],Ce=U.touch0[1];else return;U.zoom("touch",n(L(pe,_e,Ce),U.extent,u))}}function ie(E,...P){if(!!this.__zooming){var U=N(this,P).event(E),Q=E.changedTouches,te=Q.length,ee,pe;for(Wo(E),y&&clearTimeout(y),y=setTimeout(function(){y=null},w),ee=0;ee<te;++ee)pe=Q[ee],U.touch0&&U.touch0[2]===pe.identifier?delete U.touch0:U.touch1&&U.touch1[2]===pe.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(pe=Gn(pe,this),Math.hypot(p[0]-pe[0],p[1]-pe[1])<T)){var _e=lt(this).on("dblclick.zoom");_e&&_e.apply(this,arguments)}}}return v.wheelDelta=function(E){return arguments.length?(i=typeof E=="function"?E:Xi(+E),v):i},v.filter=function(E){return arguments.length?(s=typeof E=="function"?E:Xi(!!E),v):s},v.touchable=function(E){return arguments.length?(o=typeof E=="function"?E:Xi(!!E),v):o},v.extent=function(E){return arguments.length?(t=typeof E=="function"?E:Xi([[+E[0][0],+E[0][1]],[+E[1][0],+E[1][1]]]),v):t},v.scaleExtent=function(E){return arguments.length?(a[0]=+E[0],a[1]=+E[1],v):[a[0],a[1]]},v.translateExtent=function(E){return arguments.length?(u[0][0]=+E[0][0],u[1][0]=+E[1][0],u[0][1]=+E[0][1],u[1][1]=+E[1][1],v):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},v.constrain=function(E){return arguments.length?(n=E,v):n},v.duration=function(E){return arguments.length?(c=+E,v):c},v.interpolate=function(E){return arguments.length?(g=E,v):g},v.on=function(){var E=h.on.apply(h,arguments);return E===h?v:E},v.clickDistance=function(E){return arguments.length?(k=(E=+E)*E,v):Math.sqrt(k)},v.tapDistance=function(E){return arguments.length?(T=+E,v):T},v}function Pc(s,t,n){const i=s.slice();i[16]=t[n],i[19]=n;const o=i[6]&&i[16].id.split("-")[0]!==i[6]?.2:1;return i[17]=o,i}function $c(s){let t,n,i,o,a=s[16][s[0]]+"",u,c,g,h,d,p;return{c(){t=ze("g"),n=ze("ellipse"),o=ze("text"),u=ke(a),this.h()},l(y){t=je(y,"g",{id:!0,class:!0,opacity:!0});var w=K(t);n=je(w,"ellipse",{rx:!0,ry:!0,fill:!0}),K(n).forEach(C),o=je(w,"text",{class:!0,fill:!0});var x=K(o);u=Ie(x,a),x.forEach(C),w.forEach(C),this.h()},h(){O(n,"rx",Cn),O(n,"ry",Cn*1.2),O(n,"fill",i=s[1]?s[16].color:Yn.color["grey-balloon"]),O(o,"class","label svelte-1ow1g3w"),O(o,"fill",c=s[1]?as(s[16].color):null),O(t,"id",g=s[16].id),O(t,"class","node svelte-1ow1g3w"),O(t,"opacity",h=s[17])},m(y,w){oe(y,t,w),B(t,n),B(t,o),B(o,u),d||(p=[qe(t,"mouseenter",s[7]),qe(t,"mouseleave",s[8])],d=!0)},p(y,w){w&18&&i!==(i=y[1]?y[16].color:Yn.color["grey-balloon"])&&O(n,"fill",i),w&17&&a!==(a=y[16][y[0]]+"")&&En(u,a),w&18&&c!==(c=y[1]?as(y[16].color):null)&&O(o,"fill",c),w&16&&g!==(g=y[16].id)&&O(t,"id",g),w&80&&h!==(h=y[17])&&O(t,"opacity",h)},d(y){y&&C(t),d=!1,us(p)}}}function xb(s){let t,n,i,o,a,u,c,g,h=s[4],d=[];for(let p=0;p<h.length;p+=1)d[p]=$c(Pc(s,h,p));return{c(){t=G("div"),n=ze("svg"),i=ze("text"),o=ke("Here's how the last 50 people who visited this site felt."),c=ze("g");for(let p=0;p<d.length;p+=1)d[p].c();this.h()},l(p){t=q(p,"DIV",{class:!0});var y=K(t);n=je(y,"svg",{class:!0});var w=K(n);i=je(w,"text",{class:!0,x:!0,y:!0});var x=K(i);o=Ie(x,"Here's how the last 50 people who visited this site felt."),x.forEach(C),c=je(w,"g",{class:!0});var k=K(c);for(let T=0;T<d.length;T+=1)d[T].l(k);k.forEach(C),w.forEach(C),y.forEach(C),this.h()},h(){O(i,"class","title svelte-1ow1g3w"),O(i,"x",a=s[2]/2),O(i,"y",u=s[3]/2),O(c,"class","nodes"),O(n,"class","svelte-1ow1g3w"),O(t,"class","viz svelte-1ow1g3w"),xr(()=>s[12].call(t))},m(p,y){oe(p,t,y),B(t,n),B(n,i),B(i,o),B(n,c);for(let w=0;w<d.length;w+=1)d[w].m(c,null);s[11](n),g=ol(t,s[12].bind(t))},p(p,[y]){if(y&4&&a!==(a=p[2]/2)&&O(i,"x",a),y&8&&u!==(u=p[3]/2)&&O(i,"y",u),y&467){h=p[4];let w;for(w=0;w<h.length;w+=1){const x=Pc(p,h,w);d[w]?d[w].p(x,y):(d[w]=$c(x),d[w].c(),d[w].m(c,null))}for(;w<d.length;w+=1)d[w].d(1);d.length=h.length}},i:ye,o:ye,d(p){p&&C(t),tn(d,p),s[11](null),g()}}}let Cn=15;function Ab(s,t,n){let i,o,{data:a}=t,{wordAccessor:u}=t,{groupBy:c}=t,{withColor:g=!1}=t,h,d=0,p=0;const y=()=>{lt(h).selectAll("g.node").data(i).attr("transform",L=>(L.x=Math.max(Cn*1.2,Math.min(d-Cn*1.2,L.x)),L.y=Math.max(Cn*1.2,Math.min(p-Cn*1.2,L.y)),`translate(${L.x}, ${L.y})`))},w=()=>{Of(i).force("charge",Rf().strength(-20)).force("center",Hw(d/2,p/2)).force("collision",If().radius(L=>Cn*1.2)).force("y",Mf().y(L=>p/2).strength(-.02)).force("link",Sf().links(o).id(L=>L.id).distance(L=>Cn*1.2)).on("tick",y)};let x;const k=L=>{u!=="basic_word"&&n(6,x=L.target.id.split("-")[0])},T=()=>{u!=="basic_word"&&n(6,x=void 0)};function v(L){yt[L?"unshift":"push"](()=>{h=L,n(5,h)})}function A(){d=this.clientWidth,p=this.clientHeight,n(2,d),n(3,p)}return s.$$set=L=>{"data"in L&&n(9,a=L.data),"wordAccessor"in L&&n(0,u=L.wordAccessor),"groupBy"in L&&n(10,c=L.groupBy),"withColor"in L&&n(1,g=L.withColor)},s.$$.update=()=>{s.$$.dirty&512&&n(4,i=a),s.$$.dirty&1040&&(o=i.reduce((L,I)=>{const z=i.filter(R=>R[c]===I[c]).map(R=>({source:I.id,target:R.id,value:10})).filter(R=>R.source!==R.target&&!L.some(H=>H.source===R.target&&H.target===R.source));return[...L,...z]},[])),s.$$.dirty&12&&d&&p&&w()},[u,g,d,p,i,h,x,k,T,a,c,v,A]}class El extends Ve{constructor(t){super(),Je(this,t,Ab,xb,Ke,{data:9,wordAccessor:0,groupBy:10,withColor:1})}}function Dc(s,t,n){const i=s.slice();i[7]=t[n];const o=i[7]===i[1];return i[8]=o,i}function Nc(s){let t,n=s[7]+"",i,o,a;return{c(){t=G("button"),i=ke(n),this.h()},l(u){t=q(u,"BUTTON",{id:!0,class:!0});var c=K(t);i=Ie(c,n),c.forEach(C),this.h()},h(){O(t,"id",s[7]),O(t,"class","svelte-g7dmgb"),He(t,"selected",s[8])},m(u,c){oe(u,t,c),B(t,i),o||(a=qe(t,"click",s[3]),o=!0)},p(u,c){c&6&&He(t,"selected",u[8])},d(u){u&&C(t),o=!1,a()}}}function Bc(s){let t,n;return t=new El({props:{data:s[0],wordAccessor:"basic_word",groupBy:"basic_word"}}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p(i,o){const a={};o&1&&(a.data=i[0]),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function kb(s){let t,n,i,o,a,u,c,g=s[2],h=[];for(let p=0;p<g.length;p+=1)h[p]=Nc(Dc(s,g,p));let d=s[0]&&Bc(s);return{c(){t=G("div"),n=G("div"),i=G("p"),o=ke("Hi, how are you doing?"),a=ce();for(let p=0;p<h.length;p+=1)h[p].c();u=ce(),d&&d.c(),this.h()},l(p){t=q(p,"DIV",{class:!0});var y=K(t);n=q(y,"DIV",{class:!0});var w=K(n);i=q(w,"P",{});var x=K(i);o=Ie(x,"Hi, how are you doing?"),x.forEach(C),a=fe(w);for(let k=0;k<h.length;k+=1)h[k].l(w);w.forEach(C),u=fe(y),d&&d.l(y),y.forEach(C),this.h()},h(){O(n,"class","words svelte-g7dmgb"),O(t,"class","container svelte-g7dmgb")},m(p,y){oe(p,t,y),B(t,n),B(n,i),B(i,o),B(n,a);for(let w=0;w<h.length;w+=1)h[w].m(n,null);B(t,u),d&&d.m(t,null),c=!0},p(p,[y]){if(y&14){g=p[2];let w;for(w=0;w<g.length;w+=1){const x=Dc(p,g,w);h[w]?h[w].p(x,y):(h[w]=Nc(x),h[w].c(),h[w].m(n,null))}for(;w<h.length;w+=1)h[w].d(1);h.length=g.length}p[0]?d?(d.p(p,y),y&1&&re(d,1)):(d=Bc(p),d.c(),re(d,1),d.m(t,null)):d&&($t(),le(d,1,1,()=>{d=null}),Dt())},i(p){c||(re(d),c=!0)},o(p){le(d),c=!1},d(p){p&&C(t),tn(h,p),d&&d.d()}}}function Ib(s,t,n){let i,o;Te(s,ns,d=>n(4,i=d)),Te(s,wr,d=>n(1,o=d));const a=["ok","good","busy"],u=new ul.Howl({src:["assets/sound/after-basic.wav"]});let c;const g=async()=>{const d=await yl(),p=an.orderBy(d.filter(y=>y.basic_word!==""),"created_at","desc").slice(0,50);n(0,c=p.map(y=>an.pick(y,["id","created_at","basic_word"])))},h=async d=>{u.play();const p=d.target.id;if(bn(wr,o=p,o),i===void 0){const y=await Dw({table:"emotions",data:{basic_word:p}});bn(ns,i=y[0].id,i),g()}else await vl({table:"emotions",column:"basic_word",value:o,id:i})};return ll(()=>{u.unload()}),[c,o,a,h]}class Sb extends Ve{constructor(t){super(),Je(this,t,Ib,kb,Ke,{})}}const Ob=`<svg id="grey-wheel" viewBox="0 0 1150 1121" fill="none" xmlns="http://www.w3.org/2000/svg">
<g id="slices">
<path id="grateful" d="M536.5 53.5L433 72L536 429L564 425L536.5 53.5Z" fill="black"/>
<path id="connected" d="M544 52.5L674 59L595 428.5L569 424.5L544 52.5Z" fill="black"/>
<path id="belonging" d="M425 73.5L311 120.5L500.5 439L531.5 428.5L425 73.5Z" fill="black"/>
<path id="avoidant" d="M198.5 202.5L302.5 126L493.5 442L464 465.5L198.5 202.5Z" fill="black"/>
<path id="guilty" d="M119 303L195 207L459.5 468.5L442 494.5L119 303Z" fill="black"/>
<path id="embarassed" d="M116 309.5L66.5 417L428.5 527.5L439 498.5L116 309.5Z" fill="black"/>
<path id="not-good-enough" d="M423 563L46.5 551.5L64.5 423L427 533.5L423 563Z" fill="black"/>
<path id="overwhelmed" d="M429 608L68 700.5L46.5 558.5L422.5 569L429 608Z" fill="black"/>
<path id="anxious" d="M116.5 813.5L70.5 707.5L430.5 612L447.5 646L116.5 813.5Z" fill="black"/>
<path id="worried" d="M450 650L473.5 677L217.5 934L119.5 818L450 650Z" fill="black"/>
<path id="stressed" d="M477 680L507 699L347.5 1016L223 938.5L477 680Z" fill="black"/>
<path id="isolated" d="M548.5 712L512.5 701L353 1019.5L486.5 1058.5L548.5 712Z" fill="black"/>
<path id="tired" d="M582 715L553 712.5L492 1058.5L612 1065.5L582 715Z" fill="black"/>
<path id="bored" d="M716 1047.5L618.5 1065L587 715L613.5 710L716 1047.5Z" fill="black"/>
<path id="disappointed" d="M618 709.5L648 698.5L831 1000.5L721.5 1046L618 709.5Z" fill="black"/>
<path id="furious" d="M655 695L681.5 673L939.5 925.5L836 997L655 695Z" fill="black"/>
<path id="irritated" d="M684.5 669.5L700 651L1011 845.5L943.5 920L684.5 669.5Z" fill="black"/>
<path id="protective" d="M1015.5 839L1072.5 724.5L718 612.5L703 647L1015.5 839Z" fill="black"/>
<path id="tense" d="M719.5 607.5L723.5 578.5L1102 590L1075.5 718.5L719.5 607.5Z" fill="black"/>
<path id="challenged" d="M1094.5 461.5L719.5 543.5L724 572.5L1102 584L1094.5 461.5Z" fill="black"/>
<path id="motivated" d="M719.5 538L707.5 507L1046 340L1093.5 454L719.5 538Z" fill="black"/>
<path id="proud" d="M704.5 502L681.5 472.5L953.5 202.5L1043.5 335.5L704.5 502Z" fill="black"/>
<path id="creative" d="M678.5 469.5L642.5 443L812.5 104L949.5 198.5L678.5 469.5Z" fill="black"/>
<path id="satisfied" d="M638 441L602 428.5L680 60L808 101.5L638 441Z" fill="black"/>
</g>
</svg>
`;function Rb(s){let t,n,i,o,a,u,c;return{c(){t=G("p"),n=ke("Nice work!"),i=ce(),o=G("button"),a=ke("Edit my words")},l(g){t=q(g,"P",{});var h=K(t);n=Ie(h,"Nice work!"),h.forEach(C),i=fe(g),o=q(g,"BUTTON",{});var d=K(o);a=Ie(d,"Edit my words"),d.forEach(C)},m(g,h){oe(g,t,h),B(t,n),oe(g,i,h),oe(g,o,h),B(o,a),u||(c=qe(o,"click",s[5]),u=!0)},p:ye,i:ye,o:ye,d(g){g&&C(t),g&&C(i),g&&C(o),u=!1,c()}}}function Mb(s){let t,n,i,o,a,u,c,g,h,d,p,y,w,x,k,T,v,A,L,I;function F(z){s[6](z)}let N={slices:Ob,imgSrc:"assets/img/grey_wheel.png",wheelId:"grey-wheel"};return s[0]!==void 0&&(N.selected=s[0]),w=new Mv({props:N}),yt.push(()=>Ar(w,"selected",F)),{c(){t=G("p"),n=ke("Here, you try..."),i=ce(),o=G("p"),a=ke("What do you mean by "),u=G("strong"),c=ke(s[3]),g=ke("?"),h=ce(),d=G("p"),p=ke("Pick as many as you like!"),y=ce(),Oe(w.$$.fragment),k=ce(),T=G("button"),v=ke("Confirm")},l(z){t=q(z,"P",{});var R=K(t);n=Ie(R,"Here, you try..."),R.forEach(C),i=fe(z),o=q(z,"P",{});var H=K(o);a=Ie(H,"What do you mean by "),u=q(H,"STRONG",{});var Z=K(u);c=Ie(Z,s[3]),Z.forEach(C),g=Ie(H,"?"),H.forEach(C),h=fe(z),d=q(z,"P",{});var X=K(d);p=Ie(X,"Pick as many as you like!"),X.forEach(C),y=fe(z),Re(w.$$.fragment,z),k=fe(z),T=q(z,"BUTTON",{});var ue=K(T);v=Ie(ue,"Confirm"),ue.forEach(C)},m(z,R){oe(z,t,R),B(t,n),oe(z,i,R),oe(z,o,R),B(o,a),B(o,u),B(u,c),B(o,g),oe(z,h,R),oe(z,d,R),B(d,p),oe(z,y,R),Me(w,z,R),oe(z,k,R),oe(z,T,R),B(T,v),A=!0,L||(I=qe(T,"click",s[4]),L=!0)},p(z,R){(!A||R&8)&&En(c,z[3]);const H={};!x&&R&1&&(x=!0,H.selected=z[0],kr(()=>x=!1)),w.$set(H)},i(z){A||(re(w.$$.fragment,z),A=!0)},o(z){le(w.$$.fragment,z),A=!1},d(z){z&&C(t),z&&C(i),z&&C(o),z&&C(h),z&&C(d),z&&C(y),Le(w,z),z&&C(k),z&&C(T),L=!1,I()}}}function Uc(s){let t,n;return t=new El({props:{data:s[1],wordAccessor:"deeper_word",groupBy:"deeper_word"}}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p(i,o){const a={};o&2&&(a.data=i[1]),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function Lb(s){let t,n,i,o,a,u;const c=[Mb,Rb],g=[];function h(p,y){return p[2]?0:1}i=h(s),o=g[i]=c[i](s);let d=s[1]&&!s[2]&&Uc(s);return{c(){t=G("div"),n=G("div"),o.c(),a=ce(),d&&d.c(),this.h()},l(p){t=q(p,"DIV",{class:!0});var y=K(t);n=q(y,"DIV",{class:!0});var w=K(n);o.l(w),w.forEach(C),a=fe(y),d&&d.l(y),y.forEach(C),this.h()},h(){O(n,"class","words svelte-yx0er8"),O(t,"class","container svelte-yx0er8")},m(p,y){oe(p,t,y),B(t,n),g[i].m(n,null),B(t,a),d&&d.m(t,null),u=!0},p(p,[y]){let w=i;i=h(p),i===w?g[i].p(p,y):($t(),le(g[w],1,1,()=>{g[w]=null}),Dt(),o=g[i],o?o.p(p,y):(o=g[i]=c[i](p),o.c()),re(o,1),o.m(n,null)),p[1]&&!p[2]?d?(d.p(p,y),y&6&&re(d,1)):(d=Uc(p),d.c(),re(d,1),d.m(t,null)):d&&($t(),le(d,1,1,()=>{d=null}),Dt())},i(p){u||(re(o),re(d),u=!0)},o(p){le(o),le(d),u=!1},d(p){p&&C(t),g[i].d(),d&&d.d()}}}function Cb(s,t,n){let i,o,a;Te(s,ns,x=>n(7,i=x)),Te(s,Xn,x=>n(0,o=x)),Te(s,wr,x=>n(3,a=x));let u,c=!0;const g=new ul.Howl({src:["assets/sound/after-word.wav"]}),h=async()=>{const x=await yl(),T=an.orderBy(x.filter(v=>v.deeper_words),"created_at","desc").slice(0,50).map(v=>an.pick(v,["id","created_at","deeper_words"])).reduce((v,A)=>{const L=A.deeper_words.split("|"),I=an.omit(A,["deeper_words","id"]),F=L.map((N,z)=>({id:`${A.id}-${z}`,deeper_word:N,...I}));return[...v,...F]},[]);n(1,u=T)},d=async()=>{await vl({table:"emotions",column:"deeper_words",value:o.join("|"),id:i})},p=async()=>{await d(),n(2,c=!1)},y=()=>{n(2,c=!0)};ll(()=>{g.unload()});function w(x){o=x,Xn.set(o)}return s.$$.update=()=>{s.$$.dirty&1&&o.length&&h()},[o,u,c,a,p,y,w]}class Pb extends Ve{constructor(t){super(),Je(this,t,Cb,Lb,Ke,{})}}function $b(s){let t,n,i,o;return{c(){t=G("div"),n=G("hex-color-picker"),this.h()},l(a){t=q(a,"DIV",{});var u=K(t);n=q(u,"HEX-COLOR-PICKER",{color:!0}),K(n).forEach(C),u.forEach(C),this.h()},h(){tc(n,"color",s[0])},m(a,u){oe(a,t,u),B(t,n),i||(o=qe(n,"color-changed",s[1]),i=!0)},p(a,[u]){u&1&&tc(n,"color",a[0])},i:ye,o:ye,d(a){a&&C(t),i=!1,o()}}}function Db(s,t,n){let{color:i}=t;const o=a=>{n(0,i=a.detail.value)};return ti(async()=>{(await ni(()=>import("../../chunks/hex-color-picker-5c6f56b9.js"),[],import.meta.url)).default}),s.$$set=a=>{"color"in a&&n(0,i=a.color)},[i,o]}class Lf extends Ve{constructor(t){super(),Je(this,t,Db,$b,Ke,{color:0})}}const Fc=[{hex:"#FFFFFF",name:"White"},{hex:"#000000",name:"Black"},{hex:"#808080",name:"Grey"},{hex:"#ff0000",name:"Red"},{hex:"#ffa500",name:"Orange"},{hex:"#ffff00",name:"Yellow"},{hex:"#008000",name:"Green"},{hex:"#0000ff",name:"Blue"},{hex:"#4b0082",name:"Indigo"},{hex:"#ee82ee",name:"Violet"}];function zc(s){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;s=s.replace(t,function(i,o,a,u){return o+o+a+a+u+u});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function Nb(s,t){return Math.sqrt(Math.pow(s.r-t.r,2)+Math.pow(s.g-t.g,2)+Math.pow(s.b-t.b,2))}function Bb(s){var t=Number.POSITIVE_INFINITY,n;let i=0;return Fc.forEach((o,a)=>{n=Nb(zc(s),zc(o.hex)),n<t&&(t=n,i=a)}),Fc[i]}function Ub(s){let t,n,i,o,a,u,c;return{c(){t=G("p"),n=ke("Nice work!"),i=ce(),o=G("button"),a=ke("Edit my colors"),this.h()},l(g){t=q(g,"P",{});var h=K(t);n=Ie(h,"Nice work!"),h.forEach(C),i=fe(g),o=q(g,"BUTTON",{class:!0});var d=K(o);a=Ie(d,"Edit my colors"),d.forEach(C),this.h()},h(){O(o,"class","svelte-152jnps")},m(g,h){oe(g,t,h),B(t,n),oe(g,i,h),oe(g,o,h),B(o,a),u||(c=qe(o,"click",s[6]),u=!0)},p:ye,i:ye,o:ye,d(g){g&&C(t),g&&C(i),g&&C(o),u=!1,c()}}}function Fb(s){let t,n,i,o,a,u,c,g,h,d,p,y,w,x;function k(v){s[11](v)}let T={};return s[0]!==void 0&&(T.color=s[0]),c=new Lf({props:T}),yt.push(()=>Ar(c,"color",k)),{c(){t=G("p"),n=ke("You're feeling "),i=G("strong"),o=ke(s[4]),a=ke(` - what color is
				it?`),u=ce(),Oe(c.$$.fragment),h=ce(),d=G("button"),p=ke("That's it"),this.h()},l(v){t=q(v,"P",{class:!0});var A=K(t);n=Ie(A,"You're feeling "),i=q(A,"STRONG",{class:!0});var L=K(i);o=Ie(L,s[4]),L.forEach(C),a=Ie(A,` - what color is
				it?`),A.forEach(C),u=fe(v),Re(c.$$.fragment,v),h=fe(v),d=q(v,"BUTTON",{class:!0});var I=K(d);p=Ie(I,"That's it"),I.forEach(C),this.h()},h(){O(i,"class","word svelte-152jnps"),O(t,"class","text svelte-152jnps"),vr(t,"color",s[3],!1),O(d,"class","svelte-152jnps")},m(v,A){oe(v,t,A),B(t,n),B(t,i),B(i,o),B(t,a),oe(v,u,A),Me(c,v,A),oe(v,h,A),oe(v,d,A),B(d,p),y=!0,w||(x=qe(d,"click",s[5]),w=!0)},p(v,A){(!y||A&16)&&En(o,v[4]),A&8&&vr(t,"color",v[3],!1);const L={};!g&&A&1&&(g=!0,L.color=v[0],kr(()=>g=!1)),c.$set(L)},i(v){y||(re(c.$$.fragment,v),y=!0)},o(v){le(c.$$.fragment,v),y=!1},d(v){v&&C(t),v&&C(u),Le(c,v),v&&C(h),v&&C(d),w=!1,x()}}}function jc(s){let t,n;return t=new El({props:{data:s[2],wordAccessor:"deeper_word",groupBy:"color_group",withColor:!0}}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p(i,o){const a={};o&4&&(a.data=i[2]),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function zb(s){let t,n,i,o,a,u;const c=[Fb,Ub],g=[];function h(p,y){return p[1]?0:1}i=h(s),o=g[i]=c[i](s);let d=s[2]&&!s[1]&&jc(s);return{c(){t=G("div"),n=G("div"),o.c(),a=ce(),d&&d.c(),this.h()},l(p){t=q(p,"DIV",{class:!0});var y=K(t);n=q(y,"DIV",{class:!0});var w=K(n);o.l(w),w.forEach(C),a=fe(y),d&&d.l(y),y.forEach(C),this.h()},h(){O(n,"class","words svelte-152jnps"),O(t,"class","container svelte-152jnps")},m(p,y){oe(p,t,y),B(t,n),g[i].m(n,null),B(t,a),d&&d.m(t,null),u=!0},p(p,[y]){let w=i;i=h(p),i===w?g[i].p(p,y):($t(),le(g[w],1,1,()=>{g[w]=null}),Dt(),o=g[i],o?o.p(p,y):(o=g[i]=c[i](p),o.c()),re(o,1),o.m(n,null)),p[2]&&!p[1]?d?(d.p(p,y),y&6&&re(d,1)):(d=jc(p),d.c(),re(d,1),d.m(t,null)):d&&($t(),le(d,1,1,()=>{d=null}),Dt())},i(p){u||(re(o),re(d),u=!0)},o(p){le(o),le(d),u=!1},d(p){p&&C(t),g[i].d(),d&&d.d()}}}const Qi="#b5bbbb";function jb(s,t,n){let i,o,a,u,c,g;Te(s,Kr,F=>n(8,a=F)),Te(s,br,F=>n(9,u=F)),Te(s,Xn,F=>n(10,c=F)),Te(s,ns,F=>n(12,g=F));const h=new ul.Howl({src:["assets/sound/after-color.wav"]});let d=Qi,p=0,y=!0,w;const x=async()=>{const F=await yl(),z=an.orderBy(F.filter(R=>R.deeper_words&&R.colors&&R.colors.split("|").length===R.deeper_words.split("|").length),"created_at","desc").slice(0,50).map(R=>an.pick(R,["id","created_at","deeper_words","colors"])).reduce((R,H)=>{const Z=H.deeper_words.split("|"),X=H.colors.split("|"),ue=an.omit(H,["deeper_words","colors","id"]),ie=Z.map((E,P)=>({id:`${H.id}-${P}`,deeper_word:E,color:X[P],color_group:Bb(X[P]).hex,...ue}));return[...R,...ie]},[]);n(2,w=z)},k=()=>{d!==Qi&&bn(Kr,a=d,a)},T=()=>{u[p]?n(0,d=u[p]):n(0,d=Qi),bn(Kr,a=Qi,a)},v=async()=>{await vl({table:"emotions",column:"colors",value:u.join("|"),id:g})},A=async()=>{h.play(),bn(br,u[p]=d,u),await v(),p+1<c.length?n(7,p+=1):n(1,y=!1),T()},L=()=>{n(1,y=!0),n(7,p=0),n(0,d=u[p]),bn(Kr,a=d,a)};ll(()=>{h.unload()});function I(F){d=F,n(0,d)}return s.$$.update=()=>{s.$$.dirty&1152&&n(4,i=c[p]),s.$$.dirty&1&&k(),s.$$.dirty&256&&n(3,o=as(a)),s.$$.dirty&512&&u.length&&x()},[d,y,w,o,i,A,L,p,a,u,c,I]}class Wb extends Ve{constructor(t){super(),Je(this,t,jb,zb,Ke,{})}}var Hb="Expected a function",Wc=0/0,Gb="[object Symbol]",qb=/^\s+|\s+$/g,Vb=/^[-+]0x[0-9a-f]+$/i,Jb=/^0b[01]+$/i,Kb=/^0o[0-7]+$/i,Zb=parseInt,Yb=typeof ln=="object"&&ln&&ln.Object===Object&&ln,Xb=typeof self=="object"&&self&&self.Object===Object&&self,Qb=Yb||Xb||Function("return this")(),e2=Object.prototype,t2=e2.toString,n2=Math.max,r2=Math.min,Ho=function(){return Qb.Date.now()};function i2(s,t,n){var i,o,a,u,c,g,h=0,d=!1,p=!1,y=!0;if(typeof s!="function")throw new TypeError(Hb);t=Hc(t)||0,rl(n)&&(d=!!n.leading,p="maxWait"in n,a=p?n2(Hc(n.maxWait)||0,t):a,y="trailing"in n?!!n.trailing:y);function w(N){var z=i,R=o;return i=o=void 0,h=N,u=s.apply(R,z),u}function x(N){return h=N,c=setTimeout(v,t),d?w(N):u}function k(N){var z=N-g,R=N-h,H=t-z;return p?r2(H,a-R):H}function T(N){var z=N-g,R=N-h;return g===void 0||z>=t||z<0||p&&R>=a}function v(){var N=Ho();if(T(N))return A(N);c=setTimeout(v,k(N))}function A(N){return c=void 0,y&&i?w(N):(i=o=void 0,u)}function L(){c!==void 0&&clearTimeout(c),h=0,i=g=o=c=void 0}function I(){return c===void 0?u:A(Ho())}function F(){var N=Ho(),z=T(N);if(i=arguments,o=this,g=N,z){if(c===void 0)return x(g);if(p)return c=setTimeout(v,t),w(g)}return c===void 0&&(c=setTimeout(v,t)),u}return F.cancel=L,F.flush=I,F}function rl(s){var t=typeof s;return!!s&&(t=="object"||t=="function")}function s2(s){return!!s&&typeof s=="object"}function o2(s){return typeof s=="symbol"||s2(s)&&t2.call(s)==Gb}function Hc(s){if(typeof s=="number")return s;if(o2(s))return Wc;if(rl(s)){var t=typeof s.valueOf=="function"?s.valueOf():s;s=rl(t)?t+"":t}if(typeof s!="string")return s===0?s:+s;s=s.replace(qb,"");var n=Jb.test(s);return n||Kb.test(s)?Zb(s.slice(2),n?2:8):Vb.test(s)?Wc:+s}var l2=i2;const Cf=uf({width:0,height:0},s=>{const t=()=>s({width:window.innerWidth,height:window.innerHeight});return t(),window.addEventListener("resize",l2(t,250)),()=>{window.removeEventListener("resize",t)}});function a2(s){let t,n,i,o,a,u,c,g,h,d,p,y,w,x,k,T,v,A,L,I,F,N,z,R,H,Z,X,ue;function ie(P){s[17](P)}let E={};return s[5]!==void 0&&(E.color=s[5]),F=new Lf({props:E}),yt.push(()=>Ar(F,"color",ie)),{c(){t=G("div"),n=G("div"),i=G("p"),o=ke("How does "),a=G("span"),u=ke(s[8]),c=ke(" show up in your body?"),g=ce(),h=G("p"),d=ke(`Take a breath\u2013 scan from the top of your head down through your chest,
			down into your toes. Make a mark on the diagram on the right based on what
			you notice.`),p=ce(),y=G("div"),w=G("div"),x=G("canvas"),T=ce(),v=G("div"),L=ce(),I=G("div"),Oe(F.$$.fragment),z=ce(),R=G("button"),H=ke("clear"),this.h()},l(P){t=q(P,"DIV",{class:!0});var U=K(t);n=q(U,"DIV",{class:!0});var Q=K(n);i=q(Q,"P",{});var te=K(i);o=Ie(te,"How does "),a=q(te,"SPAN",{class:!0});var ee=K(a);u=Ie(ee,s[8]),ee.forEach(C),c=Ie(te," show up in your body?"),te.forEach(C),g=fe(Q),h=q(Q,"P",{});var pe=K(h);d=Ie(pe,`Take a breath\u2013 scan from the top of your head down through your chest,
			down into your toes. Make a mark on the diagram on the right based on what
			you notice.`),pe.forEach(C),Q.forEach(C),p=fe(U),y=q(U,"DIV",{class:!0});var _e=K(y);w=q(_e,"DIV",{class:!0});var Ce=K(w);x=q(Ce,"CANVAS",{height:!0,width:!0,style:!0,class:!0}),K(x).forEach(C),T=fe(Ce),v=q(Ce,"DIV",{class:!0,style:!0}),K(v).forEach(C),Ce.forEach(C),L=fe(_e),I=q(_e,"DIV",{class:!0});var at=K(I);Re(F.$$.fragment,at),z=fe(at),R=q(at,"BUTTON",{});var Ze=K(R);H=Ie(Ze,"clear"),Ze.forEach(C),at.forEach(C),_e.forEach(C),U.forEach(C),this.h()},h(){O(a,"class","word svelte-16bfp5"),O(n,"class","words svelte-16bfp5"),O(x,"height",s[0]),O(x,"width",s[6]),O(x,"style",k=`background-image: url(${s[7]})`),O(x,"class","svelte-16bfp5"),O(v,"class","cursor svelte-16bfp5"),O(v,"style",A=`--color: ${s[5]}`),He(v,"visible",s[4]),vr(v,"left",`${s[2]}px`,!1),vr(v,"top",`${s[3]}px`,!1),O(w,"class","canvas svelte-16bfp5"),O(I,"class","color-picker svelte-16bfp5"),O(y,"class","interactive svelte-16bfp5"),O(t,"class","container svelte-16bfp5")},m(P,U){oe(P,t,U),B(t,n),B(n,i),B(i,o),B(i,a),B(a,u),B(i,c),B(n,g),B(n,h),B(h,d),B(t,p),B(t,y),B(y,w),B(w,x),s[16](x),B(w,T),B(w,v),B(y,L),B(y,I),Me(F,I,null),B(I,z),B(I,R),B(R,H),Z=!0,X||(ue=[qe(x,"mousedown",s[9]),qe(x,"mouseup",s[10]),qe(x,"mousemove",s[11]),qe(x,"mouseenter",s[12]),qe(x,"mouseleave",s[13]),qe(R,"click",s[14])],X=!0)},p(P,[U]){(!Z||U&1)&&O(x,"height",P[0]),(!Z||U&64)&&O(x,"width",P[6]),(!Z||U&128&&k!==(k=`background-image: url(${P[7]})`))&&O(x,"style",k),(!Z||U&32&&A!==(A=`--color: ${P[5]}`))&&O(v,"style",A),(!Z||U&16)&&He(v,"visible",P[4]),U&4&&vr(v,"left",`${P[2]}px`,!1),U&8&&vr(v,"top",`${P[3]}px`,!1);const Q={};!N&&U&32&&(N=!0,Q.color=P[5],kr(()=>N=!1)),F.$set(Q)},i(P){Z||(re(F.$$.fragment,P),Z=!0)},o(P){le(F.$$.fragment,P),Z=!1},d(P){P&&C(t),s[16](null),Le(F),X=!1,us(ue)}}}function u2(s,t,n){let i,o,a,u,c,g;Te(s,Cf,H=>n(15,u=H)),Te(s,br,H=>n(20,c=H)),Te(s,Xn,H=>n(21,g=H));let h,d,p=!1,y,w,x=!1,k=an.sample(g),T=an.sample(c);const v=H=>{p=!0,L(H)},A=()=>{p=!1,d.beginPath()},L=H=>{n(2,y=H.offsetX),n(3,w=H.offsetY),p&&(d.lineWidth=4,d.lineCap="round",d.lineTo(H.offsetX,H.offsetY),d.strokeStyle=T,d.stroke(),d.beginPath(),d.moveTo(H.offsetX,H.offsetY))},I=()=>{n(4,x=!0)},F=()=>{n(4,x=!1)},N=()=>{d.clearRect(0,0,o,i)};ti(()=>{d=h.getContext("2d")});function z(H){yt[H?"unshift":"push"](()=>{h=H,n(1,h)})}function R(H){T=H,n(5,T)}return s.$$.update=()=>{s.$$.dirty&32768&&n(0,i=u.height*.5),s.$$.dirty&1&&n(6,o=i)},n(7,a=`${sl}/assets/img/blank_body.png`),[i,h,y,w,x,T,o,a,k,v,A,L,I,F,N,u,z,R]}class c2 extends Ve{constructor(t){super(),Je(this,t,u2,a2,Ke,{})}}function Gc(s){let t,n;return{c(){t=G("div"),n=ke(s[1]),this.h()},l(i){t=q(i,"DIV",{class:!0});var o=K(t);n=Ie(o,s[1]),o.forEach(C),this.h()},h(){O(t,"class","title svelte-18g1jre")},m(i,o){oe(i,t,o),B(t,n)},p(i,o){o&2&&En(n,i[1])},d(i){i&&C(t)}}}function f2(s){let t,n,i,o,a,u,c=s[2]&&Gc(s);return{c(){t=G("div"),n=G("img"),o=ce(),c&&c.c(),this.h()},l(g){t=q(g,"DIV",{class:!0});var h=K(t);n=q(h,"IMG",{src:!0,class:!0}),o=fe(h),c&&c.l(h),h.forEach(C),this.h()},h(){dt(n.src,i=`assets/img/gallery/${s[0]}`)||O(n,"src",i),O(n,"class","svelte-18g1jre"),He(n,"faded",s[2]),O(t,"class","card svelte-18g1jre")},m(g,h){oe(g,t,h),B(t,n),B(t,o),c&&c.m(t,null),a||(u=[qe(t,"mouseenter",s[4]),qe(t,"mouseleave",s[5]),qe(t,"click",s[3])],a=!0)},p(g,[h]){h&1&&!dt(n.src,i=`assets/img/gallery/${g[0]}`)&&O(n,"src",i),h&4&&He(n,"faded",g[2]),g[2]?c?c.p(g,h):(c=Gc(g),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i:ye,o:ye,d(g){g&&C(t),c&&c.d(),a=!1,us(u)}}}function h2(s,t,n){let i;Te(s,Er,d=>n(6,i=d));let{img:o}=t,{title:a}=t,u=!1;const c=()=>{bn(Er,i=o,i)},g=()=>n(2,u=!0),h=()=>n(2,u=!1);return s.$$set=d=>{"img"in d&&n(0,o=d.img),"title"in d&&n(1,a=d.title)},[o,a,u,c,g,h]}class _r extends Ve{constructor(t){super(),Je(this,t,h2,f2,Ke,{img:0,title:1})}}function d2(s){return new Promise((t,n)=>{const i=new Image;i.onload=()=>t(i),i.onerror=()=>n(`error loading ${s}`),i.src=s})}function g2(s){let t,n,i,o,a,u,c,g,h,d,p,y,w,x,k,T,v;return{c(){t=G("div"),n=G("div"),i=G("img"),u=ce(),c=G("div"),g=G("div"),h=ke("Zoom"),d=ce(),p=G("button"),y=ke("+"),w=ce(),x=G("button"),k=ke("-"),this.h()},l(A){t=q(A,"DIV",{class:!0});var L=K(t);n=q(L,"DIV",{class:!0});var I=K(n);i=q(I,"IMG",{src:!0,class:!0}),I.forEach(C),L.forEach(C),u=fe(A),c=q(A,"DIV",{class:!0});var F=K(c);g=q(F,"DIV",{class:!0});var N=K(g);h=Ie(N,"Zoom"),N.forEach(C),d=fe(F),p=q(F,"BUTTON",{class:!0});var z=K(p);y=Ie(z,"+"),z.forEach(C),w=fe(F),x=q(F,"BUTTON",{class:!0});var R=K(x);k=Ie(R,"-"),R.forEach(C),F.forEach(C),this.h()},h(){dt(i.src,o=s[0])||O(i,"src",o),O(i,"class","svelte-efz6ni"),O(n,"class","image-wrapper svelte-efz6ni"),O(t,"class","outer svelte-efz6ni"),xr(()=>s[8].call(t)),O(g,"class","zoom-title svelte-efz6ni"),O(p,"class","svelte-efz6ni"),O(x,"class","svelte-efz6ni"),O(c,"class","buttons svelte-efz6ni")},m(A,L){oe(A,t,L),B(t,n),B(n,i),s[6](n),s[7](t),a=ol(t,s[8].bind(t)),oe(A,u,L),oe(A,c,L),B(c,g),B(g,h),B(c,d),B(c,p),B(p,y),B(c,w),B(c,x),B(x,k),T||(v=[qe(p,"click",s[4]),qe(x,"click",s[5])],T=!0)},p(A,[L]){L&1&&!dt(i.src,o=A[0])&&O(i,"src",o)},i:ye,o:ye,d(A){A&&C(t),s[6](null),s[7](null),a(),A&&C(u),A&&C(c),T=!1,us(v)}}}function p2(s,t,n){let i;Te(s,Cf,A=>n(11,i=A));let{src:o}=t,a,u,c,g,h;const d=A=>{lt(u).style("transform",`translate(${A.transform.x}px, ${A.transform.y}px) scale(${A.transform.k})`)},p=()=>{h.scaleBy(lt(a).transition(),1.3)},y=()=>{h.scaleBy(lt(a).transition(),1/1.3)},w=async()=>{h&&lt(a).call(h.transform,al),x()},x=async()=>{if(o!==""){const A=await d2(o);let I=A.height/A.width*g;c=Math.max(i.height*.7,I),h=Tb().scaleExtent([1,4]).translateExtent([[0,0],[g,c]]).on("zoom",d),lt(a).call(h)}};ti(async()=>{x()});function k(A){yt[A?"unshift":"push"](()=>{u=A,n(2,u)})}function T(A){yt[A?"unshift":"push"](()=>{a=A,n(1,a)})}function v(){g=this.clientWidth,n(3,g)}return s.$$set=A=>{"src"in A&&n(0,o=A.src)},s.$$.update=()=>{s.$$.dirty&1&&w()},[o,a,u,g,p,y,k,T,v]}class _2 extends Ve{constructor(t){super(),Je(this,t,p2,g2,Ke,{src:0})}}function m2(s){let t,n,i,o,a,u,c,g;return n=new _2({props:{src:s[1]?`assets/img/gallery/${s[1]}`:""}}),a=new Lv({props:{name:"x"}}),{c(){t=G("div"),Oe(n.$$.fragment),i=ce(),o=G("div"),Oe(a.$$.fragment),this.h()},l(h){t=q(h,"DIV",{class:!0});var d=K(t);Re(n.$$.fragment,d),i=fe(d),o=q(d,"DIV",{class:!0});var p=K(o);Re(a.$$.fragment,p),p.forEach(C),d.forEach(C),this.h()},h(){O(o,"class","close svelte-18kcdsc"),O(t,"class","modal svelte-18kcdsc"),He(t,"visible",s[1])},m(h,d){oe(h,t,d),Me(n,t,null),B(t,i),B(t,o),Me(a,o,null),s[3](t),u=!0,c||(g=qe(o,"click",s[2]),c=!0)},p(h,[d]){const p={};d&2&&(p.src=h[1]?`assets/img/gallery/${h[1]}`:""),n.$set(p),(!u||d&2)&&He(t,"visible",h[1])},i(h){u||(re(n.$$.fragment,h),re(a.$$.fragment,h),u=!0)},o(h){le(n.$$.fragment,h),le(a.$$.fragment,h),u=!1},d(h){h&&C(t),Le(n),Le(a),s[3](null),c=!1,g()}}}function v2(s,t,n){let i;Te(s,Er,c=>n(1,i=c));let o;const a=()=>{bn(Er,i=void 0,i)};function u(c){yt[c?"unshift":"push"](()=>{o=c,n(0,o)})}return[o,i,a,u]}class y2 extends Ve{constructor(t){super(),Je(this,t,v2,m2,Ke,{})}}function w2(s){let t,n,i,o,a,u,c,g,h,d,p,y,w,x,k,T,v;return i=new _r({props:{img:"george_floyd_6.png",title:"George Floyd protests"}}),a=new _r({props:{img:"dress.png",title:"Dress"}}),c=new _r({props:{img:"suit.png",title:"Suit"}}),h=new _r({props:{img:"family.png",title:"Family"}}),y=new _r({props:{img:"pronouns.png",title:"Pronouns"}}),x=new _r({props:{img:"the_things_color.png",title:"Life audit"}}),T=new y2({}),{c(){t=G("div"),n=G("div"),Oe(i.$$.fragment),o=ce(),Oe(a.$$.fragment),u=ce(),Oe(c.$$.fragment),g=ce(),Oe(h.$$.fragment),d=ce(),p=G("div"),Oe(y.$$.fragment),w=ce(),Oe(x.$$.fragment),k=ce(),Oe(T.$$.fragment),this.h()},l(A){t=q(A,"DIV",{class:!0});var L=K(t);n=q(L,"DIV",{class:!0});var I=K(n);Re(i.$$.fragment,I),o=fe(I),Re(a.$$.fragment,I),u=fe(I),Re(c.$$.fragment,I),g=fe(I),Re(h.$$.fragment,I),I.forEach(C),d=fe(L),p=q(L,"DIV",{class:!0});var F=K(p);Re(y.$$.fragment,F),w=fe(F),Re(x.$$.fragment,F),F.forEach(C),L.forEach(C),k=fe(A),Re(T.$$.fragment,A),this.h()},h(){O(n,"class","row svelte-1xkj1d"),O(p,"class","row svelte-1xkj1d"),O(t,"class","container svelte-1xkj1d"),He(t,"faded",s[0])},m(A,L){oe(A,t,L),B(t,n),Me(i,n,null),B(n,o),Me(a,n,null),B(n,u),Me(c,n,null),B(n,g),Me(h,n,null),B(t,d),B(t,p),Me(y,p,null),B(p,w),Me(x,p,null),oe(A,k,L),Me(T,A,L),v=!0},p(A,[L]){(!v||L&1)&&He(t,"faded",A[0])},i(A){v||(re(i.$$.fragment,A),re(a.$$.fragment,A),re(c.$$.fragment,A),re(h.$$.fragment,A),re(y.$$.fragment,A),re(x.$$.fragment,A),re(T.$$.fragment,A),v=!0)},o(A){le(i.$$.fragment,A),le(a.$$.fragment,A),le(c.$$.fragment,A),le(h.$$.fragment,A),le(y.$$.fragment,A),le(x.$$.fragment,A),le(T.$$.fragment,A),v=!1},d(A){A&&C(t),Le(i),Le(a),Le(c),Le(h),Le(y),Le(x),A&&C(k),Le(T,A)}}}function b2(s,t,n){let i;return Te(s,Er,o=>n(0,i=o)),[i]}class E2 extends Ve{constructor(t){super(),Je(this,t,b2,w2,Ke,{})}}function T2(s){let t,n;return{c(){t=G("img"),this.h()},l(i){t=q(i,"IMG",{src:!0,class:!0}),this.h()},h(){dt(t.src,n=`assets/img/${s[1]}`)||O(t,"src",n),O(t,"class","svelte-1xxeb8t"),He(t,"roll-in",s[2]===s[0])},m(i,o){oe(i,t,o)},p(i,[o]){o&2&&!dt(t.src,n=`assets/img/${i[1]}`)&&O(t,"src",n),o&5&&He(t,"roll-in",i[2]===i[0])},i:ye,o:ye,d(i){i&&C(t)}}}function x2(s,t,n){let i;Te(s,rs,u=>n(2,i=u));let{i:o}=t,{img:a}=t;return s.$$set=u=>{"i"in u&&n(0,o=u.i),"img"in u&&n(1,a=u.img)},[o,a,i]}class Tl extends Ve{constructor(t){super(),Je(this,t,x2,T2,Ke,{i:0,img:1})}}function qc(s,t,n){const i=s.slice();return i[3]=t[n],i}function Vc(s){let t,n=s[3]+"";return{c(){t=G("p")},l(i){t=q(i,"P",{});var o=K(t);o.forEach(C)},m(i,o){oe(i,t,o),t.innerHTML=n},p(i,o){o&2&&n!==(n=i[3]+"")&&(t.innerHTML=n)},d(i){i&&C(t)}}}function A2(s){let t,n=s[1],i=[];for(let o=0;o<n.length;o+=1)i[o]=Vc(qc(s,n,o));return{c(){t=G("div");for(let o=0;o<i.length;o+=1)i[o].c();this.h()},l(o){t=q(o,"DIV",{class:!0});var a=K(t);for(let u=0;u<i.length;u+=1)i[u].l(a);a.forEach(C),this.h()},h(){O(t,"class","words svelte-1nq2mrq"),He(t,"visible",s[0]===s[2])},m(o,a){oe(o,t,a);for(let u=0;u<i.length;u+=1)i[u].m(t,null)},p(o,[a]){if(a&2){n=o[1];let u;for(u=0;u<n.length;u+=1){const c=qc(o,n,u);i[u]?i[u].p(c,a):(i[u]=Vc(c),i[u].c(),i[u].m(t,null))}for(;u<i.length;u+=1)i[u].d(1);i.length=n.length}a&5&&He(t,"visible",o[0]===o[2])},i:ye,o:ye,d(o){o&&C(t),tn(i,o)}}}function k2(s,t,n){let i;Te(s,rs,u=>n(2,i=u));let{i:o}=t,{text:a}=t;return s.$$set=u=>{"i"in u&&n(0,o=u.i),"text"in u&&n(1,a=u.text)},[o,a,i]}class I2 extends Ve{constructor(t){super(),Je(this,t,k2,A2,Ke,{i:0,text:1})}}function Jc(s,t,n){const i=s.slice();i[14]=t[n].id,i[15]=t[n].text,i[18]=n;const o=i[4].includes(i[14])?"ground":i[14];return i[16]=o,i}function Kc(s){let t,n;return{c(){t=G("img"),this.h()},l(i){t=q(i,"IMG",{src:!0,class:!0}),this.h()},h(){dt(t.src,n=`assets/img/panels/${s[16]}2.png`)||O(t,"src",n),O(t,"class","full-panel overlay svelte-rykcxq"),He(t,"visible",s[2]===s[18])},m(i,o){oe(i,t,o)},p(i,o){o&2&&!dt(t.src,n=`assets/img/panels/${i[16]}2.png`)&&O(t,"src",n),o&4&&He(t,"visible",i[2]===i[18])},d(i){i&&C(t)}}}function S2(s){let t,n;return t=new I2({props:{i:s[18],text:s[15]}}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p(i,o){const a={};o&2&&(a.text=i[15]),t.$set(a)},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function O2(s){let t,n;return t=new E2({}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p:ye,i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function R2(s){let t,n;return t=new c2({}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p:ye,i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function M2(s){let t,n;return t=new Wb({}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p:ye,i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function L2(s){let t,n;return t=new Pb({}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p:ye,i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function C2(s){let t,n;return t=new Sb({}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p:ye,i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function P2(s){let t,n;return t=new Tl({props:{img:"final_wheel.png",i:s[18]}}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function $2(s){let t,n;return{c(){t=G("img"),this.h()},l(i){t=q(i,"IMG",{class:!0,src:!0}),this.h()},h(){O(t,"class","body-diagram svelte-rykcxq"),dt(t.src,n="assets/img/blank_body.png")||O(t,"src",n)},m(i,o){oe(i,t,o)},i:ye,o:ye,d(i){i&&C(t)}}}function D2(s){let t,n;return t=new Tl({props:{img:"simple_wheel_color.png",i:s[18]}}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function N2(s){let t,n;return{c(){t=G("img"),this.h()},l(i){t=q(i,"IMG",{class:!0,src:!0}),this.h()},h(){O(t,"class","simple-wheel svelte-rykcxq"),dt(t.src,n="assets/img/grey_wheel.png")||O(t,"src",n)},m(i,o){oe(i,t,o)},i:ye,o:ye,d(i){i&&C(t)}}}function B2(s){let t,n;return t=new Tl({props:{img:"grey_wheel_blank.png",i:s[18]}}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function Zc(s){let t,n,i,o,a=s[5].includes(s[14]),u,c,g,h,d,p,y,w,x,k=a&&Kc(s);const T=[C2,L2,M2,R2,O2,S2],v=[];function A(N,z){return N[14]==="survey-basic"?0:N[14]==="survey-words"?1:N[14]==="survey-color"?2:N[14]==="survey-body"?3:N[14]==="gallery"?4:5}c=A(s),g=v[c]=T[c](s);const L=[B2,N2,D2,$2,P2],I=[];function F(N,z){return N[14]==="try-wheel"?0:N[14]==="granularity"?1:N[14]==="color"?2:N[14]==="body"?3:N[14]==="final-wheel"?4:-1}return~(d=F(s))&&(p=I[d]=L[d](s)),{c(){t=G("div"),n=G("img"),o=ce(),k&&k.c(),u=ce(),g.c(),h=ce(),p&&p.c(),y=ce(),this.h()},l(N){t=q(N,"DIV",{class:!0,id:!0});var z=K(t);n=q(z,"IMG",{src:!0,class:!0}),o=fe(z),k&&k.l(z),u=fe(z),g.l(z),h=fe(z),p&&p.l(z),y=fe(z),z.forEach(C),this.h()},h(){dt(n.src,i=`assets/img/panels/${s[16]}.png`)||O(n,"src",i),O(n,"class","full-panel svelte-rykcxq"),O(t,"class","step svelte-rykcxq"),O(t,"id",w=s[14]),He(t,"visible",s[3])},m(N,z){oe(N,t,z),B(t,n),B(t,o),k&&k.m(t,null),B(t,u),v[c].m(t,null),B(t,h),~d&&I[d].m(t,null),B(t,y),x=!0},p(N,z){(!x||z&2&&!dt(n.src,i=`assets/img/panels/${N[16]}.png`))&&O(n,"src",i),z&2&&(a=N[5].includes(N[14])),a?k?k.p(N,z):(k=Kc(N),k.c(),k.m(t,u)):k&&(k.d(1),k=null);let R=c;c=A(N),c===R?v[c].p(N,z):($t(),le(v[R],1,1,()=>{v[R]=null}),Dt(),g=v[c],g?g.p(N,z):(g=v[c]=T[c](N),g.c()),re(g,1),g.m(t,h));let H=d;d=F(N),d!==H&&(p&&($t(),le(I[H],1,1,()=>{I[H]=null}),Dt()),~d?(p=I[d],p||(p=I[d]=L[d](N),p.c()),re(p,1),p.m(t,y)):p=null),(!x||z&2&&w!==(w=N[14]))&&O(t,"id",w),(!x||z&8)&&He(t,"visible",N[3])},i(N){x||(re(g),re(p),x=!0)},o(N){le(g),le(p),x=!1},d(N){N&&C(t),k&&k.d(),v[c].d(),~d&&I[d].d()}}}function U2(s){let t,n,i=s[1],o=[];for(let u=0;u<i.length;u+=1)o[u]=Zc(Jc(s,i,u));const a=u=>le(o[u],1,1,()=>{o[u]=null});return{c(){for(let u=0;u<o.length;u+=1)o[u].c();t=$n()},l(u){for(let c=0;c<o.length;c+=1)o[c].l(u);t=$n()},m(u,c){for(let g=0;g<o.length;g+=1)o[g].m(u,c);oe(u,t,c),n=!0},p(u,c){if(c&62){i=u[1];let g;for(g=0;g<i.length;g+=1){const h=Jc(u,i,g);o[g]?(o[g].p(h,c),re(o[g],1)):(o[g]=Zc(h),o[g].c(),re(o[g],1),o[g].m(t.parentNode,t))}for($t(),g=i.length;g<o.length;g+=1)a(g);Dt()}},i(u){if(!n){for(let c=0;c<i.length;c+=1)re(o[c]);n=!0}},o(u){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)le(o[c]);n=!1},d(u){tn(o,u),u&&C(t)}}}function F2(s){let t,n,i;function o(u){s[11](u)}let a={$$slots:{default:[U2]},$$scope:{ctx:s}};return s[2]!==void 0&&(a.value=s[2]),t=new U1({props:a}),yt.push(()=>Ar(t,"value",o)),s[12](t),{c(){Oe(t.$$.fragment)},l(u){Re(t.$$.fragment,u)},m(u,c){Me(t,u,c),i=!0},p(u,[c]){const g={};c&524302&&(g.$$scope={dirty:c,ctx:u}),!n&&c&4&&(n=!0,g.value=u[2],kr(()=>n=!1)),t.$set(g)},i(u){i||(re(t.$$.fragment,u),i=!0)},o(u){le(t.$$.fragment,u),i=!1},d(u){s[12](null),Le(t,u)}}}function z2(s,t,n){let i,o,a,u,c,g,h,d;Te(s,br,v=>n(8,u=v)),Te(s,Xn,v=>n(9,c=v)),Te(s,wr,v=>n(10,g=v)),Te(s,rs,v=>n(2,h=v)),Te(s,Xr,v=>n(3,d=v));let p;const y=async()=>{await xv(),p.refreshNodes(a)},w=["survey-words","survey-color","survey-body","try-wheel","granularity","color","body","fascinating","brene","final-wheel","visual-language","gallery","closing"],x=["core","body-color"];function k(v){h=v,rs.set(h)}function T(v){yt[v?"unshift":"push"](()=>{p=v,n(0,p)})}return s.$$.update=()=>{s.$$.dirty&1792&&n(7,i=g?c.length<=0?"survey-words":u.length<=0?"survey-color":null:"survey-basic"),s.$$.dirty&128&&n(6,o=i?qt.steps.findIndex(v=>v.id===i)+1:qt.steps.length),s.$$.dirty&64&&n(1,a=qt.steps.map((v,A)=>({...v,i:A})).slice(0,o)),s.$$.dirty&3&&p&&y()},[p,a,h,d,w,x,o,i,u,c,g,k,T]}class j2 extends Ve{constructor(t){super(),Je(this,t,z2,F2,Ke,{})}}const W2=uf(0,s=>{let t=!1,n=0;const i=()=>{s(n),t=!1},o=()=>{n=document.querySelector("div.everything").scrollLeft,t||(requestAnimationFrame(i),t=!0)};{const a=document.querySelector("div.everything");a&&a.addEventListener("scroll",o)}return()=>{{const a=document.querySelector("div.everything");a&&a.removeEventListener("scroll",o)}}});function Yc(s,t,n){const i=s.slice();i[21]=t[n],i[25]=n;const o=i[21].name==="source"?0:1;i[22]=o;const a=i[2][i[25]-1]?i[2][i[25]-1]:i[6]?i[6]:"";return i[23]=a,i}function Xc(s,t,n){const i=s.slice();return i[26]=t[n],i}function Qc(s){let t;return{c(){t=ze("line"),this.h()},l(n){t=je(n,"line",{stroke:!0}),K(t).forEach(C),this.h()},h(){O(t,"stroke","darkgrey")},m(n,i){oe(n,t,i)},p:ye,d(n){n&&C(t)}}}function ef(s){let t,n=s[23]+"",i,o,a;return{c(){t=ze("text"),i=ke(n),this.h()},l(u){t=je(u,"text",{class:!0});var c=K(t);i=Ie(c,n),c.forEach(C),this.h()},h(){O(t,"class","label svelte-1g6a8ym")},m(u,c){oe(u,t,c),B(t,i),a=!0},p(u,c){(!a||c&68)&&n!==(n=u[23]+"")&&En(i,n)},i(u){a||(xr(()=>{o||(o=ts(t,is,{},!0)),o.run(1)}),a=!0)},o(u){o||(o=ts(t,is,{},!1)),o.run(0),a=!1},d(u){u&&C(t),u&&o&&o.end()}}}function tf(s){let t,n,i,o,a,u,c=s[23]!==""&&ef(s);return{c(){t=ze("g"),n=ze("polygon"),i=ze("ellipse"),c&&c.c(),this.h()},l(g){t=je(g,"g",{class:!0,opacity:!0});var h=K(t);n=je(h,"polygon",{points:!0,class:!0,fill:!0,opacity:!0}),K(n).forEach(C),i=je(h,"ellipse",{class:!0,rx:!0,ry:!0,fill:!0,filter:!0}),K(i).forEach(C),c&&c.l(h),h.forEach(C),this.h()},h(){O(n,"points",`0,${s[7]+2} -3,${s[7]+8} 3,${s[7]+8}`),O(n,"class","triangle"),O(n,"fill",Yn.color["grey-balloon"]),O(n,"opacity",.75),O(i,"class",o=s[21].name==="source"?"source":"balloon"),O(i,"rx",s[7]),O(i,"ry",s[7]*1.2),O(i,"fill",Yn.color["grey-balloon"]),O(i,"filter","url(#inset-shadow)"),O(t,"class","node"),O(t,"opacity",a=s[22])},m(g,h){oe(g,t,h),B(t,n),B(t,i),c&&c.m(t,null),u=!0},p(g,h){(!u||h&2&&o!==(o=g[21].name==="source"?"source":"balloon"))&&O(i,"class",o),g[23]!==""?c?(c.p(g,h),h&68&&re(c,1)):(c=ef(g),c.c(),re(c,1),c.m(t,null)):c&&($t(),le(c,1,1,()=>{c=null}),Dt()),(!u||h&2&&a!==(a=g[22]))&&O(t,"opacity",a)},i(g){u||(re(c),u=!0)},o(g){le(c),u=!1},d(g){g&&C(t),c&&c.d()}}}function H2(s){let t,n,i,o,a,u,c,g,h,d,p,y,w,x,k,T,v,A,L=s[0],I=[];for(let R=0;R<L.length;R+=1)I[R]=Qc(Xc(s,L,R));let F=s[1],N=[];for(let R=0;R<F.length;R+=1)N[R]=tf(Yc(s,F,R));const z=R=>le(N[R],1,1,()=>{N[R]=null});return{c(){t=G("img"),i=ce(),o=ze("svg"),a=ze("filter"),u=ze("feComponentTransfer"),c=ze("feFuncA"),g=ze("feGaussianBlur"),h=ze("feOffset"),d=ze("feFlood"),p=ze("feComposite"),y=ze("feComposite"),w=ze("feMerge"),x=ze("feMergeNode"),k=ze("feMergeNode"),T=ze("g");for(let R=0;R<I.length;R+=1)I[R].c();v=ze("g");for(let R=0;R<N.length;R+=1)N[R].c();this.h()},l(R){t=q(R,"IMG",{class:!0,src:!0}),i=fe(R),o=je(R,"svg",{id:!0,width:!0,height:!0,class:!0});var H=K(o);a=je(H,"filter",{id:!0,x:!0,y:!0,width:!0,height:!0});var Z=K(a);u=je(Z,"feComponentTransfer",{in:!0});var X=K(u);c=je(X,"feFuncA",{type:!0,tableValues:!0}),K(c).forEach(C),X.forEach(C),g=je(Z,"feGaussianBlur",{stdDeviation:!0}),K(g).forEach(C),h=je(Z,"feOffset",{dx:!0,dy:!0,result:!0}),K(h).forEach(C),d=je(Z,"feFlood",{"flood-color":!0,result:!0}),K(d).forEach(C),p=je(Z,"feComposite",{in2:!0,operator:!0}),K(p).forEach(C),y=je(Z,"feComposite",{in2:!0,operator:!0}),K(y).forEach(C),w=je(Z,"feMerge",{});var ue=K(w);x=je(ue,"feMergeNode",{in:!0}),K(x).forEach(C),k=je(ue,"feMergeNode",{}),K(k).forEach(C),ue.forEach(C),Z.forEach(C),T=je(H,"g",{class:!0});var ie=K(T);for(let P=0;P<I.length;P+=1)I[P].l(ie);ie.forEach(C),v=je(H,"g",{class:!0});var E=K(v);for(let P=0;P<N.length;P+=1)N[P].l(E);E.forEach(C),H.forEach(C),this.h()},h(){O(t,"class","character svelte-1g6a8ym"),dt(t.src,n="assets/img/wagon.png")||O(t,"src",n),He(t,"visible",s[4]),O(c,"type","table"),O(c,"tableValues","1 0"),O(u,"in","SourceAlpha"),O(g,"stdDeviation","4"),O(h,"dx","6"),O(h,"dy","-5"),O(h,"result","offsetblur"),O(d,"flood-color","rgb(0, 0, 0, 0.3)"),O(d,"result","color"),O(p,"in2","offsetblur"),O(p,"operator","in"),O(y,"in2","SourceAlpha"),O(y,"operator","in"),O(x,"in","SourceGraphic"),O(a,"id","inset-shadow"),O(a,"x","-50%"),O(a,"y","-50%"),O(a,"width","200%"),O(a,"height","200%"),O(T,"class","links"),O(v,"class","nodes"),O(o,"id","character-balloon-area"),O(o,"width",s[5]),O(o,"height",400),O(o,"class","svelte-1g6a8ym"),He(o,"visible",s[4])},m(R,H){oe(R,t,H),oe(R,i,H),oe(R,o,H),B(o,a),B(a,u),B(u,c),B(a,g),B(a,h),B(a,d),B(a,p),B(a,y),B(a,w),B(w,x),B(w,k),B(o,T);for(let Z=0;Z<I.length;Z+=1)I[Z].m(T,null);B(o,v);for(let Z=0;Z<N.length;Z+=1)N[Z].m(v,null);s[11](o),A=!0},p(R,[H]){if((!A||H&16)&&He(t,"visible",R[4]),H&1){L=R[0];let Z;for(Z=0;Z<L.length;Z+=1){const X=Xc(R,L,Z);I[Z]?I[Z].p(X,H):(I[Z]=Qc(),I[Z].c(),I[Z].m(T,null))}for(;Z<I.length;Z+=1)I[Z].d(1);I.length=L.length}if(H&198){F=R[1];let Z;for(Z=0;Z<F.length;Z+=1){const X=Yc(R,F,Z);N[Z]?(N[Z].p(X,H),re(N[Z],1)):(N[Z]=tf(X),N[Z].c(),re(N[Z],1),N[Z].m(v,null))}for($t(),Z=F.length;Z<N.length;Z+=1)z(Z);Dt()}(!A||H&32)&&O(o,"width",R[5]),(!A||H&16)&&He(o,"visible",R[4])},i(R){if(!A){for(let H=0;H<F.length;H+=1)re(N[H]);A=!0}},o(R){N=N.filter(Boolean);for(let H=0;H<N.length;H+=1)le(N[H]);A=!1},d(R){R&&C(t),R&&C(i),R&&C(o),tn(I,R),tn(N,R),s[11](null)}}}function G2(s,t,n){let i,o,a,u,c,g,h,d,p,y,w;Te(s,W2,R=>n(9,c=R)),Te(s,br,R=>n(10,g=R)),Te(s,Xn,R=>n(2,h=R)),Te(s,kv,R=>n(13,d=R)),Te(s,Xr,R=>n(4,p=R)),Te(s,Go,R=>n(5,y=R)),Te(s,wr,R=>n(6,w=R));let x;const k=d?12:20,T=d?65:98,v=d?350:278,A=d?75:150,L=async()=>{if(u){const R=o.find(H=>H.name==="source");R.fx=c+T}},I=()=>{g.length&&(lt(x).selectAll("ellipse").data(o).attr("fill",(R,H)=>R.name==="source"?null:g[H-1]?g[H-1]:Yn.color["grey-balloon"]),lt(x).selectAll("polygon").data(o).attr("fill",(R,H)=>R.name==="source"?null:g[H-1]?g[H-1]:Yn.color["grey-balloon"]),lt(x).selectAll("text").data(o).attr("fill",(R,H)=>{if(R.name==="source")return null;const Z=g[H-1]?g[H-1]:Yn.color["grey-balloon"];return as(Z)}))},F=()=>{if(c&&u){const R=o.find(H=>H.name==="source");R.fx=c+T,u.alpha(.5).restart()}},N=()=>{lt(x).selectAll("line").data(a).attr("x1",R=>R.source.x).attr("y1",R=>R.source.y).attr("x2",R=>R.target.x).attr("y2",R=>R.target.y),lt(x).selectAll("g.node").data(o).attr("transform",R=>`translate(${R.x}, ${R.y})`)};function z(R){yt[R?"unshift":"push"](()=>{x=R,n(3,x)})}return s.$$.update=()=>{s.$$.dirty&4&&n(8,i=h.length>0?h.length:1),s.$$.dirty&256&&n(1,o=[{name:"source",fx:T,fy:v},...hc(i).map(R=>({name:R}))]),s.$$.dirty&256&&n(0,a=hc(i).map(R=>({source:0,target:R+1}))),s.$$.dirty&256&&L(),s.$$.dirty&1024&&I(),s.$$.dirty&512&&F(),s.$$.dirty&3&&(u=Of(o).force("charge",Rf().strength(5)).force("collision",If().radius(R=>k)).force("y",Mf().y(R=>R.name==="source"?500:0)).force("link",Sf().links(a).distance(R=>A)).on("tick",N))},[a,o,h,x,p,y,w,k,i,c,g,z]}class q2 extends Ve{constructor(t){super(),Je(this,t,G2,H2,Ke,{})}}const V2='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192.6 50"><path class="st0" d="M150.1 9.5c1.5 0 2.8 1.3 2.8 2.8s-1.3 2.8-2.8 2.8-2.8-1.3-2.8-2.8 1.3-2.8 2.8-2.8zM147.2 17.3h5.6v18.2h-5.6V17.3zM77.1 9.5h-8.9v26h5.6v-8.1h3.3c4.9 0 8.9-4 8.9-8.9s-3.9-9-8.9-9zm0 12.3h-3.3v-6.6h3.3c1.8 0 3.3 1.5 3.3 3.3s-1.4 3.3-3.3 3.3zM105.7 17.6h-5.6v8.9c0 1.8-1.5 3.3-3.3 3.3s-3.3-1.5-3.3-3.3v-8.9h-5.6v8.9c0 4.9 4 8.9 8.9 8.9s8.9-4 8.9-8.9v-8.9zM164.1 17.6c-4.9 0-8.9 4-8.9 8.9v8.9h5.6v-8.9c0-1.8 1.5-3.3 3.3-3.3s3.3 1.5 3.3 3.3v8.9h5.6v-8.9c0-4.9-4-8.9-8.9-8.9zM119.7 16.2v1.4h-3.3c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h8.9V9.5l-5.6 3.3v3.4zm.1 8.4V29.8h-3.3c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3v1.4zM139.3 16.2v1.4H136c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h8.9V9.5l-5.6 3.3v3.4zm.1 8.4V29.8H136c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3v1.4h.1zM183.7 17.6c-4.9 0-8.9 4-8.9 8.9s4 8.9 8.9 8.9h3.3v5.1c0 1.8-1.5 3.3-3.3 3.3s-3.3-1.5-3.3-3.3V38l-5.6 3.3c.4 4.5 4.2 8.1 8.9 8.1 4.9 0 8.9-4 8.9-8.9V17.6h-8.9zm3.3 5.8V30h-3.3c-1.8 0-3.3-1.5-3.3-3.3s1.5-3.3 3.3-3.3h3.3zM28.6 17.6c-1.2 0-2.3.2-3.3.6V9.5l-5.6 3.3v22.6h5.6v-8.9c0-1.8 1.5-3.3 3.3-3.3s3.3 1.5 3.3 3.3v8.9h5.6v-8.9c0-4.9-4-8.9-8.9-8.9zM17.8 9.5H0v5.6h6.1v20.3h5.6V15.1h6.1V9.5zM48.3 30.2c-.4 0-1.2-.1-1.8-.4l5.2-2.1 5.6-2.3-1-2.3-.1-.2c-.1-.3-.3-.6-.5-1-.1-.1-.1-.2-.2-.3 0 0 0-.1-.1-.1l-.1-.1-.1-.1c-1.6-2.2-4-3.5-6.7-3.7h-.6c-4.9 0-8.9 4-8.9 8.9 0 .4 0 .9.1 1.4V28.2c0 .3.1.5.2.8v.2c.1.3.2.7.4 1v.2c.1.3.3.5.4.8 0 .1.1.1.1.2.1.2.3.4.4.6v.1s0 .1.1.1l.1.1c1.7 2.1 4.4 3.4 7.2 3.4h6.1v-5.2c.4-.3-3.5-.3-5.8-.3zm7.9-7.3zm-11.6 2.8l-.2.1c.2-1.9 1.8-3.5 3.7-3.5.9 0 1.8.4 2.4.9L46.2 25l-1.6.7z"/></svg>';function nf(s,t,n){const i=s.slice();return i[5]=t[n],i}function rf(s,t,n){const i=s.slice();return i[8]=t[n].hed,i[2]=t[n].url,i[9]=t[n].image,i}function sf(s){let t,n,i,o,a,u,c=s[8]+"",g,h,d;return{c(){t=G("div"),n=G("a"),i=G("img"),a=ce(),u=G("span"),g=ke(c),d=ce(),this.h()},l(p){t=q(p,"DIV",{class:!0});var y=K(t);n=q(y,"A",{href:!0,class:!0});var w=K(n);i=q(w,"IMG",{src:!0,alt:!0}),a=fe(w),u=q(w,"SPAN",{class:!0});var x=K(u);g=Ie(x,c),x.forEach(C),w.forEach(C),d=fe(y),y.forEach(C),this.h()},h(){dt(i.src,o="https://pudding.cool/common/assets/thumbnails/640/"+s[9]+".jpg")||O(i,"src",o),O(i,"alt","thumbnail"),O(u,"class","svelte-1gi2agl"),O(n,"href",h="https://pudding.cool/"+s[2]),O(n,"class","svelte-1gi2agl"),O(t,"class","story svelte-1gi2agl")},m(p,y){oe(p,t,y),B(t,n),B(n,i),B(n,a),B(n,u),B(u,g),B(t,d)},p(p,y){y&1&&!dt(i.src,o="https://pudding.cool/common/assets/thumbnails/640/"+p[9]+".jpg")&&O(i,"src",o),y&1&&c!==(c=p[8]+"")&&En(g,c),y&1&&h!==(h="https://pudding.cool/"+p[2])&&O(n,"href",h)},d(p){p&&C(t)}}}function of(s){let t,n,i,o=s[5].name.toUpperCase()+"",a,u;return{c(){t=G("li"),n=G("a"),i=G("span"),a=ke(o),u=ce(),this.h()},l(c){t=q(c,"LI",{class:!0});var g=K(t);n=q(g,"A",{href:!0,class:!0});var h=K(n);i=q(h,"SPAN",{class:!0});var d=K(i);a=Ie(d,o),d.forEach(C),h.forEach(C),u=fe(g),g.forEach(C),this.h()},h(){O(i,"class","svelte-1gi2agl"),O(n,"href",s[5].url),O(n,"class","svelte-1gi2agl"),O(t,"class","svelte-1gi2agl")},m(c,g){oe(c,t,g),B(t,n),B(n,i),B(i,a),B(t,u)},p:ye,d(c){c&&C(t)}}}function J2(s){let t,n,i,o,a,u,c,g,h,d,p,y,w,x=s[0],k=[];for(let A=0;A<x.length;A+=1)k[A]=sf(rf(s,x,A));let T=s[1],v=[];for(let A=0;A<T.length;A+=1)v[A]=of(nf(s,T,A));return{c(){t=G("footer"),n=G("section");for(let A=0;A<k.length;A+=1)k[A].c();i=ce(),o=G("section"),a=G("div"),u=ce(),c=G("p"),g=G("a"),h=ke("The Pudding"),d=ke(`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),p=ce(),y=G("section"),w=G("ul");for(let A=0;A<v.length;A+=1)v[A].c();this.h()},l(A){t=q(A,"FOOTER",{class:!0});var L=K(t);n=q(L,"SECTION",{class:!0});var I=K(n);for(let X=0;X<k.length;X+=1)k[X].l(I);I.forEach(C),i=fe(L),o=q(L,"SECTION",{class:!0});var F=K(o);a=q(F,"DIV",{class:!0});var N=K(a);N.forEach(C),u=fe(F),c=q(F,"P",{});var z=K(c);g=q(z,"A",{href:!0});var R=K(g);h=Ie(R,"The Pudding"),R.forEach(C),d=Ie(z,`
			is a digital publication that explains ideas debated in culture with visual
			essays.`),z.forEach(C),F.forEach(C),p=fe(L),y=q(L,"SECTION",{class:!0});var H=K(y);w=q(H,"UL",{class:!0});var Z=K(w);for(let X=0;X<v.length;X+=1)v[X].l(Z);Z.forEach(C),H.forEach(C),L.forEach(C),this.h()},h(){O(n,"class","stories svelte-1gi2agl"),O(a,"class","wordmark svelte-1gi2agl"),O(g,"href","https://pudding.cool"),O(o,"class","about svelte-1gi2agl"),O(w,"class","svelte-1gi2agl"),O(y,"class","links svelte-1gi2agl"),O(t,"class","svelte-1gi2agl")},m(A,L){oe(A,t,L),B(t,n);for(let I=0;I<k.length;I+=1)k[I].m(n,null);B(t,i),B(t,o),B(o,a),a.innerHTML=V2,B(o,u),B(o,c),B(c,g),B(g,h),B(c,d),B(t,p),B(t,y),B(y,w);for(let I=0;I<v.length;I+=1)v[I].m(w,null)},p(A,[L]){if(L&1){x=A[0];let I;for(I=0;I<x.length;I+=1){const F=rf(A,x,I);k[I]?k[I].p(F,L):(k[I]=sf(F),k[I].c(),k[I].m(n,null))}for(;I<k.length;I+=1)k[I].d(1);k.length=x.length}if(L&2){T=A[1];let I;for(I=0;I<T.length;I+=1){const F=nf(A,T,I);v[I]?v[I].p(F,L):(v[I]=of(F),v[I].c(),v[I].m(w,null))}for(;I<v.length;I+=1)v[I].d(1);v.length=T.length}},i:ye,o:ye,d(A){A&&C(t),tn(k,A),tn(v,A)}}}function K2(s,t,n){let i,o=[];const u=`https://pudding.cool/assets/data/stories.json?v=${Date.now()}`,c=[{name:"about",url:"https://pudding.cool/about"},{name:"facebook",url:"https://facebook.com/pudding.viz/"},{name:"twitter",url:"https://twitter.com/puddingviz/"},{name:"instagram",url:"https://www.instagram.com/the.pudding"},{name:"patreon",url:"https://patreon.com/thepudding/"},{name:"privacy",url:"https://pudding.cool/privacy/"},{name:"newsletter",url:"https://thepuddingmail.substack.com"},{name:"rss",url:"https://pudding.cool/feed/index.xml"}];return ti(async()=>{i=window.location.href;const h=await(await fetch(u)).json();n(0,o=h.filter(d=>!i.includes(d.url)).slice(0,4))}),[o,c,u]}class Z2 extends Ve{constructor(t){super(),Je(this,t,K2,J2,Ke,{})}}function Y2(s){let t,n,i,o,a,u,c,g,h,d,p,y,w;function x(v){s[13](v)}let k={scrollMax:il};s[0]!==void 0&&(k.scrolled=s[0]),n=new D1({props:k}),yt.push(()=>Ar(n,"scrolled",x)),u=new q2({props:{scrollLeft:s[1]?s[1].scrollLeft:0}}),g=new j2({});let T=s[5]&&lf();return{c(){t=G("div"),Oe(n.$$.fragment),o=ce(),a=G("div"),Oe(u.$$.fragment),c=ce(),Oe(g.$$.fragment),h=ce(),T&&T.c(),this.h()},l(v){t=q(v,"DIV",{class:!0,style:!0});var A=K(t);Re(n.$$.fragment,A),o=fe(A),a=q(A,"DIV",{class:!0});var L=K(a);Re(u.$$.fragment,L),c=fe(L),Re(g.$$.fragment,L),L.forEach(C),h=fe(A),T&&T.l(A),A.forEach(C),this.h()},h(){O(a,"class","world svelte-1ku6otz"),O(t,"class","everything svelte-1ku6otz"),O(t,"style",d=`--height: ${s[3]}px; --backgroundColor: ${s[6]}; background-image: url(${s[4]})`)},m(v,A){oe(v,t,A),Me(n,t,null),B(t,o),B(t,a),Me(u,a,null),B(a,c),Me(g,a,null),B(t,h),T&&T.m(t,null),s[14](t),p=!0,y||(w=qe(t,"mousewheel",Av(s[7])),y=!0)},p(v,A){const L={};!i&&A&1&&(i=!0,L.scrolled=v[0],kr(()=>i=!1)),n.$set(L);const I={};A&2&&(I.scrollLeft=v[1]?v[1].scrollLeft:0),u.$set(I),v[5]?T?A&32&&re(T,1):(T=lf(),T.c(),re(T,1),T.m(t,null)):T&&($t(),le(T,1,1,()=>{T=null}),Dt()),(!p||A&88&&d!==(d=`--height: ${v[3]}px; --backgroundColor: ${v[6]}; background-image: url(${v[4]})`))&&O(t,"style",d)},i(v){p||(re(n.$$.fragment,v),re(u.$$.fragment,v),re(g.$$.fragment,v),re(T),p=!0)},o(v){le(n.$$.fragment,v),le(u.$$.fragment,v),le(g.$$.fragment,v),le(T),p=!1},d(v){v&&C(t),Le(n),Le(u),Le(g),T&&T.d(),s[14](null),y=!1,w()}}}function X2(s){let t,n;return t=new Vv({}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p:ye,i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function lf(s){let t,n;return t=new Z2({}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}function Q2(s){let t,n,i,o,a,u,c,g,h,d;xr(s[11]);function p(T){s[12](T)}let y={label:"Text Version",style:"inner"};s[2]!==void 0&&(y.value=s[2]),n=new Uv({props:y}),yt.push(()=>Ar(n,"value",p));const w=[X2,Y2],x=[];function k(T,v){return T[2]==="on"?0:1}return a=k(s),u=x[a]=w[a](s),{c(){t=G("div"),Oe(n.$$.fragment),o=ce(),u.c(),c=$n(),this.h()},l(T){t=q(T,"DIV",{class:!0});var v=K(t);Re(n.$$.fragment,v),v.forEach(C),o=fe(T),u.l(T),c=$n(),this.h()},h(){O(t,"class","toggle svelte-1ku6otz")},m(T,v){oe(T,t,v),Me(n,t,null),oe(T,o,v),x[a].m(T,v),oe(T,c,v),g=!0,h||(d=qe(window,"resize",s[11]),h=!0)},p(T,[v]){const A={};!i&&v&4&&(i=!0,A.value=T[2],kr(()=>i=!1)),n.$set(A);let L=a;a=k(T),a===L?x[a].p(T,v):($t(),le(x[L],1,1,()=>{x[L]=null}),Dt(),u=x[a],u?u.p(T,v):(u=x[a]=w[a](T),u.c()),re(u,1),u.m(c.parentNode,c))},i(T){g||(re(n.$$.fragment,T),re(u),g=!0)},o(T){le(n.$$.fragment,T),le(u),g=!1},d(T){T&&C(t),Le(n),T&&C(o),x[a].d(T),T&&C(c),h=!1,d()}}}const il=400;function eE(s,t,n){let i,o,a,u,c,g,h,d;Te(s,Xr,I=>n(15,a=I)),Te(s,Er,I=>n(16,u=I)),Te(s,br,I=>n(8,c=I)),Te(s,Xn,I=>n(9,g=I)),Te(s,wr,I=>n(10,h=I)),Te(s,Kr,I=>n(6,d=I));let p,y="off",w=0,x;const k=I=>{if(u)return;const F=a&&p.scrollLeft===0&&I.deltaY<0;!a||F?(I.deltaY>0&&w<il||I.deltaY<0&&w>=0)&&n(0,w+=I.deltaY):n(1,p.scrollLeft+=I.deltaY,p)};function T(){n(3,x=window.innerHeight)}function v(I){y=I,n(2,y)}function A(I){w=I,n(0,w)}function L(I){yt[I?"unshift":"push"](()=>{p=I,n(1,p)})}return s.$$.update=()=>{s.$$.dirty&1&&bn(Xr,a=w>=il,a),s.$$.dirty&1792&&n(5,i=h&&g.length>0&&c.length>0)},n(4,o=`${sl}/assets/img/bg.png`),[w,p,y,x,o,i,d,k,c,g,h,T,v,A,L]}class tE extends Ve{constructor(t){super(),Je(this,t,eE,Q2,Ke,{})}}function nE(s){let t,n;return t=new tE({}),{c(){Oe(t.$$.fragment)},l(i){Re(t.$$.fragment,i)},m(i,o){Me(t,i,o),n=!0},p:ye,i(i){n||(re(t.$$.fragment,i),n=!0)},o(i){le(t.$$.fragment,i),n=!1},d(i){Le(t,i)}}}class rE extends Ve{constructor(t){super(),Je(this,t,null,nE,Ke,{})}}function iE(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 4.2.1"),console.log("build: 2022-11-08-16:44"),console.log("--- --- --- --- --- ---")}function sE(s){let t,n,i,o;return t=new Dv({props:{title:s[1],description:s[2],url:s[3],preloadFont:s[0],keywords:s[4]}}),i=new rE({}),{c(){Oe(t.$$.fragment),n=ce(),Oe(i.$$.fragment)},l(a){Re(t.$$.fragment,a),n=fe(a),Re(i.$$.fragment,a)},m(a,u){Me(t,a,u),oe(a,n,u),Me(i,a,u),o=!0},p:ye,i(a){o||(re(t.$$.fragment,a),re(i.$$.fragment,a),o=!0)},o(a){le(t.$$.fragment,a),le(i.$$.fragment,a),o=!1},d(a){Le(t,a),a&&C(n),Le(i,a)}}}function oE(s,t,n){let{data:i}=t;iE();const o=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:a,description:u,url:c,keywords:g}=qt;return nc("copy",qt),nc("data",i.data),s.$$set=h=>{"data"in h&&n(5,i=h.data)},[o,a,u,c,g,i]}class hE extends Ve{constructor(t){super(),Je(this,t,oE,sE,Ke,{data:5})}}export{hE as default};
