import{S as q,i as D,s as N,Z as I,_ as E,m as C,h as k,n as h,b as P,D as M,A as F,e as U,f as S,g as G,d as H,t as b,K as re,Y as ce,v as K,w as V,x as Y,a0 as ae,a8 as oe,y as Z,k as X,a as fe,l as x,c as he,B as ue,N as de,a1 as ge}from"../../../chunks/index-68fc1bdd.js";import{_ as B,w as j}from"../../../chunks/words-e4307a36.js";function p(i){return" M "+i.x+" "+i.y}function R(i){return" L "+i.x+" "+i.y}function $(i,e,t=0,l=0){return" A "+i+" "+i+` 0 ${t} ${l} `+e.x+" "+e.y}function A(i,e,t){return _e(me(i),e,t)}function _e(i,e,t){const l=i.x+e,r=-i.y+t;return{x:l,y:r}}function me(i){const e=i.r*Math.cos(i.theta),t=i.r*Math.sin(i.theta);return{x:e,y:t}}function Se(i){let e,t,l,r;return{c(){e=I("g"),t=I("path"),l=I("path"),r=I("path"),this.h()},l(c){e=E(c,"g",{});var s=C(e);t=E(s,"path",{d:!0,class:!0,fill:!0,stroke:!0,strokewidth:!0,opacity:!0}),C(t).forEach(k),l=E(s,"path",{id:!0,d:!0}),C(l).forEach(k),r=E(s,"path",{"data-id":!0,d:!0,onclick:!0,fill:!0,key:!0}),C(r).forEach(k),s.forEach(k),this.h()},h(){h(t,"d",i[2]),h(t,"class","section"),h(t,"fill",i[0]),h(t,"stroke","white"),h(t,"strokewidth",2),h(t,"opacity",i[5]),h(l,"id",i[4]),h(l,"d",i[3]),h(r,"data-id",i[4]),h(r,"d",i[2]),h(r,"onclick",i[1]),h(r,"fill","transparent"),h(r,"key",i[4])},m(c,s){P(c,e,s),M(e,t),M(e,l),M(e,r)},p(c,[s]){s&4&&h(t,"d",c[2]),s&1&&h(t,"fill",c[0]),s&8&&h(l,"d",c[3]),s&4&&h(r,"d",c[2]),s&2&&h(r,"onclick",c[1])},i:F,o:F,d(c){c&&k(e)}}}function ke(i,e,t){let{section:l}=e,{sectionIndex:r}=e,{layerIndex:c}=e,{layerWidth:s}=e,{layerWidths:n}=e,{positionInLayer:a}=e,{color:o}=e,{startingAngle:d}=e,{sectionAngle:f}=e,{handleSectionClick:m}=e,{selectedSections:g}=e,{r:_}=e;const T=(u,z)=>u===0||u===5?!1:u===2||u===3||u===1&&z>=4&&z<=7||u===4&&z>=0&&z<=3,W=B.sum(B.take(n,c)),y=B.sum(B.take(n,c+1)),v=d+a*f,L=d+(a+1)*f,J=T(r,a)?v+(L-v)*(2/3):v+(L-v)/3,O=l.words[c][a];let w=p(A({r:W,theta:v},_,_));w=w+R(A({r:y,theta:v},_,_)),w=w+$(y,A({r:y,theta:L},_,_)),w=w+R(A({r:W,theta:L},_,_)),c>0&&(w=w+$(W,A({r:W,theta:v},_,_)));let Q=p(A({r:T(r,a)?y:W,theta:J},_,_));Q+=R(A({r:T(r,a)?W:y,theta:J},_,_));const se=g.includes(O)?"0.6":"1";return i.$$set=u=>{"section"in u&&t(6,l=u.section),"sectionIndex"in u&&t(7,r=u.sectionIndex),"layerIndex"in u&&t(8,c=u.layerIndex),"layerWidth"in u&&t(9,s=u.layerWidth),"layerWidths"in u&&t(10,n=u.layerWidths),"positionInLayer"in u&&t(11,a=u.positionInLayer),"color"in u&&t(0,o=u.color),"startingAngle"in u&&t(12,d=u.startingAngle),"sectionAngle"in u&&t(13,f=u.sectionAngle),"handleSectionClick"in u&&t(1,m=u.handleSectionClick),"selectedSections"in u&&t(14,g=u.selectedSections),"r"in u&&t(15,_=u.r)},[o,m,w,Q,O,se,l,r,c,s,n,a,d,f,g,_]}class ye extends q{constructor(e){super(),D(this,e,ke,Se,N,{section:6,sectionIndex:7,layerIndex:8,layerWidth:9,layerWidths:10,positionInLayer:11,color:0,startingAngle:12,sectionAngle:13,handleSectionClick:1,selectedSections:14,r:15})}}function ee(i,e,t){const l=i.slice();return l[10]=e[t],l[0]=t,l}function te(i){let e,t;const l=[{key:i[0]},i[10]];let r={};for(let c=0;c<l.length;c+=1)r=ce(r,l[c]);return e=new ye({props:r}),{c(){K(e.$$.fragment)},l(c){V(e.$$.fragment,c)},m(c,s){Y(e,c,s),t=!0},p(c,s){const n=s&2?ae(l,[l[0],oe(c[10])]):{};e.$set(n)},i(c){t||(S(e.$$.fragment,c),t=!0)},o(c){b(e.$$.fragment,c),t=!1},d(c){Z(e,c)}}}function we(i){let e,t,l=i[1],r=[];for(let s=0;s<l.length;s+=1)r[s]=te(ee(i,l,s));const c=s=>b(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=U()},l(s){for(let n=0;n<r.length;n+=1)r[n].l(s);e=U()},m(s,n){for(let a=0;a<r.length;a+=1)r[a].m(s,n);P(s,e,n),t=!0},p(s,[n]){if(n&2){l=s[1];let a;for(a=0;a<l.length;a+=1){const o=ee(s,l,a);r[a]?(r[a].p(o,n),S(r[a],1)):(r[a]=te(o),r[a].c(),S(r[a],1),r[a].m(e.parentNode,e))}for(G(),a=l.length;a<r.length;a+=1)c(a);H()}},i(s){if(!t){for(let n=0;n<l.length;n+=1)S(r[n]);t=!0}},o(s){r=r.filter(Boolean);for(let n=0;n<r.length;n+=1)b(r[n]);t=!1},d(s){re(r,s),s&&k(e)}}}function be(i,e,t){let{section:l}=e,{index:r}=e,{handleSectionClick:c}=e,{selectedSections:s}=e,{r:n}=e;const a=2*Math.PI/j.length*r,o=2*Math.PI/j.length*(r+1),d=l.words.length;let f=n/d;const m=[];for(let g=0;g<d;g++){const _=l.words[g].length,T=(o-a)/_,W=[n*.25,n*.35,n*.33];for(let y=0;y<_;y++)m.push({section:l,sectionIndex:r,layerIndex:g,layerWidth:f,layerWidths:W,positionInLayer:y,color:l.color,startingAngle:a,sectionAngle:T,handleSectionClick:c,selectedSections:s,r:n})}return i.$$set=g=>{"section"in g&&t(2,l=g.section),"index"in g&&t(0,r=g.index),"handleSectionClick"in g&&t(3,c=g.handleSectionClick),"selectedSections"in g&&t(4,s=g.selectedSections),"r"in g&&t(5,n=g.r)},[r,m,l,c,s,n]}class We extends q{constructor(e){super(),D(this,e,be,we,N,{section:2,index:0,handleSectionClick:3,selectedSections:4,r:5})}}function ne(i,e,t){const l=i.slice();return l[7]=e[t],l[9]=t,l}function le(i){let e,t,l,r,c,s=j,n=[];for(let o=0;o<s.length;o+=1)n[o]=ie(ne(i,s,o));const a=o=>b(n[o],1,1,()=>{n[o]=null});return{c(){e=I("svg"),t=I("g");for(let o=0;o<n.length;o+=1)n[o].c();this.h()},l(o){e=E(o,"svg",{id:!0,height:!0,width:!0,opacity:!0,transform:!0,class:!0});var d=C(e);t=E(d,"g",{id:!0,transform:!0});var f=C(t);for(let m=0;m<n.length;m+=1)n[m].l(f);f.forEach(k),d.forEach(k),this.h()},h(){h(t,"id","wheel"),h(t,"transform",l=`translate(${i[2]}, ${i[2]})`),h(e,"id","the-wheel"),h(e,"height",i[0]),h(e,"width",i[1]),h(e,"opacity",.5),h(e,"transform",r=`translate(${i[1]*.014}, ${i[0]*.013})`),h(e,"class","svelte-rtm27b")},m(o,d){P(o,e,d),M(e,t);for(let f=0;f<n.length;f+=1)n[f].m(t,null);c=!0},p(o,d){if(d&56){s=j;let f;for(f=0;f<s.length;f+=1){const m=ne(o,s,f);n[f]?(n[f].p(m,d),S(n[f],1)):(n[f]=ie(m),n[f].c(),S(n[f],1),n[f].m(t,null))}for(G(),f=s.length;f<n.length;f+=1)a(f);H()}(!c||d&4&&l!==(l=`translate(${o[2]}, ${o[2]})`))&&h(t,"transform",l),(!c||d&1)&&h(e,"height",o[0]),(!c||d&2)&&h(e,"width",o[1]),(!c||d&3&&r!==(r=`translate(${o[1]*.014}, ${o[0]*.013})`))&&h(e,"transform",r)},i(o){if(!c){for(let d=0;d<s.length;d+=1)S(n[d]);c=!0}},o(o){n=n.filter(Boolean);for(let d=0;d<n.length;d+=1)b(n[d]);c=!1},d(o){o&&k(e),re(n,o)}}}function ie(i){let e,t;return e=new We({props:{key:i[9],section:i[7],index:i[9],handleSectionClick:i[5],selectedSections:i[4],r:i[3]}}),{c(){K(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,r){Y(e,l,r),t=!0},p(l,r){const c={};r&8&&(c.r=l[3]),e.$set(c)},i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}function ve(i){let e,t,l,r,c,s,n=i[1]&&i[0]&&le(i);return{c(){e=X("div"),t=X("img"),r=fe(),n&&n.c(),this.h()},l(a){e=x(a,"DIV",{class:!0});var o=C(e);t=x(o,"IMG",{src:!0,class:!0}),r=he(o),n&&n.l(o),o.forEach(k),this.h()},h(){ue(t.src,l="../assets/wheel/emotion_wheel.png")||h(t,"src",l),h(t,"class","svelte-rtm27b"),h(e,"class","img-container svelte-rtm27b"),de(()=>i[6].call(e))},m(a,o){P(a,e,o),M(e,t),M(e,r),n&&n.m(e,null),c=ge(e,i[6].bind(e)),s=!0},p(a,[o]){a[1]&&a[0]?n?(n.p(a,o),o&3&&S(n,1)):(n=le(a),n.c(),S(n,1),n.m(e,null)):n&&(G(),b(n,1,1,()=>{n=null}),H())},i(a){s||(S(n),s=!0)},o(a){b(n),s=!1},d(a){a&&k(e),n&&n.d(),c()}}}function Ae(i,e,t){let l,r,c,s,n=[];const a=d=>{const f=d.target.dataset.id;if(n.includes(f)){const m=n.filter(g=>g!==f);setSelectedSections(m)}else setSelectedSections([...n,f])};function o(){s=this.clientHeight,c=this.clientWidth,t(0,s),t(1,c)}return i.$$.update=()=>{i.$$.dirty&1&&t(3,l=s/2)},t(2,r=0),[s,c,r,l,n,a,o]}class Ce extends q{constructor(e){super(),D(this,e,Ae,ve,N,{})}}function Ie(i){let e,t;return e=new Ce({}),{c(){K(e.$$.fragment)},l(l){V(e.$$.fragment,l)},m(l,r){Y(e,l,r),t=!0},p:F,i(l){t||(S(e.$$.fragment,l),t=!0)},o(l){b(e.$$.fragment,l),t=!1},d(l){Z(e,l)}}}class Te extends q{constructor(e){super(),D(this,e,null,Ie,N,{})}}export{Te as default};
