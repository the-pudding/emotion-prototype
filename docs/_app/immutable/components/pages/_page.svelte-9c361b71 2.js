import{S as lt,i as ct,s as ht,k as J,e as xt,H as Vv,l as K,h as D,n as M,B as q,A as Oe,I as Vn,b as ie,J as Xv,m as ee,K as kt,f as xe,g as is,t as Ie,d as ss,G as rt,a as Ae,q as je,c as Se,r as ze,L as Mn,M as zo,N as mr,O as gn,u as Xr,P as Xn,Q as at,R as ut,p as Gn,T as Gl,U as Gi,V as jc,W as Zv,X as ql,Y as Hl,v as qe,w as He,x as Je,y as Ke,Z as Kt,_ as On,$ as Rn,C as Qv,D as em,E as tm,F as nm,o as rm,a0 as im,a1 as Jl}from"../../chunks/index-c6884d6c.js";import{w as Tr}from"../../chunks/index-61eb135f.js";import{d as sm,c as om,i as Wo,a as Kl,b as Yl,e as am,S as Vl,r as um,t as lm,f as cm}from"../../chunks/transform-3e51d6af.js";import{_ as os}from"../../chunks/preload-helper-aa6bc0ce.js";function hm(i,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in i)){const u=Object.getOwnPropertyDescriptor(s,a);u&&Object.defineProperty(i,a,u.get?u:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}const Go=Tr(!1),Zi=Tr(void 0),Xl=Tr(0),Kr=Tr(void 0),br=Tr([]),Qi=Tr([]);function Zl(i,t,n){const s=i.slice();return s[5]=t[n],s}function Ql(i){let t,n;return{c(){t=J("link"),this.h()},l(s){t=K(s,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){M(t,"rel","preload"),M(t,"href",n=i[5]),M(t,"as","font"),M(t,"type","font/woff2"),M(t,"crossorigin","")},m(s,a){ie(s,t,a)},p(s,a){a&16&&n!==(n=s[5])&&M(t,"href",n)},d(s){s&&D(t)}}}function fm(i){let t,n,s,a,u,l,c,d,f,_,p,w,E,A,T,y,b,O,C,L,W,te,se,z,ne,X;document.title=t=i[0];let j=i[4],re=[];for(let V=0;V<j.length;V+=1)re[V]=Ql(Zl(i,j,V));return{c(){n=J("meta"),s=J("meta"),a=J("meta"),u=J("meta"),l=J("meta"),c=J("meta"),d=J("meta"),f=J("meta"),_=J("meta"),p=J("meta"),E=J("meta"),A=J("meta"),T=J("meta"),y=J("meta"),b=J("meta"),O=J("meta"),C=J("meta"),L=J("meta"),W=J("meta"),se=J("meta"),z=J("link");for(let V=0;V<re.length;V+=1)re[V].c();X=xt(),this.h()},l(V){const R=Vv('[data-svelte="svelte-1htu80s"]',document.head);n=K(R,"META",{name:!0,content:!0}),s=K(R,"META",{name:!0,content:!0}),a=K(R,"META",{name:!0,content:!0}),u=K(R,"META",{property:!0,content:!0}),l=K(R,"META",{property:!0,content:!0}),c=K(R,"META",{property:!0,content:!0}),d=K(R,"META",{property:!0,content:!0}),f=K(R,"META",{property:!0,content:!0}),_=K(R,"META",{property:!0,content:!0}),p=K(R,"META",{property:!0,content:!0}),E=K(R,"META",{property:!0,content:!0}),A=K(R,"META",{property:!0,content:!0}),T=K(R,"META",{property:!0,content:!0}),y=K(R,"META",{name:!0,content:!0}),b=K(R,"META",{name:!0,content:!0}),O=K(R,"META",{name:!0,content:!0}),C=K(R,"META",{name:!0,content:!0}),L=K(R,"META",{name:!0,content:!0}),W=K(R,"META",{name:!0,content:!0}),se=K(R,"META",{name:!0,content:!0}),z=K(R,"LINK",{rel:!0,href:!0});for(let B=0;B<re.length;B+=1)re[B].l(R);X=xt(),R.forEach(D),this.h()},h(){M(n,"name","description"),M(n,"content",i[1]),M(s,"name","author"),M(s,"content","The Pudding"),M(a,"name","news_keywords"),M(a,"content",i[3]),M(u,"property","og:title"),M(u,"content",i[0]),M(l,"property","og:site_name"),M(l,"content","The Pudding"),M(c,"property","og:url"),M(c,"content",i[2]),M(d,"property","og:description"),M(d,"content",i[1]),M(f,"property","og:type"),M(f,"content","article"),M(_,"property","og:locale"),M(_,"content","en_US"),M(p,"property","og:image"),M(p,"content",w=i[2]+"/assets/social-facebook.jpg"),M(E,"property","og:image:type"),M(E,"content","image/jpeg"),M(A,"property","og:image:width"),M(A,"content","1200"),M(T,"property","og:image:height"),M(T,"content","600"),M(y,"name","twitter:card"),M(y,"content","summary_large_image"),M(b,"name","twitter:site"),M(b,"content","https://pudding.cool"),M(O,"name","twitter:creator"),M(O,"content","@puddingviz"),M(C,"name","twitter:title"),M(C,"content",i[0]),M(L,"name","twitter:description"),M(L,"content",i[1]),M(W,"name","twitter:image:src"),M(W,"content",te=i[2]+"/assets/social-twitter.jpg"),M(se,"name","robots"),M(se,"content","max-image-preview:large"),M(z,"rel","canonical"),M(z,"href",ne=i[2]+"/")},m(V,R){q(document.head,n),q(document.head,s),q(document.head,a),q(document.head,u),q(document.head,l),q(document.head,c),q(document.head,d),q(document.head,f),q(document.head,_),q(document.head,p),q(document.head,E),q(document.head,A),q(document.head,T),q(document.head,y),q(document.head,b),q(document.head,O),q(document.head,C),q(document.head,L),q(document.head,W),q(document.head,se),q(document.head,z);for(let B=0;B<re.length;B+=1)re[B].m(document.head,null);q(document.head,X)},p(V,[R]){if(R&1&&t!==(t=V[0])&&(document.title=t),R&2&&M(n,"content",V[1]),R&8&&M(a,"content",V[3]),R&1&&M(u,"content",V[0]),R&4&&M(c,"content",V[2]),R&2&&M(d,"content",V[1]),R&4&&w!==(w=V[2]+"/assets/social-facebook.jpg")&&M(p,"content",w),R&1&&M(C,"content",V[0]),R&2&&M(L,"content",V[1]),R&4&&te!==(te=V[2]+"/assets/social-twitter.jpg")&&M(W,"content",te),R&4&&ne!==(ne=V[2]+"/")&&M(z,"href",ne),R&16){j=V[4];let B;for(B=0;B<j.length;B+=1){const Q=Zl(V,j,B);re[B]?re[B].p(Q,R):(re[B]=Ql(Q),re[B].c(),re[B].m(X.parentNode,X))}for(;B<re.length;B+=1)re[B].d(1);re.length=j.length}},i:Oe,o:Oe,d(V){D(n),D(s),D(a),D(u),D(l),D(c),D(d),D(f),D(_),D(p),D(E),D(A),D(T),D(y),D(b),D(O),D(C),D(L),D(W),D(se),D(z),Vn(re,V),D(X)}}}function dm(i,t,n){let{title:s="Title TK"}=t,{description:a="Description TK"}=t,{url:u="https://pudding.cool"}=t,{keywords:l=""}=t,{preloadFont:c=[]}=t;return i.$$set=d=>{"title"in d&&n(0,s=d.title),"description"in d&&n(1,a=d.description),"url"in d&&n(2,u=d.url),"keywords"in d&&n(3,l=d.keywords),"preloadFont"in d&&n(4,c=d.preloadFont)},[s,a,u,l,c]}class gm extends lt{constructor(t){super(),ct(this,t,dm,fm,ht,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}const _m="Title tk",pm="Description Tk",vm="https://pudding.cool/2022/11/emotion-wheel",mm="By <a href=# target=_blank>Abby VanMuijen</a> and <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",ym=[{id:"survey-basic",options:"ok|good|busy"},{id:"options",text:["A few years ago, when someone would ask me how I was doing, I would almost always respond with one of these 3 options.","I didn't think there was much more to say."]},{id:"change",text:["But then that started to change."]},{id:"not-okay",text:["Feelings I had never noticed before (or maybe just avoided) started to say WE ARE NOT OKAY.","And started to manifest in the form of\u2026"]},{id:"therapy",text:["So I got my butt into therapy (where they don't let you off the hook with answers like this...)."]},{id:"try-wheel",text:['My therapist suggested I use a feelings wheel to help improve my "emotional vocabulary."',"I could choose words from the wheel to be more specific about how I was feeling and give that feeling a name."]},{id:"survey-words"},{id:"granularity",text:[`This kind of specificity of emotional vocabulary is what Susan David calls <a href="https://resources.soundstrue.com/transcript/susan-david-emotional-agility/" target="_blank">"emotional granularity."</a> When we can identify what we're feeling, we can identify what our body is telling us it needs. Pretty cool, eh?`]},{id:"color",text:["The other thing I thought was interesting about the wheel was that it organized the feelings by color and category. Although I didn't quite like the colors and categories on the wheels I found...","Colors can have very strong emotional associations - but they're different for everyone."]},{id:"survey-color"},{id:"blocks",text:["I started to do this every day - I'd write the words I was feeling and the color I associated with that feeling..."]},{id:"inside-out",text:['I found a lot of my associations lined up with the colors & character designs from "Inside Out" - and studied their process.']},{id:"core",text:["It turns out, most scientists agree, there are at least 5 core emotions that track back to the way our bodies intuitively communicate our needs before we have language."]},{id:"body",text:["So I kept up my practice - and started to also track how each feeling showed up in my body and facial expressions.","I found some patterns in how the colors I was using lined up with how & where the feelings showed up in my body."]},{id:"survey-body"},{id:"brene",text:["Bren\xE9 Brown says there are as many theories on emotions as there are emotions researchers - which seems right to me.","And while I'm more of an artist than a researcher, this work has helped me very deeply."]},{id:"the-wheel",text:["I ended up turning all of this into my own emotion wheel, and have used the <strong>words</strong>, the <strong>colors</strong>, and the <strong>somatic mapping</strong> to build a more visual vocabulary to understand and express how I'm doing each day and what I maybe needing to experience more joy (satisfied needs) in my life."]},{id:"gallery"},{id:"ending",text:["This will be the ending."]}],Cn={title:_m,description:pm,url:vm,byline:mm,steps:ym};function yr(i,{delay:t=0,duration:n=400,easing:s=Xv}={}){const a=+getComputedStyle(i).opacity;return{delay:t,duration:n,easing:s,css:u=>`opacity: ${u*a}`}}function Vi(i,t){return i==null||t==null?NaN:i<t?-1:i>t?1:i>=t?0:NaN}function zc(i){let t,n,s;i.length!==2?(t=Vi,n=(c,d)=>Vi(i(c),d),s=(c,d)=>i(c)-d):(t=i===Vi||i===sm?i:wm,n=i,s=i);function a(c,d,f=0,_=c.length){if(f<_){if(t(d,d)!==0)return _;do{const p=f+_>>>1;n(c[p],d)<0?f=p+1:_=p}while(f<_)}return f}function u(c,d,f=0,_=c.length){if(f<_){if(t(d,d)!==0)return _;do{const p=f+_>>>1;n(c[p],d)<=0?f=p+1:_=p}while(f<_)}return f}function l(c,d,f=0,_=c.length){const p=a(c,d,f,_-1);return p>f&&s(c[p-1],d)>-s(c[p],d)?p-1:p}return{left:a,center:l,right:u}}function wm(){return 0}function bm(i){return i===null?NaN:+i}const xm=zc(Vi),Tm=xm.right;zc(bm).center;const Em=Tm;var qo=Math.sqrt(50),Ho=Math.sqrt(10),Jo=Math.sqrt(2);function Am(i,t,n){var s,a=-1,u,l,c;if(t=+t,i=+i,n=+n,i===t&&n>0)return[i];if((s=t<i)&&(u=i,i=t,t=u),(c=Wc(i,t,n))===0||!isFinite(c))return[];if(c>0){let d=Math.round(i/c),f=Math.round(t/c);for(d*c<i&&++d,f*c>t&&--f,l=new Array(u=f-d+1);++a<u;)l[a]=(d+a)*c}else{c=-c;let d=Math.round(i*c),f=Math.round(t*c);for(d/c<i&&++d,f/c>t&&--f,l=new Array(u=f-d+1);++a<u;)l[a]=(d+a)/c}return s&&l.reverse(),l}function Wc(i,t,n){var s=(t-i)/Math.max(0,n),a=Math.floor(Math.log(s)/Math.LN10),u=s/Math.pow(10,a);return a>=0?(u>=qo?10:u>=Ho?5:u>=Jo?2:1)*Math.pow(10,a):-Math.pow(10,-a)/(u>=qo?10:u>=Ho?5:u>=Jo?2:1)}function Sm(i,t,n){var s=Math.abs(t-i)/Math.max(0,n),a=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),u=s/a;return u>=qo?a*=10:u>=Ho?a*=5:u>=Jo&&(a*=2),t<i?-a:a}function ec(i,t,n){i=+i,t=+t,n=(a=arguments.length)<2?(t=i,i=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((t-i)/n))|0,u=new Array(a);++s<a;)u[s]=i+s*n;return u}function Om(i,t){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(t).domain(i);break}return this}function Rm(i,t){t||(t=[]);var n=i?Math.min(t.length,i.length):0,s=t.slice(),a;return function(u){for(a=0;a<n;++a)s[a]=i[a]*(1-u)+t[a]*u;return s}}function Im(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function km(i,t){var n=t?t.length:0,s=i?Math.min(n,i.length):0,a=new Array(s),u=new Array(n),l;for(l=0;l<s;++l)a[l]=ra(i[l],t[l]);for(;l<n;++l)u[l]=t[l];return function(c){for(l=0;l<s;++l)u[l]=a[l](c);return u}}function Cm(i,t){var n=new Date;return i=+i,t=+t,function(s){return n.setTime(i*(1-s)+t*s),n}}function Mm(i,t){var n={},s={},a;(i===null||typeof i!="object")&&(i={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in i?n[a]=ra(i[a],t[a]):s[a]=t[a];return function(u){for(a in n)s[a]=n[a](u);return s}}function ra(i,t){var n=typeof t,s;return t==null||n==="boolean"?om(t):(n==="number"?Wo:n==="string"?(s=Kl(t))?(t=s,Yl):am:t instanceof Kl?Yl:t instanceof Date?Cm:Im(t)?Rm:Array.isArray(t)?km:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Mm:Wo)(i,t)}function Pm(i,t){return i=+i,t=+t,function(n){return Math.round(i*(1-n)+t*n)}}function Lm(i){return function(){return i}}function Dm(i){return+i}var tc=[0,1];function wr(i){return i}function Ko(i,t){return(t-=i=+i)?function(n){return(n-i)/t}:Lm(isNaN(t)?NaN:.5)}function $m(i,t){var n;return i>t&&(n=i,i=t,t=n),function(s){return Math.max(i,Math.min(t,s))}}function Nm(i,t,n){var s=i[0],a=i[1],u=t[0],l=t[1];return a<s?(s=Ko(a,s),u=n(l,u)):(s=Ko(s,a),u=n(u,l)),function(c){return u(s(c))}}function Um(i,t,n){var s=Math.min(i.length,t.length)-1,a=new Array(s),u=new Array(s),l=-1;for(i[s]<i[0]&&(i=i.slice().reverse(),t=t.slice().reverse());++l<s;)a[l]=Ko(i[l],i[l+1]),u[l]=n(t[l],t[l+1]);return function(c){var d=Em(i,c,1,s)-1;return u[d](a[d](c))}}function Bm(i,t){return t.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function Fm(){var i=tc,t=tc,n=ra,s,a,u,l=wr,c,d,f;function _(){var w=Math.min(i.length,t.length);return l!==wr&&(l=$m(i[0],i[w-1])),c=w>2?Um:Nm,d=f=null,p}function p(w){return w==null||isNaN(w=+w)?u:(d||(d=c(i.map(s),t,n)))(s(l(w)))}return p.invert=function(w){return l(a((f||(f=c(t,i.map(s),Wo)))(w)))},p.domain=function(w){return arguments.length?(i=Array.from(w,Dm),_()):i.slice()},p.range=function(w){return arguments.length?(t=Array.from(w),_()):t.slice()},p.rangeRound=function(w){return t=Array.from(w),n=Pm,_()},p.clamp=function(w){return arguments.length?(l=w?!0:wr,_()):l!==wr},p.interpolate=function(w){return arguments.length?(n=w,_()):n},p.unknown=function(w){return arguments.length?(u=w,p):u},function(w,E){return s=w,a=E,_()}}function jm(){return Fm()(wr,wr)}function zm(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function es(i,t){if((n=(i=t?i.toExponential(t-1):i.toExponential()).indexOf("e"))<0)return null;var n,s=i.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+i.slice(n+1)]}function xr(i){return i=es(Math.abs(i)),i?i[1]:NaN}function Wm(i,t){return function(n,s){for(var a=n.length,u=[],l=0,c=i[0],d=0;a>0&&c>0&&(d+c+1>s&&(c=Math.max(1,s-d)),u.push(n.substring(a-=c,a+c)),!((d+=c+1)>s));)c=i[l=(l+1)%i.length];return u.reverse().join(t)}}function Gm(i){return function(t){return t.replace(/[0-9]/g,function(n){return i[+n]})}}var qm=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ts(i){if(!(t=qm.exec(i)))throw new Error("invalid format: "+i);var t;return new ia({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ts.prototype=ia.prototype;function ia(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}ia.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hm(i){e:for(var t=i.length,n=1,s=-1,a;n<t;++n)switch(i[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+i[n])break e;s>0&&(s=0);break}return s>0?i.slice(0,s)+i.slice(a+1):i}var Gc;function Jm(i,t){var n=es(i,t);if(!n)return i+"";var s=n[0],a=n[1],u=a-(Gc=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,l=s.length;return u===l?s:u>l?s+new Array(u-l+1).join("0"):u>0?s.slice(0,u)+"."+s.slice(u):"0."+new Array(1-u).join("0")+es(i,Math.max(0,t+u-1))[0]}function nc(i,t){var n=es(i,t);if(!n)return i+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const rc={"%":(i,t)=>(i*100).toFixed(t),b:i=>Math.round(i).toString(2),c:i=>i+"",d:zm,e:(i,t)=>i.toExponential(t),f:(i,t)=>i.toFixed(t),g:(i,t)=>i.toPrecision(t),o:i=>Math.round(i).toString(8),p:(i,t)=>nc(i*100,t),r:nc,s:Jm,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function ic(i){return i}var sc=Array.prototype.map,oc=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Km(i){var t=i.grouping===void 0||i.thousands===void 0?ic:Wm(sc.call(i.grouping,Number),i.thousands+""),n=i.currency===void 0?"":i.currency[0]+"",s=i.currency===void 0?"":i.currency[1]+"",a=i.decimal===void 0?".":i.decimal+"",u=i.numerals===void 0?ic:Gm(sc.call(i.numerals,String)),l=i.percent===void 0?"%":i.percent+"",c=i.minus===void 0?"\u2212":i.minus+"",d=i.nan===void 0?"NaN":i.nan+"";function f(p){p=ts(p);var w=p.fill,E=p.align,A=p.sign,T=p.symbol,y=p.zero,b=p.width,O=p.comma,C=p.precision,L=p.trim,W=p.type;W==="n"?(O=!0,W="g"):rc[W]||(C===void 0&&(C=12),L=!0,W="g"),(y||w==="0"&&E==="=")&&(y=!0,w="0",E="=");var te=T==="$"?n:T==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",se=T==="$"?s:/[%p]/.test(W)?l:"",z=rc[W],ne=/[defgprs%]/.test(W);C=C===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function X(j){var re=te,V=se,R,B,Q;if(W==="c")V=z(j)+V,j="";else{j=+j;var we=j<0||1/j<0;if(j=isNaN(j)?d:z(Math.abs(j),C),L&&(j=Hm(j)),we&&+j==0&&A!=="+"&&(we=!1),re=(we?A==="("?A:c:A==="-"||A==="("?"":A)+re,V=(W==="s"?oc[8+Gc/3]:"")+V+(we&&A==="("?")":""),ne){for(R=-1,B=j.length;++R<B;)if(Q=j.charCodeAt(R),48>Q||Q>57){V=(Q===46?a+j.slice(R+1):j.slice(R))+V,j=j.slice(0,R);break}}}O&&!y&&(j=t(j,1/0));var ve=re.length+j.length+V.length,ce=ve<b?new Array(b-ve+1).join(w):"";switch(O&&y&&(j=t(ce+j,ce.length?b-V.length:1/0),ce=""),E){case"<":j=re+j+V+ce;break;case"=":j=re+ce+j+V;break;case"^":j=ce.slice(0,ve=ce.length>>1)+re+j+V+ce.slice(ve);break;default:j=ce+re+j+V;break}return u(j)}return X.toString=function(){return p+""},X}function _(p,w){var E=f((p=ts(p),p.type="f",p)),A=Math.max(-8,Math.min(8,Math.floor(xr(w)/3)))*3,T=Math.pow(10,-A),y=oc[8+A/3];return function(b){return E(T*b)+y}}return{format:f,formatPrefix:_}}var qi,qc,Hc;Ym({thousands:",",grouping:[3],currency:["$",""]});function Ym(i){return qi=Km(i),qc=qi.format,Hc=qi.formatPrefix,qi}function Vm(i){return Math.max(0,-xr(Math.abs(i)))}function Xm(i,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xr(t)/3)))*3-xr(Math.abs(i)))}function Zm(i,t){return i=Math.abs(i),t=Math.abs(t)-i,Math.max(0,xr(t)-xr(i))+1}function Qm(i,t,n,s){var a=Sm(i,t,n),u;switch(s=ts(s==null?",f":s),s.type){case"s":{var l=Math.max(Math.abs(i),Math.abs(t));return s.precision==null&&!isNaN(u=Xm(a,l))&&(s.precision=u),Hc(s,l)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(u=Zm(a,Math.max(Math.abs(i),Math.abs(t))))&&(s.precision=u-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(u=Vm(a))&&(s.precision=u-(s.type==="%")*2);break}}return qc(s)}function e1(i){var t=i.domain;return i.ticks=function(n){var s=t();return Am(s[0],s[s.length-1],n==null?10:n)},i.tickFormat=function(n,s){var a=t();return Qm(a[0],a[a.length-1],n==null?10:n,s)},i.nice=function(n){n==null&&(n=10);var s=t(),a=0,u=s.length-1,l=s[a],c=s[u],d,f,_=10;for(c<l&&(f=l,l=c,c=f,f=a,a=u,u=f);_-- >0;){if(f=Wc(l,c,n),f===d)return s[a]=l,s[u]=c,t(s);if(f>0)l=Math.floor(l/f)*f,c=Math.ceil(c/f)*f;else if(f<0)l=Math.ceil(l*f)/f,c=Math.floor(c*f)/f;else break;d=f}return i},i}function Jc(){var i=jm();return i.copy=function(){return Bm(i,Jc())},Om.apply(i,arguments),e1(i)}function ac(i){let t,n,s,a,u,l,c=Cn.title+"",d,f,_=Cn.description+"",p,w,E=Cn.byline+"",A,T,y,b,O;return{c(){t=J("div"),n=J("a"),s=J("img"),u=Ae(),l=J("h1"),d=Ae(),f=J("div"),p=Ae(),w=J("div"),A=Ae(),T=J("div"),y=je("Scroll to continue ->"),this.h()},l(C){t=K(C,"DIV",{class:!0});var L=ee(t);n=K(L,"A",{href:!0,"aria-label":!0,target:!0,class:!0});var W=ee(n);s=K(W,"IMG",{class:!0,src:!0}),W.forEach(D),u=Se(L),l=K(L,"H1",{class:!0});var te=ee(l);te.forEach(D),d=Se(L),f=K(L,"DIV",{});var se=ee(f);se.forEach(D),p=Se(L),w=K(L,"DIV",{});var z=ee(w);z.forEach(D),A=Se(L),T=K(L,"DIV",{class:!0});var ne=ee(T);y=ze(ne,"Scroll to continue ->"),ne.forEach(D),L.forEach(D),this.h()},h(){M(s,"class","logo svelte-161c448"),Mn(s.src,a="assets/img/logo_full.png")||M(s,"src",a),M(n,"href","https://pudding.cool"),M(n,"aria-label","The Pudding"),M(n,"target","_blank"),M(n,"class","svelte-161c448"),M(l,"class","svelte-161c448"),M(T,"class","scroll svelte-161c448"),M(t,"class","words svelte-161c448")},m(C,L){ie(C,t,L),q(t,n),q(n,s),q(t,u),q(t,l),l.innerHTML=c,q(t,d),q(t,f),f.innerHTML=_,q(t,p),q(t,w),w.innerHTML=E,q(t,A),q(t,T),q(T,y),O=!0},p:Oe,i(C){O||(zo(()=>{b||(b=mr(t,yr,{},!0)),b.run(1)}),O=!0)},o(C){b||(b=mr(t,yr,{},!1)),b.run(0),O=!1},d(C){C&&D(t),C&&b&&b.end()}}}function t1(i){let t,n,s,a,u=i[0]&&ac();return{c(){t=J("div"),n=J("div"),u&&u.c(),this.h()},l(l){t=K(l,"DIV",{class:!0,style:!0});var c=ee(t);n=K(c,"DIV",{class:!0});var d=ee(n);u&&u.l(d),d.forEach(D),c.forEach(D),this.h()},h(){M(n,"class","title svelte-161c448"),M(t,"class","scaler svelte-161c448"),M(t,"style",s=`transform: scale(${i[1]})`),kt(t,"visible",!i[2])},m(l,c){ie(l,t,c),q(t,n),u&&u.m(n,null),a=!0},p(l,[c]){l[0]?u?(u.p(l,c),c&1&&xe(u,1)):(u=ac(),u.c(),xe(u,1),u.m(n,null)):u&&(is(),Ie(u,1,1,()=>{u=null}),ss()),(!a||c&2&&s!==(s=`transform: scale(${l[1]})`))&&M(t,"style",s),(!a||c&4)&&kt(t,"visible",!l[2])},i(l){a||(xe(u),a=!0)},o(l){Ie(u),a=!1},d(l){l&&D(t),u&&u.d()}}}function n1(i,t,n){let s,a,u;rt(i,Go,f=>n(2,u=f));let{scrolled:l}=t,{scrollMax:c}=t;const d=Jc().domain([0,c]).range([1,2.5]).clamp(!0);return i.$$set=f=>{"scrolled"in f&&n(3,l=f.scrolled),"scrollMax"in f&&n(4,c=f.scrollMax)},i.$$.update=()=>{i.$$.dirty&8&&n(1,s=d(l)),i.$$.dirty&8&&n(0,a=l<80)},[a,s,u,l,c]}class r1 extends lt{constructor(t){super(),ct(this,t,n1,t1,ht,{scrolled:3,scrollMax:4})}}function Kc(i){this.message=i,this.stack=new Error().stack}Kc.prototype.name="d3WeightedVoronoiError";Kc.prototype=new Error;function Yc(i){this.message=i,this.stack=new Error().stack}Yc.prototype.name="d3VoronoiMapError";Yc.prototype=new Error;function Lo(i){return typeof i=="string"?new Vl([[document.querySelector(i)]],[document.documentElement]):new Vl([[i]],um)}function i1(i){const t=+this._x.call(null,i),n=+this._y.call(null,i);return Vc(this.cover(t,n),t,n,i)}function Vc(i,t,n,s){if(isNaN(t)||isNaN(n))return i;var a,u=i._root,l={data:s},c=i._x0,d=i._y0,f=i._x1,_=i._y1,p,w,E,A,T,y,b,O;if(!u)return i._root=l,i;for(;u.length;)if((T=t>=(p=(c+f)/2))?c=p:f=p,(y=n>=(w=(d+_)/2))?d=w:_=w,a=u,!(u=u[b=y<<1|T]))return a[b]=l,i;if(E=+i._x.call(null,u.data),A=+i._y.call(null,u.data),t===E&&n===A)return l.next=u,a?a[b]=l:i._root=l,i;do a=a?a[b]=new Array(4):i._root=new Array(4),(T=t>=(p=(c+f)/2))?c=p:f=p,(y=n>=(w=(d+_)/2))?d=w:_=w;while((b=y<<1|T)===(O=(A>=w)<<1|E>=p));return a[O]=u,a[b]=l,i}function s1(i){var t,n,s=i.length,a,u,l=new Array(s),c=new Array(s),d=1/0,f=1/0,_=-1/0,p=-1/0;for(n=0;n<s;++n)isNaN(a=+this._x.call(null,t=i[n]))||isNaN(u=+this._y.call(null,t))||(l[n]=a,c[n]=u,a<d&&(d=a),a>_&&(_=a),u<f&&(f=u),u>p&&(p=u));if(d>_||f>p)return this;for(this.cover(d,f).cover(_,p),n=0;n<s;++n)Vc(this,l[n],c[n],i[n]);return this}function o1(i,t){if(isNaN(i=+i)||isNaN(t=+t))return this;var n=this._x0,s=this._y0,a=this._x1,u=this._y1;if(isNaN(n))a=(n=Math.floor(i))+1,u=(s=Math.floor(t))+1;else{for(var l=a-n||1,c=this._root,d,f;n>i||i>=a||s>t||t>=u;)switch(f=(t<s)<<1|i<n,d=new Array(4),d[f]=c,c=d,l*=2,f){case 0:a=n+l,u=s+l;break;case 1:n=a-l,u=s+l;break;case 2:a=n+l,s=u-l;break;case 3:n=a-l,s=u-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=s,this._x1=a,this._y1=u,this}function a1(){var i=[];return this.visit(function(t){if(!t.length)do i.push(t.data);while(t=t.next)}),i}function u1(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function _t(i,t,n,s,a){this.node=i,this.x0=t,this.y0=n,this.x1=s,this.y1=a}function l1(i,t,n){var s,a=this._x0,u=this._y0,l,c,d,f,_=this._x1,p=this._y1,w=[],E=this._root,A,T;for(E&&w.push(new _t(E,a,u,_,p)),n==null?n=1/0:(a=i-n,u=t-n,_=i+n,p=t+n,n*=n);A=w.pop();)if(!(!(E=A.node)||(l=A.x0)>_||(c=A.y0)>p||(d=A.x1)<a||(f=A.y1)<u))if(E.length){var y=(l+d)/2,b=(c+f)/2;w.push(new _t(E[3],y,b,d,f),new _t(E[2],l,b,y,f),new _t(E[1],y,c,d,b),new _t(E[0],l,c,y,b)),(T=(t>=b)<<1|i>=y)&&(A=w[w.length-1],w[w.length-1]=w[w.length-1-T],w[w.length-1-T]=A)}else{var O=i-+this._x.call(null,E.data),C=t-+this._y.call(null,E.data),L=O*O+C*C;if(L<n){var W=Math.sqrt(n=L);a=i-W,u=t-W,_=i+W,p=t+W,s=E.data}}return s}function c1(i){if(isNaN(_=+this._x.call(null,i))||isNaN(p=+this._y.call(null,i)))return this;var t,n=this._root,s,a,u,l=this._x0,c=this._y0,d=this._x1,f=this._y1,_,p,w,E,A,T,y,b;if(!n)return this;if(n.length)for(;;){if((A=_>=(w=(l+d)/2))?l=w:d=w,(T=p>=(E=(c+f)/2))?c=E:f=E,t=n,!(n=n[y=T<<1|A]))return this;if(!n.length)break;(t[y+1&3]||t[y+2&3]||t[y+3&3])&&(s=t,b=y)}for(;n.data!==i;)if(a=n,!(n=n.next))return this;return(u=n.next)&&delete n.next,a?(u?a.next=u:delete a.next,this):t?(u?t[y]=u:delete t[y],(n=t[0]||t[1]||t[2]||t[3])&&n===(t[3]||t[2]||t[1]||t[0])&&!n.length&&(s?s[b]=n:this._root=n),this):(this._root=u,this)}function h1(i){for(var t=0,n=i.length;t<n;++t)this.remove(i[t]);return this}function f1(){return this._root}function d1(){var i=0;return this.visit(function(t){if(!t.length)do++i;while(t=t.next)}),i}function g1(i){var t=[],n,s=this._root,a,u,l,c,d;for(s&&t.push(new _t(s,this._x0,this._y0,this._x1,this._y1));n=t.pop();)if(!i(s=n.node,u=n.x0,l=n.y0,c=n.x1,d=n.y1)&&s.length){var f=(u+c)/2,_=(l+d)/2;(a=s[3])&&t.push(new _t(a,f,_,c,d)),(a=s[2])&&t.push(new _t(a,u,_,f,d)),(a=s[1])&&t.push(new _t(a,f,l,c,_)),(a=s[0])&&t.push(new _t(a,u,l,f,_))}return this}function _1(i){var t=[],n=[],s;for(this._root&&t.push(new _t(this._root,this._x0,this._y0,this._x1,this._y1));s=t.pop();){var a=s.node;if(a.length){var u,l=s.x0,c=s.y0,d=s.x1,f=s.y1,_=(l+d)/2,p=(c+f)/2;(u=a[0])&&t.push(new _t(u,l,c,_,p)),(u=a[1])&&t.push(new _t(u,_,c,d,p)),(u=a[2])&&t.push(new _t(u,l,p,_,f)),(u=a[3])&&t.push(new _t(u,_,p,d,f))}n.push(s)}for(;s=n.pop();)i(s.node,s.x0,s.y0,s.x1,s.y1);return this}function p1(i){return i[0]}function v1(i){return arguments.length?(this._x=i,this):this._x}function m1(i){return i[1]}function y1(i){return arguments.length?(this._y=i,this):this._y}function sa(i,t,n){var s=new oa(t==null?p1:t,n==null?m1:n,NaN,NaN,NaN,NaN);return i==null?s:s.addAll(i)}function oa(i,t,n,s,a,u){this._x=i,this._y=t,this._x0=n,this._y0=s,this._x1=a,this._y1=u,this._root=void 0}function uc(i){for(var t={data:i.data},n=t;i=i.next;)n=n.next={data:i.data};return t}var pt=sa.prototype=oa.prototype;pt.copy=function(){var i=new oa(this._x,this._y,this._x0,this._y0,this._x1,this._y1),t=this._root,n,s;if(!t)return i;if(!t.length)return i._root=uc(t),i;for(n=[{source:t,target:i._root=new Array(4)}];t=n.pop();)for(var a=0;a<4;++a)(s=t.source[a])&&(s.length?n.push({source:s,target:t.target[a]=new Array(4)}):t.target[a]=uc(s));return i};pt.add=i1;pt.addAll=s1;pt.cover=o1;pt.data=a1;pt.extent=u1;pt.find=l1;pt.remove=c1;pt.removeAll=h1;pt.root=f1;pt.size=d1;pt.visit=g1;pt.visitAfter=_1;pt.x=v1;pt.y=y1;function Vt(i){return function(){return i}}function kn(i){return(i()-.5)*1e-6}function w1(i){return i.x+i.vx}function b1(i){return i.y+i.vy}function x1(i){var t,n,s,a=1,u=1;typeof i!="function"&&(i=Vt(i==null?1:+i));function l(){for(var f,_=t.length,p,w,E,A,T,y,b=0;b<u;++b)for(p=sa(t,w1,b1).visitAfter(c),f=0;f<_;++f)w=t[f],T=n[w.index],y=T*T,E=w.x+w.vx,A=w.y+w.vy,p.visit(O);function O(C,L,W,te,se){var z=C.data,ne=C.r,X=T+ne;if(z){if(z.index>w.index){var j=E-z.x-z.vx,re=A-z.y-z.vy,V=j*j+re*re;V<X*X&&(j===0&&(j=kn(s),V+=j*j),re===0&&(re=kn(s),V+=re*re),V=(X-(V=Math.sqrt(V)))/V*a,w.vx+=(j*=V)*(X=(ne*=ne)/(y+ne)),w.vy+=(re*=V)*X,z.vx-=j*(X=1-X),z.vy-=re*X)}return}return L>E+X||te<E-X||W>A+X||se<A-X}}function c(f){if(f.data)return f.r=n[f.data.index];for(var _=f.r=0;_<4;++_)f[_]&&f[_].r>f.r&&(f.r=f[_].r)}function d(){if(!!t){var f,_=t.length,p;for(n=new Array(_),f=0;f<_;++f)p=t[f],n[p.index]=+i(p,f,t)}}return l.initialize=function(f,_){t=f,s=_,d()},l.iterations=function(f){return arguments.length?(u=+f,l):u},l.strength=function(f){return arguments.length?(a=+f,l):a},l.radius=function(f){return arguments.length?(i=typeof f=="function"?f:Vt(+f),d(),l):i},l}function T1(i){return i.index}function lc(i,t){var n=i.get(t);if(!n)throw new Error("node not found: "+t);return n}function E1(i){var t=T1,n=p,s,a=Vt(30),u,l,c,d,f,_=1;i==null&&(i=[]);function p(y){return 1/Math.min(c[y.source.index],c[y.target.index])}function w(y){for(var b=0,O=i.length;b<_;++b)for(var C=0,L,W,te,se,z,ne,X;C<O;++C)L=i[C],W=L.source,te=L.target,se=te.x+te.vx-W.x-W.vx||kn(f),z=te.y+te.vy-W.y-W.vy||kn(f),ne=Math.sqrt(se*se+z*z),ne=(ne-u[C])/ne*y*s[C],se*=ne,z*=ne,te.vx-=se*(X=d[C]),te.vy-=z*X,W.vx+=se*(X=1-X),W.vy+=z*X}function E(){if(!!l){var y,b=l.length,O=i.length,C=new Map(l.map((W,te)=>[t(W,te,l),W])),L;for(y=0,c=new Array(b);y<O;++y)L=i[y],L.index=y,typeof L.source!="object"&&(L.source=lc(C,L.source)),typeof L.target!="object"&&(L.target=lc(C,L.target)),c[L.source.index]=(c[L.source.index]||0)+1,c[L.target.index]=(c[L.target.index]||0)+1;for(y=0,d=new Array(O);y<O;++y)L=i[y],d[y]=c[L.source.index]/(c[L.source.index]+c[L.target.index]);s=new Array(O),A(),u=new Array(O),T()}}function A(){if(!!l)for(var y=0,b=i.length;y<b;++y)s[y]=+n(i[y],y,i)}function T(){if(!!l)for(var y=0,b=i.length;y<b;++y)u[y]=+a(i[y],y,i)}return w.initialize=function(y,b){l=y,f=b,E()},w.links=function(y){return arguments.length?(i=y,E(),w):i},w.id=function(y){return arguments.length?(t=y,w):t},w.iterations=function(y){return arguments.length?(_=+y,w):_},w.strength=function(y){return arguments.length?(n=typeof y=="function"?y:Vt(+y),A(),w):n},w.distance=function(y){return arguments.length?(a=typeof y=="function"?y:Vt(+y),T(),w):a},w}const A1=1664525,S1=1013904223,cc=4294967296;function O1(){let i=1;return()=>(i=(A1*i+S1)%cc)/cc}function R1(i){return i.x}function I1(i){return i.y}var k1=10,C1=Math.PI*(3-Math.sqrt(5));function M1(i){var t,n=1,s=.001,a=1-Math.pow(s,1/300),u=0,l=.6,c=new Map,d=lm(p),f=cm("tick","end"),_=O1();i==null&&(i=[]);function p(){w(),f.call("tick",t),n<s&&(d.stop(),f.call("end",t))}function w(T){var y,b=i.length,O;T===void 0&&(T=1);for(var C=0;C<T;++C)for(n+=(u-n)*a,c.forEach(function(L){L(n)}),y=0;y<b;++y)O=i[y],O.fx==null?O.x+=O.vx*=l:(O.x=O.fx,O.vx=0),O.fy==null?O.y+=O.vy*=l:(O.y=O.fy,O.vy=0);return t}function E(){for(var T=0,y=i.length,b;T<y;++T){if(b=i[T],b.index=T,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),isNaN(b.x)||isNaN(b.y)){var O=k1*Math.sqrt(.5+T),C=T*C1;b.x=O*Math.cos(C),b.y=O*Math.sin(C)}(isNaN(b.vx)||isNaN(b.vy))&&(b.vx=b.vy=0)}}function A(T){return T.initialize&&T.initialize(i,_),T}return E(),t={tick:w,restart:function(){return d.restart(p),t},stop:function(){return d.stop(),t},nodes:function(T){return arguments.length?(i=T,E(),c.forEach(A),t):i},alpha:function(T){return arguments.length?(n=+T,t):n},alphaMin:function(T){return arguments.length?(s=+T,t):s},alphaDecay:function(T){return arguments.length?(a=+T,t):+a},alphaTarget:function(T){return arguments.length?(u=+T,t):u},velocityDecay:function(T){return arguments.length?(l=1-T,t):1-l},randomSource:function(T){return arguments.length?(_=T,c.forEach(A),t):_},force:function(T,y){return arguments.length>1?(y==null?c.delete(T):c.set(T,A(y)),t):c.get(T)},find:function(T,y,b){var O=0,C=i.length,L,W,te,se,z;for(b==null?b=1/0:b*=b,O=0;O<C;++O)se=i[O],L=T-se.x,W=y-se.y,te=L*L+W*W,te<b&&(z=se,b=te);return z},on:function(T,y){return arguments.length>1?(f.on(T,y),t):f.on(T)}}}function P1(){var i,t,n,s,a=Vt(-30),u,l=1,c=1/0,d=.81;function f(E){var A,T=i.length,y=sa(i,R1,I1).visitAfter(p);for(s=E,A=0;A<T;++A)t=i[A],y.visit(w)}function _(){if(!!i){var E,A=i.length,T;for(u=new Array(A),E=0;E<A;++E)T=i[E],u[T.index]=+a(T,E,i)}}function p(E){var A=0,T,y,b=0,O,C,L;if(E.length){for(O=C=L=0;L<4;++L)(T=E[L])&&(y=Math.abs(T.value))&&(A+=T.value,b+=y,O+=y*T.x,C+=y*T.y);E.x=O/b,E.y=C/b}else{T=E,T.x=T.data.x,T.y=T.data.y;do A+=u[T.data.index];while(T=T.next)}E.value=A}function w(E,A,T,y){if(!E.value)return!0;var b=E.x-t.x,O=E.y-t.y,C=y-A,L=b*b+O*O;if(C*C/d<L)return L<c&&(b===0&&(b=kn(n),L+=b*b),O===0&&(O=kn(n),L+=O*O),L<l&&(L=Math.sqrt(l*L)),t.vx+=b*E.value*s/L,t.vy+=O*E.value*s/L),!0;if(E.length||L>=c)return;(E.data!==t||E.next)&&(b===0&&(b=kn(n),L+=b*b),O===0&&(O=kn(n),L+=O*O),L<l&&(L=Math.sqrt(l*L)));do E.data!==t&&(C=u[E.data.index]*s/L,t.vx+=b*C,t.vy+=O*C);while(E=E.next)}return f.initialize=function(E,A){i=E,n=A,_()},f.strength=function(E){return arguments.length?(a=typeof E=="function"?E:Vt(+E),_(),f):a},f.distanceMin=function(E){return arguments.length?(l=E*E,f):Math.sqrt(l)},f.distanceMax=function(E){return arguments.length?(c=E*E,f):Math.sqrt(c)},f.theta=function(E){return arguments.length?(d=E*E,f):Math.sqrt(d)},f}function L1(i){var t=Vt(.1),n,s,a;typeof i!="function"&&(i=Vt(i==null?0:+i));function u(c){for(var d=0,f=n.length,_;d<f;++d)_=n[d],_.vy+=(a[d]-_.y)*s[d]*c}function l(){if(!!n){var c,d=n.length;for(s=new Array(d),a=new Array(d),c=0;c<d;++c)s[c]=isNaN(a[c]=+i(n[c],c,n))?0:+t(n[c],c,n)}}return u.initialize=function(c){n=c,l()},u.strength=function(c){return arguments.length?(t=typeof c=="function"?c:Vt(+c),l(),u):t},u.y=function(c){return arguments.length?(i=typeof c=="function"?c:Vt(+c),l(),u):i},u}var D1=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};const $1=i=>{let t;return i?t=i:typeof fetch>"u"?t=(...n)=>D1(void 0,void 0,void 0,function*(){return yield(yield os(()=>Promise.resolve().then(()=>as),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)};class aa extends Error{constructor(t,n="FunctionsError",s){super(t),super.name=n,this.context=s}}class N1 extends aa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class U1 extends aa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class B1 extends aa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var F1=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};class j1{constructor(t,{headers:n={},customFetch:s}={}){this.url=t,this.headers=n,this.fetch=$1(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return F1(this,void 0,void 0,function*(){try{const{headers:a,body:u}=n;let l={},c;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=u):typeof u=="string"?(l["Content-Type"]="text/plain",c=u):typeof FormData<"u"&&u instanceof FormData?c=u:(l["Content-Type"]="application/json",c=JSON.stringify(u)));const d=yield this.fetch(`${this.url}/${t}`,{method:"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),a),body:c}).catch(w=>{throw new N1(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new U1(d);if(!d.ok)throw new B1(d);let _=((s=d.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),p;return _==="application/json"?p=yield d.json():_==="application/octet-stream"?p=yield d.blob():_==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var pr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function z1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Yr={exports:{}};(function(i,t){var n=typeof self<"u"?self:pr,s=function(){function u(){this.fetch=!1,this.DOMException=n.DOMException}return u.prototype=n,new u}();(function(u){(function(l){var c={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function d(R){return R&&DataView.prototype.isPrototypeOf(R)}if(c.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(R){return R&&f.indexOf(Object.prototype.toString.call(R))>-1};function p(R){if(typeof R!="string"&&(R=String(R)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(R))throw new TypeError("Invalid character in header field name");return R.toLowerCase()}function w(R){return typeof R!="string"&&(R=String(R)),R}function E(R){var B={next:function(){var Q=R.shift();return{done:Q===void 0,value:Q}}};return c.iterable&&(B[Symbol.iterator]=function(){return B}),B}function A(R){this.map={},R instanceof A?R.forEach(function(B,Q){this.append(Q,B)},this):Array.isArray(R)?R.forEach(function(B){this.append(B[0],B[1])},this):R&&Object.getOwnPropertyNames(R).forEach(function(B){this.append(B,R[B])},this)}A.prototype.append=function(R,B){R=p(R),B=w(B);var Q=this.map[R];this.map[R]=Q?Q+", "+B:B},A.prototype.delete=function(R){delete this.map[p(R)]},A.prototype.get=function(R){return R=p(R),this.has(R)?this.map[R]:null},A.prototype.has=function(R){return this.map.hasOwnProperty(p(R))},A.prototype.set=function(R,B){this.map[p(R)]=w(B)},A.prototype.forEach=function(R,B){for(var Q in this.map)this.map.hasOwnProperty(Q)&&R.call(B,this.map[Q],Q,this)},A.prototype.keys=function(){var R=[];return this.forEach(function(B,Q){R.push(Q)}),E(R)},A.prototype.values=function(){var R=[];return this.forEach(function(B){R.push(B)}),E(R)},A.prototype.entries=function(){var R=[];return this.forEach(function(B,Q){R.push([Q,B])}),E(R)},c.iterable&&(A.prototype[Symbol.iterator]=A.prototype.entries);function T(R){if(R.bodyUsed)return Promise.reject(new TypeError("Already read"));R.bodyUsed=!0}function y(R){return new Promise(function(B,Q){R.onload=function(){B(R.result)},R.onerror=function(){Q(R.error)}})}function b(R){var B=new FileReader,Q=y(B);return B.readAsArrayBuffer(R),Q}function O(R){var B=new FileReader,Q=y(B);return B.readAsText(R),Q}function C(R){for(var B=new Uint8Array(R),Q=new Array(B.length),we=0;we<B.length;we++)Q[we]=String.fromCharCode(B[we]);return Q.join("")}function L(R){if(R.slice)return R.slice(0);var B=new Uint8Array(R.byteLength);return B.set(new Uint8Array(R)),B.buffer}function W(){return this.bodyUsed=!1,this._initBody=function(R){this._bodyInit=R,R?typeof R=="string"?this._bodyText=R:c.blob&&Blob.prototype.isPrototypeOf(R)?this._bodyBlob=R:c.formData&&FormData.prototype.isPrototypeOf(R)?this._bodyFormData=R:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)?this._bodyText=R.toString():c.arrayBuffer&&c.blob&&d(R)?(this._bodyArrayBuffer=L(R.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(R)||_(R))?this._bodyArrayBuffer=L(R):this._bodyText=R=Object.prototype.toString.call(R):this._bodyText="",this.headers.get("content-type")||(typeof R=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(R)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var R=T(this);if(R)return R;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(b)}),this.text=function(){var R=T(this);if(R)return R;if(this._bodyBlob)return O(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(ne)}),this.json=function(){return this.text().then(JSON.parse)},this}var te=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function se(R){var B=R.toUpperCase();return te.indexOf(B)>-1?B:R}function z(R,B){B=B||{};var Q=B.body;if(R instanceof z){if(R.bodyUsed)throw new TypeError("Already read");this.url=R.url,this.credentials=R.credentials,B.headers||(this.headers=new A(R.headers)),this.method=R.method,this.mode=R.mode,this.signal=R.signal,!Q&&R._bodyInit!=null&&(Q=R._bodyInit,R.bodyUsed=!0)}else this.url=String(R);if(this.credentials=B.credentials||this.credentials||"same-origin",(B.headers||!this.headers)&&(this.headers=new A(B.headers)),this.method=se(B.method||this.method||"GET"),this.mode=B.mode||this.mode||null,this.signal=B.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Q)}z.prototype.clone=function(){return new z(this,{body:this._bodyInit})};function ne(R){var B=new FormData;return R.trim().split("&").forEach(function(Q){if(Q){var we=Q.split("="),ve=we.shift().replace(/\+/g," "),ce=we.join("=").replace(/\+/g," ");B.append(decodeURIComponent(ve),decodeURIComponent(ce))}}),B}function X(R){var B=new A,Q=R.replace(/\r?\n[\t ]+/g," ");return Q.split(/\r?\n/).forEach(function(we){var ve=we.split(":"),ce=ve.shift().trim();if(ce){var it=ve.join(":").trim();B.append(ce,it)}}),B}W.call(z.prototype);function j(R,B){B||(B={}),this.type="default",this.status=B.status===void 0?200:B.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in B?B.statusText:"OK",this.headers=new A(B.headers),this.url=B.url||"",this._initBody(R)}W.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},j.error=function(){var R=new j(null,{status:0,statusText:""});return R.type="error",R};var re=[301,302,303,307,308];j.redirect=function(R,B){if(re.indexOf(B)===-1)throw new RangeError("Invalid status code");return new j(null,{status:B,headers:{location:R}})},l.DOMException=u.DOMException;try{new l.DOMException}catch{l.DOMException=function(B,Q){this.message=B,this.name=Q;var we=Error(B);this.stack=we.stack},l.DOMException.prototype=Object.create(Error.prototype),l.DOMException.prototype.constructor=l.DOMException}function V(R,B){return new Promise(function(Q,we){var ve=new z(R,B);if(ve.signal&&ve.signal.aborted)return we(new l.DOMException("Aborted","AbortError"));var ce=new XMLHttpRequest;function it(){ce.abort()}ce.onload=function(){var $e={status:ce.status,statusText:ce.statusText,headers:X(ce.getAllResponseHeaders()||"")};$e.url="responseURL"in ce?ce.responseURL:$e.headers.get("X-Request-URL");var Ct="response"in ce?ce.response:ce.responseText;Q(new j(Ct,$e))},ce.onerror=function(){we(new TypeError("Network request failed"))},ce.ontimeout=function(){we(new TypeError("Network request failed"))},ce.onabort=function(){we(new l.DOMException("Aborted","AbortError"))},ce.open(ve.method,ve.url,!0),ve.credentials==="include"?ce.withCredentials=!0:ve.credentials==="omit"&&(ce.withCredentials=!1),"responseType"in ce&&c.blob&&(ce.responseType="blob"),ve.headers.forEach(function($e,Ct){ce.setRequestHeader(Ct,$e)}),ve.signal&&(ve.signal.addEventListener("abort",it),ce.onreadystatechange=function(){ce.readyState===4&&ve.signal.removeEventListener("abort",it)}),ce.send(typeof ve._bodyInit>"u"?null:ve._bodyInit)})}return V.polyfill=!0,u.fetch||(u.fetch=V,u.Headers=A,u.Request=z,u.Response=j),l.Headers=A,l.Request=z,l.Response=j,l.fetch=V,Object.defineProperty(l,"__esModule",{value:!0}),l})({})})(s),s.fetch.ponyfill=!0,delete s.fetch.polyfill;var a=s;t=a.fetch,t.default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,i.exports=t})(Yr,Yr.exports);const ua=z1(Yr.exports),as=hm({__proto__:null,default:ua},[Yr.exports]);var W1=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};class G1{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.allowEmpty=t.allowEmpty,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=ua:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(u=>W1(this,void 0,void 0,function*(){var l,c,d;let f=null,_=null,p=null,w=u.status,E=u.statusText;if(u.ok){if(this.method!=="HEAD"){const b=yield u.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=b:_=JSON.parse(b))}const T=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=u.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");T&&y&&y.length>1&&(p=parseInt(y[1]))}else{const T=yield u.text();try{f=JSON.parse(T)}catch{f={message:T}}if(f&&this.allowEmpty&&((d=f==null?void 0:f.details)===null||d===void 0?void 0:d.includes("Results contain 0 rows"))&&(f=null,w=200,E="OK"),f&&this.shouldThrowOnError)throw f}return{error:f,data:_,count:p,status:w,statusText:E}}));return this.shouldThrowOnError||(a=a.catch(u=>({error:{message:`FetchError: ${u.message}`,details:"",hint:"",code:u.code||""},data:null,count:null,status:0,statusText:""}))),a.then(t,n)}}class q1 extends G1{select(t){let n=!1;const s=(t!=null?t:"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:a}={}){const u=a?`${a}.order`:"order",l=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:s}={}){const a=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(u,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:u=!1,format:l="text"}={}){const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,u?"wal":null].filter(Boolean).join("|"),d=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${d}"; options=${c};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}}class vr extends q1{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=n.map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:a}={}){let u="";a==="plain"?u="pl":a==="phrase"?u="ph":a==="websearch"&&(u="w");const l=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${u}fts${l}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}}class H1{constructor(t,{headers:n={},schema:s,fetch:a}){this.url=t,this.headers=n,this.schema=s,this.fetch=a}select(t,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let u=!1;const l=(t!=null?t:"*").split("").map(c=>/\s/.test(c)&&!u?"":(c==='"'&&(u=!u),c)).join("");return this.url.searchParams.set("select",l),s&&(this.headers.Prefer=`count=${s}`),new vr({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n}={}){const s="POST",a=[],u=t;if(n&&a.push(`count=${n}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new vr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:a}={}){const u="POST",l=[`resolution=${s?"ignore":"merge"}-duplicates`];n!==void 0&&this.url.searchParams.set("on_conflict",n);const c=t;return a&&l.push(`count=${a}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new vr({method:u,url:this.url,headers:this.headers,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const s="PATCH",a=[],u=t;return n&&a.push(`count=${n}`),this.headers.Prefer&&a.unshift(this.headers.Prefer),this.headers.Prefer=a.join(","),new vr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:u,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",s=[];return t&&s.push(`count=${t}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new vr({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const J1="1.0.0",K1={"X-Client-Info":`postgrest-js/${J1}`};class Y1{constructor(t,{headers:n={},schema:s,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},K1),n),this.schema=s,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new H1(n,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(t,n={},{head:s=!1,count:a}={}){let u;const l=new URL(`${this.url}/rpc/${t}`);let c;s?(u="HEAD",Object.entries(n).forEach(([f,_])=>{l.searchParams.append(f,`${_}`)})):(u="POST",c=n);const d=Object.assign({},this.headers);return a&&(d.Prefer=`count=${a}`),new vr({method:u,url:l,headers:d,schema:this.schema,body:c,fetch:this.fetch,allowEmpty:!1})}}var Do,hc;function V1(){if(hc)return Do;hc=1;var i=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Do=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}(),Do}const X1="websocket",Z1="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Q1=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],ey="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",ty=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],ny="1.0.34",ry={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},iy="https://github.com/theturtle32/WebSocket-Node",sy={node:">=4.0.0"},oy={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},ay={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},uy={verbose:!1},ly={test:"tape test/unit/*.js",gulp:"gulp"},cy="index",hy={lib:"./lib"},fy="lib/browser.js",dy="Apache-2.0",gy={name:X1,description:Z1,keywords:Q1,author:ey,contributors:ty,version:ny,repository:ry,homepage:iy,engines:sy,dependencies:oy,devDependencies:ay,config:uy,scripts:ly,main:cy,directories:hy,browser:fy,license:dy};var _y=gy.version,qn;if(typeof globalThis=="object")qn=globalThis;else try{qn=V1()}catch{}finally{if(!qn&&typeof window<"u"&&(qn=window),!qn)throw new Error("Could not determine global this")}var Vr=qn.WebSocket||qn.MozWebSocket,py=_y;function Xc(i,t){var n;return t?n=new Vr(i,t):n=new Vr(i),n}Vr&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(Xc,i,{get:function(){return Vr[i]}})});var vy={w3cwebsocket:Vr?Xc:null,version:py};const my="2.0.0",yy={"X-Client-Info":`realtime-js/${my}`},wy="1.0.0",Zc=1e4,by=1e3;var qr;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(qr||(qr={}));var It;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(It||(It={}));var Yt;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(Yt||(Yt={}));var Yo;(function(i){i.websocket="websocket"})(Yo||(Yo={}));var Hn;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Hn||(Hn={}));class Qc{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class xy{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const a=n.getUint8(1),u=n.getUint8(2);let l=this.HEADER_LENGTH+2;const c=s.decode(t.slice(l,l+a));l=l+a;const d=s.decode(t.slice(l,l+u));l=l+u;const f=JSON.parse(s.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:d,payload:f}}}class $o{constructor(t,n,s={},a=Zc){this.channel=t,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fc;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(fc||(fc={}));class Hr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:u,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hr.syncState(this.state,a,u,l),this.pendingDiffs.forEach(d=>{this.state=Hr.syncDiff(this.state,d,u,l)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},a=>{const{onJoin:u,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Hr.syncDiff(this.state,a,u,l),c())}),this.onJoin((a,u,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:u,newPresences:l})}),this.onLeave((a,u,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:u,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,a){const u=this.cloneDeep(t),l=this.transformState(n),c={},d={};return this.map(u,(f,_)=>{l[f]||(d[f]=_)}),this.map(l,(f,_)=>{const p=u[f];if(p){const w=_.map(y=>y.presence_ref),E=p.map(y=>y.presence_ref),A=_.filter(y=>E.indexOf(y.presence_ref)<0),T=p.filter(y=>w.indexOf(y.presence_ref)<0);A.length>0&&(c[f]=A),T.length>0&&(d[f]=T)}else c[f]=_}),this.syncDiff(u,{joins:c,leaves:d},s,a)}static syncDiff(t,n,s,a){const{joins:u,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(u,(c,d)=>{var f;const _=(f=t[c])!==null&&f!==void 0?f:[];if(t[c]=this.cloneDeep(d),_.length>0){const p=t[c].map(E=>E.presence_ref),w=_.filter(E=>p.indexOf(E.presence_ref)<0);t[c].unshift(...w)}s(c,_,d)}),this.map(l,(c,d)=>{let f=t[c];if(!f)return;const _=d.map(p=>p.presence_ref);f=f.filter(p=>_.indexOf(p.presence_ref)<0),t[c]=f,a(c,f,d),f.length===0&&delete t[c]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const a=t[s];return"metas"in a?n[s]=a.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):n[s]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Me;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Me||(Me={}));const dc=(i,t,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((u,l)=>(u[l]=Ty(l,i,t,a),u),{})},Ty=(i,t,n,s)=>{const a=t.find(c=>c.name===i),u=a==null?void 0:a.type,l=n[i];return u&&!s.includes(u)?eh(u,l):Vo(l)},eh=(i,t)=>{if(i.charAt(0)==="_"){const n=i.slice(1,i.length);return Oy(t,n)}switch(i){case Me.bool:return Ey(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return Ay(t);case Me.json:case Me.jsonb:return Sy(t);case Me.timestamp:return Ry(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Vo(t);default:return Vo(t)}},Vo=i=>i,Ey=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Ay=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},Sy=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(t){return console.log(`JSON parse error: ${t}`),i}return i},Oy=(i,t)=>{if(typeof i!="string")return i;const n=i.length-1,s=i[n];if(i[0]==="{"&&s==="}"){let u;const l=i.slice(1,n);try{u=JSON.parse("["+l+"]")}catch{u=l?l.split(","):[]}return u.map(c=>eh(t,c))}return i},Ry=i=>typeof i=="string"?i.replace(" ","T"):i;var gc=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})},_c;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(_c||(_c={}));var pc;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes"})(pc||(pc={}));var vc;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(vc||(vc={}));class la{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=It.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},n.config),this.timeout=this.socket.timeout,this.joinPush=new $o(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new Qc(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=It.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=It.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this._isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=It.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(a,u)=>{this._trigger(this._replyEventName(u),a)}),this.presence=new Hr(this)}subscribe(t,n=this.timeout){var s,a;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:u,presence:l}}=this.params;this._onError(f=>t&&t("CHANNEL_ERROR",f)),this._onClose(()=>t&&t("CLOSED"));const c={},d={broadcast:u,presence:l,postgres_changes:(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(f=>f.filter))!==null&&a!==void 0?a:[]};this.socket.accessToken&&(c.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",({postgres_changes:f})=>{var _;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),f===void 0){t&&t("SUBSCRIBED");return}else{const p=this.bindings.postgres_changes,w=(_=p==null?void 0:p.length)!==null&&_!==void 0?_:0,E=[];for(let A=0;A<w;A++){const T=p[A],{filter:{event:y,schema:b,table:O,filter:C}}=T,L=f&&f[A];if(L&&L.event===y&&L.schema===b&&L.table===O&&L.filter===C)E.push(Object.assign(Object.assign({},T),{id:L.id}));else{this.unsubscribe(),t&&t("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,t&&t("SUBSCRIBED");return}}).receive("error",f=>{t&&t("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t&&t("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(t,n={}){return gc(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(t={}){return gc(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,s){return this._on(t,n,s)}send(t,n={}){return new Promise(s=>{var a,u,l;const c=this._push(t.type,t,n.timeout||this.timeout);c.rateLimited&&s("rate limited"),t.type==="broadcast"&&!(!((l=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=It.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(s=>{const a=new $o(this,Yt.leave,{},t);a.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new $o(this,t,n,s);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var a,u;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:f,join:_}=Yt;if(s&&[c,d,f,_].indexOf(l)>=0&&s!==this._joinRef())return;let w=this._onMessage(l,n,s);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(E=>{var A,T,y;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((y=(T=E.filter)===null||T===void 0?void 0:T.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===l}).map(E=>E.callback(w,s)):(u=this.bindings[l])===null||u===void 0||u.filter(E=>{var A,T,y,b,O,C;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in E){const L=E.id,W=(A=E.filter)===null||A===void 0?void 0:A.event;return L&&((T=n.ids)===null||T===void 0?void 0:T.includes(L))&&(W==="*"||(W==null?void 0:W.toLocaleLowerCase())===((y=n.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const L=(O=(b=E==null?void 0:E.filter)===null||b===void 0?void 0:b.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return L==="*"||L===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===l}).map(E=>{if(typeof w=="object"&&"ids"in w){const A=w.data,{schema:T,table:y,commit_timestamp:b,type:O,errors:C}=A;w=Object.assign(Object.assign({},{schema:T,table:y,commit_timestamp:b,eventType:O,new:{},old:{},errors:C}),this._getPayloadRecords(A))}E.callback(w,s)})}_isClosed(){return this.state===It.closed}_isJoined(){return this.state===It.joined}_isJoining(){return this.state===It.joining}_isLeaving(){return this.state===It.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const a=t.toLocaleLowerCase(),u={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(u):this.bindings[a]=[u],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(a=>{var u;return!(((u=a.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===s&&la.isEqual(a.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Yt.close,{},t)}_onError(t){this._on(Yt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=It.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=dc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=dc(t.columns,t.old_record)),n}}var Iy=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};const ky=()=>{};class Cy{constructor(t,n){var s;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=yy,this.params={},this.timeout=Zc,this.transport=vy.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ky,this.conn=null,this.sendBuffer=[],this.serializer=new xy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${t}/${Yo.websocket}`,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.transport&&(this.transport=n.transport),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const a=(s=n==null?void 0:n.params)===null||s===void 0?void 0:s.eventsPerSecond;a&&(this.eventsPerSecondLimitMs=Math.floor(1e3/a)),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:u=>[1e3,2e3,5e3,1e4][u-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(u,l)=>l(JSON.stringify(u)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Qc(()=>Iy(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t)))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n!=null?n:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return t.unsubscribe().then(n=>(this.channels.length===0&&this.disconnect(),n))}removeAllChannels(){return Promise.all(this.channels.map(t=>t.unsubscribe())).then(t=>(this.disconnect(),t))}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case qr.connecting:return Hn.Connecting;case qr.open:return Hn.Open;case qr.closing:return Hn.Closing;default:return Hn.Closed}}isConnected(){return this.connectionState()===Hn.Open}channel(t,n={config:{}}){this.isConnected()||this.connect();const s=new la(`realtime:${t}`,n,this);return this.channels.push(s),s}push(t){const{topic:n,event:s,payload:a,ref:u}=t;let l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};if(this.log("push",`${n} ${s} (${u})`,a),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(s)){if(this._throttle(l)())return"rate limited"}else l();else this.sendBuffer.push(l)}setAuth(t){this.accessToken=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t}),n.joinedOnce&&n._isJoined()&&n._push(Yt.access_token,{access_token:t})})}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n._joinRef()!==t._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:wy}))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:s,event:a,payload:u,ref:l}=n;(l&&l===this.pendingHeartbeatRef||a===(u==null?void 0:u.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${u.status||""} ${s} ${a} ${l&&"("+l+")"||""}`,u),this.channels.filter(c=>c._isMember(s)).forEach(c=>c._trigger(a,u,l)),this.stateChangeCallbacks.message.forEach(c=>c(n))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Yt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${s}${a}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_sendHeartbeat(){var t;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(by,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(t,n=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(t(),this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},n),!1)}}class th extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function bt(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class My extends th{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Py extends th{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var nh=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};const rh=i=>{let t;return i?t=i:typeof fetch>"u"?t=(...n)=>nh(void 0,void 0,void 0,function*(){return yield(yield os(()=>Promise.resolve().then(()=>as),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)},Ly=()=>nh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield os(()=>Promise.resolve().then(()=>as),void 0,import.meta.url)).Response:Response});var Er=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};const mc=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Dy=(i,t)=>Er(void 0,void 0,void 0,function*(){const n=yield Ly();i instanceof n?i.json().then(s=>{t(new My(mc(s),i.status||500))}):t(new Py(mc(i),i))}),$y=(i,t,n,s)=>{const a={method:i,headers:(t==null?void 0:t.headers)||{}};return i==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};function us(i,t,n,s,a,u){return Er(this,void 0,void 0,function*(){return new Promise((l,c)=>{i(n,$y(t,s,a,u)).then(d=>{if(!d.ok)throw d;return s!=null&&s.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>Dy(d,c))})})}function Xo(i,t,n,s){return Er(this,void 0,void 0,function*(){return us(i,"GET",t,n,s)})}function Jn(i,t,n,s,a){return Er(this,void 0,void 0,function*(){return us(i,"POST",t,s,a,n)})}function Ny(i,t,n,s,a){return Er(this,void 0,void 0,function*(){return us(i,"PUT",t,s,a,n)})}function ih(i,t,n,s,a){return Er(this,void 0,void 0,function*(){return us(i,"DELETE",t,s,a,n)})}var en=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};const Uy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},By={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Fy{constructor(t,n={},s,a){this.url=t,this.headers=n,this.bucketId=s,this.fetch=rh(a)}uploadOrUpdate(t,n,s,a){return en(this,void 0,void 0,function*(){try{let u;const l=Object.assign(Object.assign({},By),a),c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.append("cacheControl",l.cacheControl)):(u=s,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType);const d=this._removeEmptyFolders(n),f=this._getFinalPath(d),_=yield this.fetch(`${this.url}/object/${f}`,{method:t,body:u,headers:c});if(_.ok)return{data:{path:d},error:null};{const p=yield _.json();return{data:null,error:p}}}catch(u){if(bt(u))return{data:null,error:u};throw u}})}upload(t,n,s){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}update(t,n,s){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n){return en(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers}),error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}copy(t,n){return en(this,void 0,void 0,function*(){try{return{data:{path:(yield Jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n},{headers:this.headers})).Key},error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,s){return en(this,void 0,void 0,function*(){try{const a=this._getFinalPath(t);let u=yield Jn(this.fetch,`${this.url}/object/sign/${a}`,{expiresIn:n},{headers:this.headers});const l=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${l}`)},{data:u,error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,s){return en(this,void 0,void 0,function*(){try{const a=yield Jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${u}`):null})),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}download(t){return en(this,void 0,void 0,function*(){try{const n=this._getFinalPath(t);return{data:yield(yield Xo(this.fetch,`${this.url}/object/${n}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}getPublicUrl(t,n){const s=this._getFinalPath(t),a=n!=null&&n.download?`?download=${n.download===!0?"":n.download}`:"";return{data:{publicUrl:encodeURI(`${this.url}/object/public/${s}${a}`)}}}remove(t){return en(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}list(t,n,s){return en(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},Uy),n),{prefix:t||""});return{data:yield Jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(bt(a))return{data:null,error:a};throw a}})}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}const jy="2.0.0",zy={"X-Client-Info":`storage-js/${jy}`};var dr=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};class Wy{constructor(t,n={},s){this.url=t,this.headers=Object.assign(Object.assign({},zy),n),this.fetch=rh(s)}listBuckets(){return dr(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(bt(t))return{data:null,error:t};throw t}})}getBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return dr(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return dr(this,void 0,void 0,function*(){try{return{data:yield Ny(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public},{headers:this.headers}),error:null}}catch(s){if(bt(s))return{data:null,error:s};throw s}})}emptyBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:yield Jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}deleteBucket(t){return dr(this,void 0,void 0,function*(){try{return{data:yield ih(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(bt(n))return{data:null,error:n};throw n}})}}class Gy extends Wy{constructor(t,n={},s){super(t,n,s)}from(t){return new Fy(this.url,this.headers,t,this.fetch)}}const qy="2.0.0",Hy={"X-Client-Info":`supabase-js/${qy}`};var Jy=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};const Ky=i=>{let t;return i?t=i:typeof fetch>"u"?t=ua:t=fetch,(...n)=>t(...n)},Yy=()=>typeof Headers>"u"?Yr.exports.Headers:Headers,Vy=(i,t,n)=>{const s=Ky(n),a=Yy();return(u,l)=>Jy(void 0,void 0,void 0,function*(){var c;const d=(c=yield t())!==null&&c!==void 0?c:i;let f=new a(l==null?void 0:l.headers);return f.has("apikey")||f.set("apikey",i),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),s(u,Object.assign(Object.assign({},l),{headers:f}))})};function Xy(i){return i.replace(/\/$/,"")}function Zy(i,t){const{db:n,auth:s,realtime:a,global:u}=i,{db:l,auth:c,realtime:d,global:f}=t;return{db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign({},f),u)}}var ls=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};function Qy(i){return Math.round(Date.now()/1e3)+i}function ew(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const t=Math.random()*16|0;return(i=="x"?t:t&3|8).toString(16)})}const Yn=()=>typeof window<"u";function jt(i,t){var n;t||(t=((n=window==null?void 0:window.location)===null||n===void 0?void 0:n.href)||""),i=i.replace(/[\[\]]/g,"\\$&");const s=new RegExp("[?&#]"+i+"(=([^&#]*)|&|#|$)"),a=s.exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}const sh=i=>{let t;return i?t=i:typeof fetch>"u"?t=(...n)=>ls(void 0,void 0,void 0,function*(){return yield(yield os(()=>Promise.resolve().then(()=>as),void 0,import.meta.url)).fetch(...n)}):t=fetch,(...n)=>t(...n)},tw=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",nw=(i,t,n)=>ls(void 0,void 0,void 0,function*(){yield i.setItem(t,JSON.stringify(n))}),yc=(i,t)=>ls(void 0,void 0,void 0,function*(){const n=yield i.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),rw=(i,t)=>ls(void 0,void 0,void 0,function*(){yield i.removeItem(t)}),iw=i=>{try{return atob(i.replace(/[-]/g,"+").replace(/[_]/g,"/"))}catch(t){if(t instanceof ReferenceError)return Buffer.from(i,"base64").toString("utf-8");throw t}};class cs{constructor(){this.promise=new cs.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}cs.promiseConstructor=Promise;class ca extends Error{constructor(t){super(t),this.__isAuthError=!0,this.name="AuthError"}}function Ge(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class sw extends ca{constructor(t,n){super(t),this.name="AuthApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class oh extends ca{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class hs extends ca{constructor(t,n,s){super(t),this.name=n,this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hi extends hs{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class No extends hs{constructor(t){super(t,"AuthInvalidCredentialsError",400)}}class fn extends hs{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ns extends hs{constructor(t,n){super(t,"AuthRetryableFetchError",n)}}var ha=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})},ow=globalThis&&globalThis.__rest||function(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(i);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(i,s[a])&&(n[s[a]]=i[s[a]]);return n};const Ji=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),aw=(i,t)=>ha(void 0,void 0,void 0,function*(){const n=[502,503,504];tw(i)?n.includes(i.status)?t(new ns(Ji(i),i.status)):i.json().then(s=>{t(new sw(Ji(s),i.status||500))}).catch(s=>{t(new oh(Ji(s),s))}):t(new ns(Ji(i),0))}),uw=(i,t,n,s)=>{const a={method:i,headers:(t==null?void 0:t.headers)||{}};return i==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};function Ze(i,t,n,s){var a,u;return ha(this,void 0,void 0,function*(){const l=(a=s==null?void 0:s.headers)!==null&&a!==void 0?a:{};s!=null&&s.jwt&&(l.Authorization=`Bearer ${s.jwt}`);const c=(u=s==null?void 0:s.query)!==null&&u!==void 0?u:{};s!=null&&s.redirectTo&&(c.redirect_to=s.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",f=yield lw(i,t,n+d,{headers:l,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(f):{data:Object.assign({},f),error:null}})}function lw(i,t,n,s,a,u){return ha(this,void 0,void 0,function*(){return new Promise((l,c)=>{i(n,uw(t,s,a,u)).then(d=>{if(!d.ok)throw d;return s!=null&&s.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>aw(d,c))})})}function gr(i){var t;let n=null;hw(i)&&(n=Object.assign({},i),n.expires_at=Qy(i.expires_in));const s=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:n,user:s},error:null}}function Kn(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function cw(i){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:u}=i,l=ow(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:u},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function hw(i){return i.access_token&&i.refresh_token&&i.expires_in}var Sn=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})},fw=globalThis&&globalThis.__rest||function(i,t){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(i);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(i,s[a])&&(n[s[a]]=i[s[a]]);return n};class dw{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=sh(s)}signOut(t){return Sn(this,void 0,void 0,function*(){try{return yield Ze(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:t,noResolveJson:!0}),{error:null}}catch(n){if(Ge(n))return{error:n};throw n}})}inviteUserByEmail(t,n={}){return Sn(this,void 0,void 0,function*(){try{return yield Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kn})}catch(s){if(Ge(s))return{data:{user:null},error:s};throw s}})}generateLink(t){return Sn(this,void 0,void 0,function*(){try{const{options:n}=t,s=fw(t,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),yield Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:cw,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ge(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return Sn(this,void 0,void 0,function*(){try{return yield Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kn})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}})}listUsers(){return Sn(this,void 0,void 0,function*(){try{const{data:t,error:n}=yield Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers});if(n)throw n;return{data:Object.assign({},t),error:null}}catch(t){if(Ge(t))return{data:{users:[]},error:t};throw t}})}getUserById(t){return Sn(this,void 0,void 0,function*(){try{return yield Ze(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kn})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return Sn(this,void 0,void 0,function*(){try{return yield Ze(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kn})}catch(s){if(Ge(s))return{data:{user:null},error:s};throw s}})}deleteUser(t){return Sn(this,void 0,void 0,function*(){try{return yield Ze(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kn})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}})}}const gw="2.0.1",_w="http://localhost:9999",pw="supabase.auth.token",vw={"X-Client-Info":`gotrue-js/${gw}`},Uo=10,Ki={MAX_RETRIES:10,RETRY_INTERVAL:2},mw={getItem:i=>Yn()?globalThis.localStorage.getItem(i):null,setItem:(i,t)=>{!Yn()||globalThis.localStorage.setItem(i,t)},removeItem:i=>{!Yn()||globalThis.localStorage.removeItem(i)}};function yw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var We=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};yw();const ww={url:_w,storageKey:pw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vw};class bw{constructor(t){this.stateChangeEmitters=new Map,this.networkRetries=0,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0;const n=Object.assign(Object.assign({},ww),t);this.inMemorySession=null,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.persistSession=n.persistSession,this.storage=n.storage||mw,this.admin=new dw({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=sh(n.fetch),this.detectSessionInUrl=n.detectSessionInUrl,this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return We(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{if(this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:t,error:n}=yield this._getSessionFromUrl();if(n)return yield this._removeSession(),{error:n};const{session:s,redirectType:a}=t;return yield this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN",s),a==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY",s),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(t){return Ge(t)?{error:t}:{error:new oh("Unexpected error during initialization",t)}}finally{this._handleVisibilityChange()}})}signUp(t){return We(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in t){const{email:c,password:d,options:f}=t;n=yield Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:f==null?void 0:f.data,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:gr})}else if("phone"in t){const{phone:c,password:d,options:f}=t;n=yield Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:f==null?void 0:f.data,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:gr})}else throw new No("You must provide either an email or phone number and a password");const{data:s,error:a}=n;if(a||!s)return{data:{user:null,session:null},error:a};const u=s.session,l=s.user;return s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:l,session:u},error:null}}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithPassword(t){return We(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in t){const{email:u,password:l,options:c}=t;n=yield Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:gr})}else if("phone"in t){const{phone:u,password:l,options:c}=t;n=yield Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:gr})}else throw new No("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a||!s?{data:{user:null,session:null},error:a}:(s.session&&(yield this._saveSession(s.session),this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:a})}catch(n){if(Ge(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(t){var n,s,a;return We(this,void 0,void 0,function*(){return yield this._removeSession(),this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams})})}signInWithOtp(t){var n,s,a,u;return We(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in t){const{email:l,options:c}=t,{error:d}=yield Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{error:d}=yield Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(u=c==null?void 0:c.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null},error:d}}throw new No("You must provide either an email or phone number.")}catch(l){if(Ge(l))return{data:{user:null,session:null},error:l};throw l}})}verifyOtp(t){var n,s;return We(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:a,error:u}=yield Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captchaToken:(n=t.options)===null||n===void 0?void 0:n.captchaToken}}),redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,xform:gr});if(u)throw u;if(!a)throw"An error occurred on token verification.";const l=a.session,c=a.user;return l!=null&&l.access_token&&(yield this._saveSession(l),this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(a){if(Ge(a))return{data:{user:null,session:null},error:a};throw a}})}getSession(){return We(this,void 0,void 0,function*(){yield this.initializePromise;let t=null;if(this.persistSession){const u=yield yc(this.storage,this.storageKey);u!==null&&(this._isValidSession(u)?t=u:yield this._removeSession())}else t=this.inMemorySession;if(!t)return{data:{session:null},error:null};if(!(t.expires_at?t.expires_at<=Date.now()/1e3:!1))return{data:{session:t},error:null};const{session:s,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}})}getUser(t){var n,s;return We(this,void 0,void 0,function*(){try{if(!t){const{data:a,error:u}=yield this.getSession();if(u)throw u;t=(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0}return yield Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kn})}catch(a){if(Ge(a))return{data:{user:null},error:a};throw a}})}updateUser(t){return We(this,void 0,void 0,function*(){try{const{data:n,error:s}=yield this.getSession();if(s)throw s;if(!n.session)throw new Hi;const a=n.session,{data:u,error:l}=yield Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,body:t,jwt:a.access_token,xform:Kn});if(l)throw l;return a.user=u.user,yield this._saveSession(a),this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}})}setSession(t){return We(this,void 0,void 0,function*(){try{const n=Date.now()/1e3;let s=n,a=!0,u=null;if(t.access_token&&t.access_token.split(".")[1]){const l=JSON.parse(iw(t.access_token.split(".")[1]));l.exp&&(s=l.exp,a=s<=n)}if(a){if(!t.refresh_token)throw new Hi;const{data:l,error:c}=yield this._refreshAccessToken(t.refresh_token);if(c)return{data:{session:null,user:null},error:c};if(!l.session)return{data:{session:null,user:null},error:null};u=l.session}else{const{data:l,error:c}=yield this.getUser(t.access_token);if(c)throw c;u={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s}}return yield this._saveSession(u),this._notifyAllSubscribers("TOKEN_REFRESHED",u),{data:{session:u,user:u.user},error:null}}catch(n){if(Ge(n))return{data:{session:null,user:null},error:n};throw n}})}_getSessionFromUrl(){return We(this,void 0,void 0,function*(){try{if(!Yn())throw new fn("No browser detected.");if(!this._isImplicitGrantFlow())throw new fn("Not a valid implicit grant flow url.");const t=jt("error_description");if(t){const T=jt("error_code");if(!T)throw new fn("No error_code detected.");const y=jt("error");throw y?new fn(t,{error:y,code:T}):new fn("No error detected.")}const n=jt("provider_token"),s=jt("provider_refresh_token"),a=jt("access_token");if(!a)throw new fn("No access_token detected.");const u=jt("expires_in");if(!u)throw new fn("No expires_in detected.");const l=jt("refresh_token");if(!l)throw new fn("No refresh_token detected.");const c=jt("token_type");if(!c)throw new fn("No token_type detected.");const f=Math.round(Date.now()/1e3)+parseInt(u),{data:_,error:p}=yield this.getUser(a);if(p)throw p;const w=_.user,E={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:parseInt(u),expires_at:f,refresh_token:l,token_type:c,user:w},A=jt("type");return window.location.hash="",{data:{session:E,redirectType:A},error:null}}catch(t){if(Ge(t))return{data:{session:null,redirectType:null},error:t};throw t}})}_isImplicitGrantFlow(){return Yn()&&(Boolean(jt("access_token"))||Boolean(jt("error_description")))}signOut(){var t;return We(this,void 0,void 0,function*(){const{data:n,error:s}=yield this.getSession();if(s)return{error:s};const a=(t=n.session)===null||t===void 0?void 0:t.access_token;if(a){const{error:u}=yield this.admin.signOut(a);if(u)return{error:u}}return yield this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(t){const n=ew(),s={id:n,callback:t,unsubscribe:()=>{this.stateChangeEmitters.delete(n)}};return this.stateChangeEmitters.set(n,s),{data:{subscription:s}}}resetPasswordForEmail(t,n={}){return We(this,void 0,void 0,function*(){try{return yield Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Ge(s))return{data:null,error:s};throw s}})}_refreshAccessToken(t){return We(this,void 0,void 0,function*(){try{return yield Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gr})}catch(n){if(Ge(n))return{data:{session:null,user:null},error:n};throw n}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,n={}){const s=this._getUrlForProvider(t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return Yn()&&(window.location.href=s),{data:{provider:t,url:s},error:null}}_recoverAndRefresh(){var t;return We(this,void 0,void 0,function*(){try{const n=yield yc(this.storage,this.storageKey);if(!this._isValidSession(n)){n!==null&&(yield this._removeSession());return}const s=Math.round(Date.now()/1e3);if(((t=n.expires_at)!==null&&t!==void 0?t:1/0)<s+Uo)if(this.autoRefreshToken&&n.refresh_token){this.networkRetries++;const{error:a}=yield this._callRefreshToken(n.refresh_token);if(a){if(console.log(a.message),a instanceof ns&&this.networkRetries<Ki.MAX_RETRIES){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),this.refreshTokenTimer=setTimeout(()=>this._recoverAndRefresh(),Math.pow(Ki.RETRY_INTERVAL,this.networkRetries)*100);return}yield this._removeSession()}this.networkRetries=0}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(n)),this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){console.error(n);return}})}_callRefreshToken(t){var n,s;return We(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new cs,!t)throw new Hi;const{data:a,error:u}=yield this._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new Hi;yield this._saveSession(a.session),this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(Ge(a)){const u={session:null,error:a};return(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(t,n){this.stateChangeEmitters.forEach(s=>s.callback(t,n))}_saveSession(t){return We(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=t);const n=t.expires_at;if(n){const s=Math.round(Date.now()/1e3),a=n-s,u=a>Uo?Uo:.5;this._startAutoRefreshToken((a-u)*1e3)}this.persistSession&&t.expires_at&&(yield this._persistSession(t))})}_persistSession(t){return nw(this.storage,this.storageKey,t)}_removeSession(){return We(this,void 0,void 0,function*(){this.persistSession?yield rw(this.storage,this.storageKey):this.inMemorySession=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer)})}_startAutoRefreshToken(t){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(t<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>We(this,void 0,void 0,function*(){this.networkRetries++;const{data:{session:n},error:s}=yield this.getSession();if(!s&&n){const{error:a}=yield this._callRefreshToken(n.refresh_token);a||(this.networkRetries=0),a instanceof ns&&this.networkRetries<Ki.MAX_RETRIES&&this._startAutoRefreshToken(Math.pow(Ki.RETRY_INTERVAL,this.networkRetries)*100)}}),t),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_handleVisibilityChange(){if(!Yn()||!(window!=null&&window.addEventListener))return!1;try{window==null||window.addEventListener("visibilitychange",()=>We(this,void 0,void 0,function*(){document.visibilityState==="visible"&&(yield this.initializePromise,yield this._recoverAndRefresh())}))}catch(t){console.error("_handleVisibilityChange",t)}}_getUrlForProvider(t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return`${this.url}/authorize?${s.join("&")}`}}class xw extends bw{constructor(t){super(t)}}var Tw=globalThis&&globalThis.__awaiter||function(i,t,n,s){function a(u){return u instanceof n?u:new n(function(l){l(u)})}return new(n||(n=Promise))(function(u,l){function c(_){try{f(s.next(_))}catch(p){l(p)}}function d(_){try{f(s.throw(_))}catch(p){l(p)}}function f(_){_.done?u(_.value):a(_.value).then(c,d)}f((s=s.apply(i,t||[])).next())})};const Ew={headers:Hy},Aw={schema:"public"},Sw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},Ow={};class Rw{constructor(t,n,s){var a,u,l,c,d,f,_,p;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const w=Xy(t);if(this.realtimeUrl=`${w}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${w}/auth/v1`,this.storageUrl=`${w}/storage/v1`,w.match(/(supabase\.co)|(supabase\.in)/)){const b=w.split(".");this.functionsUrl=`${b[0]}.functions.${b[1]}.${b[2]}`}else this.functionsUrl=`${w}/functions/v1`;const A=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,T={db:Aw,realtime:Ow,auth:Object.assign(Object.assign({},Sw),{storageKey:A}),global:Ew},y=Zy(s!=null?s:{},T);this.storageKey=(u=(a=y.auth)===null||a===void 0?void 0:a.storageKey)!==null&&u!==void 0?u:"",this.headers=(c=(l=y.global)===null||l===void 0?void 0:l.headers)!==null&&c!==void 0?c:{},this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,(f=y.global)===null||f===void 0?void 0:f.fetch),this.fetch=Vy(n,this._getAccessToken.bind(this),(_=y.global)===null||_===void 0?void 0:_.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},y.realtime)),this.rest=new Y1(`${w}/rest/v1`,{headers:this.headers,schema:(p=y.db)===null||p===void 0?void 0:p.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new j1(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Gy(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}rpc(t,n={},s){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Tw(this,void 0,void 0,function*(){const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,storageKey:u},l,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xw({url:this.authUrl,headers:Object.assign(Object.assign({},d),l),storageKey:u,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,fetch:c})}_initRealtimeClient(t){return new Cy(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,s==null?void 0:s.access_token,"CLIENT")})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n!=null?n:null),this.changedAccessToken=n):(t==="SIGNED_OUT"||t==="USER_DELETED")&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut())}}const Iw=(i,t,n)=>new Rw(i,t,n),kw="https://dbmtysppmiwwjwaeneex.supabase.co",Cw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRibXR5c3BwbWl3d2p3YWVuZWV4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDQ5NTI0NDUsImV4cCI6MTk2MDUyODQ0NX0.i_1JrAfv5fieeVaiJrVIQPL6V0_-H9sR-PKIuGDAIfI",fa=Iw(kw,Cw),Mw=async({table:i,data:t})=>{const n=await fa.from(i).insert(t).select();if(n.error)throw console.log(n.error),new Error("insert failed");if(n.data)return n.data},ah=async({table:i,column:t,value:n,id:s})=>{const a=await fa.from(i).update({[t]:n}).eq("id",s);if(a.error)throw console.log(a.error),new Error("update failed");if(a.data)return a.data},Pw=async()=>{const i=await fa.from("emotions").select();if(i.error)throw console.log(i.error),new Error("getData failed");if(i.data)return i.data};var Zo={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,t){(function(){var n,s="4.17.21",a=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",c="Invalid `variable` option passed into `_.template`",d="__lodash_hash_undefined__",f=500,_="__lodash_placeholder__",p=1,w=2,E=4,A=1,T=2,y=1,b=2,O=4,C=8,L=16,W=32,te=64,se=128,z=256,ne=512,X=30,j="...",re=800,V=16,R=1,B=2,Q=3,we=1/0,ve=9007199254740991,ce=17976931348623157e292,it=0/0,$e=4294967295,Ct=$e-1,oe=$e>>>1,Ye=[["ary",se],["bind",y],["bindKey",b],["curry",C],["curryRight",L],["flip",ne],["partial",W],["partialRight",te],["rearg",z]],Qe="[object Arguments]",Mt="[object Array]",Zr="[object AsyncFunction]",_n="[object Boolean]",pn="[object Date]",Qr="[object DOMException]",Pn="[object Error]",ei="[object Function]",da="[object GeneratorFunction]",zt="[object Map]",Ar="[object Number]",fh="[object Null]",tn="[object Object]",ga="[object Promise]",dh="[object Proxy]",Sr="[object RegExp]",Wt="[object Set]",Or="[object String]",ti="[object Symbol]",gh="[object Undefined]",Rr="[object WeakMap]",_h="[object WeakSet]",Ir="[object ArrayBuffer]",Zn="[object DataView]",fs="[object Float32Array]",ds="[object Float64Array]",gs="[object Int8Array]",_s="[object Int16Array]",ps="[object Int32Array]",vs="[object Uint8Array]",ms="[object Uint8ClampedArray]",ys="[object Uint16Array]",ws="[object Uint32Array]",ph=/\b__p \+= '';/g,vh=/\b(__p \+=) '' \+/g,mh=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_a=/&(?:amp|lt|gt|quot|#39);/g,pa=/[&<>"']/g,yh=RegExp(_a.source),wh=RegExp(pa.source),bh=/<%-([\s\S]+?)%>/g,xh=/<%([\s\S]+?)%>/g,va=/<%=([\s\S]+?)%>/g,Th=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Eh=/^\w*$/,Ah=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bs=/[\\^$.*+?()[\]{}|]/g,Sh=RegExp(bs.source),xs=/^\s+/,Oh=/\s/,Rh=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ih=/\{\n\/\* \[wrapped with (.+)\] \*/,kh=/,? & /,Ch=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Mh=/[()=,{}\[\]\/\s]/,Ph=/\\(\\)?/g,Lh=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ma=/\w*$/,Dh=/^[-+]0x[0-9a-f]+$/i,$h=/^0b[01]+$/i,Nh=/^\[object .+?Constructor\]$/,Uh=/^0o[0-7]+$/i,Bh=/^(?:0|[1-9]\d*)$/,Fh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ni=/($^)/,jh=/['\n\r\u2028\u2029\\]/g,ri="\\ud800-\\udfff",zh="\\u0300-\\u036f",Wh="\\ufe20-\\ufe2f",Gh="\\u20d0-\\u20ff",ya=zh+Wh+Gh,wa="\\u2700-\\u27bf",ba="a-z\\xdf-\\xf6\\xf8-\\xff",qh="\\xac\\xb1\\xd7\\xf7",Hh="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jh="\\u2000-\\u206f",Kh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",xa="A-Z\\xc0-\\xd6\\xd8-\\xde",Ta="\\ufe0e\\ufe0f",Ea=qh+Hh+Jh+Kh,Ts="['\u2019]",Yh="["+ri+"]",Aa="["+Ea+"]",ii="["+ya+"]",Sa="\\d+",Vh="["+wa+"]",Oa="["+ba+"]",Ra="[^"+ri+Ea+Sa+wa+ba+xa+"]",Es="\\ud83c[\\udffb-\\udfff]",Xh="(?:"+ii+"|"+Es+")",Ia="[^"+ri+"]",As="(?:\\ud83c[\\udde6-\\uddff]){2}",Ss="[\\ud800-\\udbff][\\udc00-\\udfff]",Qn="["+xa+"]",ka="\\u200d",Ca="(?:"+Oa+"|"+Ra+")",Zh="(?:"+Qn+"|"+Ra+")",Ma="(?:"+Ts+"(?:d|ll|m|re|s|t|ve))?",Pa="(?:"+Ts+"(?:D|LL|M|RE|S|T|VE))?",La=Xh+"?",Da="["+Ta+"]?",Qh="(?:"+ka+"(?:"+[Ia,As,Ss].join("|")+")"+Da+La+")*",ef="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",tf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$a=Da+La+Qh,nf="(?:"+[Vh,As,Ss].join("|")+")"+$a,rf="(?:"+[Ia+ii+"?",ii,As,Ss,Yh].join("|")+")",sf=RegExp(Ts,"g"),of=RegExp(ii,"g"),Os=RegExp(Es+"(?="+Es+")|"+rf+$a,"g"),af=RegExp([Qn+"?"+Oa+"+"+Ma+"(?="+[Aa,Qn,"$"].join("|")+")",Zh+"+"+Pa+"(?="+[Aa,Qn+Ca,"$"].join("|")+")",Qn+"?"+Ca+"+"+Ma,Qn+"+"+Pa,tf,ef,Sa,nf].join("|"),"g"),uf=RegExp("["+ka+ri+ya+Ta+"]"),lf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,cf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],hf=-1,Pe={};Pe[fs]=Pe[ds]=Pe[gs]=Pe[_s]=Pe[ps]=Pe[vs]=Pe[ms]=Pe[ys]=Pe[ws]=!0,Pe[Qe]=Pe[Mt]=Pe[Ir]=Pe[_n]=Pe[Zn]=Pe[pn]=Pe[Pn]=Pe[ei]=Pe[zt]=Pe[Ar]=Pe[tn]=Pe[Sr]=Pe[Wt]=Pe[Or]=Pe[Rr]=!1;var Ce={};Ce[Qe]=Ce[Mt]=Ce[Ir]=Ce[Zn]=Ce[_n]=Ce[pn]=Ce[fs]=Ce[ds]=Ce[gs]=Ce[_s]=Ce[ps]=Ce[zt]=Ce[Ar]=Ce[tn]=Ce[Sr]=Ce[Wt]=Ce[Or]=Ce[ti]=Ce[vs]=Ce[ms]=Ce[ys]=Ce[ws]=!0,Ce[Pn]=Ce[ei]=Ce[Rr]=!1;var ff={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},df={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},_f={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},pf=parseFloat,vf=parseInt,Na=typeof pr=="object"&&pr&&pr.Object===Object&&pr,mf=typeof self=="object"&&self&&self.Object===Object&&self,tt=Na||mf||Function("return this")(),Rs=t&&!t.nodeType&&t,Ln=Rs&&!0&&i&&!i.nodeType&&i,Ua=Ln&&Ln.exports===Rs,Is=Ua&&Na.process,Pt=function(){try{var I=Ln&&Ln.require&&Ln.require("util").types;return I||Is&&Is.binding&&Is.binding("util")}catch{}}(),Ba=Pt&&Pt.isArrayBuffer,Fa=Pt&&Pt.isDate,ja=Pt&&Pt.isMap,za=Pt&&Pt.isRegExp,Wa=Pt&&Pt.isSet,Ga=Pt&&Pt.isTypedArray;function Tt(I,$,P){switch(P.length){case 0:return I.call($);case 1:return I.call($,P[0]);case 2:return I.call($,P[0],P[1]);case 3:return I.call($,P[0],P[1],P[2])}return I.apply($,P)}function yf(I,$,P,Y){for(var he=-1,Te=I==null?0:I.length;++he<Te;){var Ve=I[he];$(Y,Ve,P(Ve),I)}return Y}function Lt(I,$){for(var P=-1,Y=I==null?0:I.length;++P<Y&&$(I[P],P,I)!==!1;);return I}function wf(I,$){for(var P=I==null?0:I.length;P--&&$(I[P],P,I)!==!1;);return I}function qa(I,$){for(var P=-1,Y=I==null?0:I.length;++P<Y;)if(!$(I[P],P,I))return!1;return!0}function vn(I,$){for(var P=-1,Y=I==null?0:I.length,he=0,Te=[];++P<Y;){var Ve=I[P];$(Ve,P,I)&&(Te[he++]=Ve)}return Te}function si(I,$){var P=I==null?0:I.length;return!!P&&er(I,$,0)>-1}function ks(I,$,P){for(var Y=-1,he=I==null?0:I.length;++Y<he;)if(P($,I[Y]))return!0;return!1}function Le(I,$){for(var P=-1,Y=I==null?0:I.length,he=Array(Y);++P<Y;)he[P]=$(I[P],P,I);return he}function mn(I,$){for(var P=-1,Y=$.length,he=I.length;++P<Y;)I[he+P]=$[P];return I}function Cs(I,$,P,Y){var he=-1,Te=I==null?0:I.length;for(Y&&Te&&(P=I[++he]);++he<Te;)P=$(P,I[he],he,I);return P}function bf(I,$,P,Y){var he=I==null?0:I.length;for(Y&&he&&(P=I[--he]);he--;)P=$(P,I[he],he,I);return P}function Ms(I,$){for(var P=-1,Y=I==null?0:I.length;++P<Y;)if($(I[P],P,I))return!0;return!1}var xf=Ps("length");function Tf(I){return I.split("")}function Ef(I){return I.match(Ch)||[]}function Ha(I,$,P){var Y;return P(I,function(he,Te,Ve){if($(he,Te,Ve))return Y=Te,!1}),Y}function oi(I,$,P,Y){for(var he=I.length,Te=P+(Y?1:-1);Y?Te--:++Te<he;)if($(I[Te],Te,I))return Te;return-1}function er(I,$,P){return $===$?$f(I,$,P):oi(I,Ja,P)}function Af(I,$,P,Y){for(var he=P-1,Te=I.length;++he<Te;)if(Y(I[he],$))return he;return-1}function Ja(I){return I!==I}function Ka(I,$){var P=I==null?0:I.length;return P?Ds(I,$)/P:it}function Ps(I){return function($){return $==null?n:$[I]}}function Ls(I){return function($){return I==null?n:I[$]}}function Ya(I,$,P,Y,he){return he(I,function(Te,Ve,ke){P=Y?(Y=!1,Te):$(P,Te,Ve,ke)}),P}function Sf(I,$){var P=I.length;for(I.sort($);P--;)I[P]=I[P].value;return I}function Ds(I,$){for(var P,Y=-1,he=I.length;++Y<he;){var Te=$(I[Y]);Te!==n&&(P=P===n?Te:P+Te)}return P}function $s(I,$){for(var P=-1,Y=Array(I);++P<I;)Y[P]=$(P);return Y}function Of(I,$){return Le($,function(P){return[P,I[P]]})}function Va(I){return I&&I.slice(0,eu(I)+1).replace(xs,"")}function Et(I){return function($){return I($)}}function Ns(I,$){return Le($,function(P){return I[P]})}function kr(I,$){return I.has($)}function Xa(I,$){for(var P=-1,Y=I.length;++P<Y&&er($,I[P],0)>-1;);return P}function Za(I,$){for(var P=I.length;P--&&er($,I[P],0)>-1;);return P}function Rf(I,$){for(var P=I.length,Y=0;P--;)I[P]===$&&++Y;return Y}var If=Ls(ff),kf=Ls(df);function Cf(I){return"\\"+_f[I]}function Mf(I,$){return I==null?n:I[$]}function tr(I){return uf.test(I)}function Pf(I){return lf.test(I)}function Lf(I){for(var $,P=[];!($=I.next()).done;)P.push($.value);return P}function Us(I){var $=-1,P=Array(I.size);return I.forEach(function(Y,he){P[++$]=[he,Y]}),P}function Qa(I,$){return function(P){return I($(P))}}function yn(I,$){for(var P=-1,Y=I.length,he=0,Te=[];++P<Y;){var Ve=I[P];(Ve===$||Ve===_)&&(I[P]=_,Te[he++]=P)}return Te}function ai(I){var $=-1,P=Array(I.size);return I.forEach(function(Y){P[++$]=Y}),P}function Df(I){var $=-1,P=Array(I.size);return I.forEach(function(Y){P[++$]=[Y,Y]}),P}function $f(I,$,P){for(var Y=P-1,he=I.length;++Y<he;)if(I[Y]===$)return Y;return-1}function Nf(I,$,P){for(var Y=P+1;Y--;)if(I[Y]===$)return Y;return Y}function nr(I){return tr(I)?Bf(I):xf(I)}function Gt(I){return tr(I)?Ff(I):Tf(I)}function eu(I){for(var $=I.length;$--&&Oh.test(I.charAt($)););return $}var Uf=Ls(gf);function Bf(I){for(var $=Os.lastIndex=0;Os.test(I);)++$;return $}function Ff(I){return I.match(Os)||[]}function jf(I){return I.match(af)||[]}var zf=function I($){$=$==null?tt:rr.defaults(tt.Object(),$,rr.pick(tt,cf));var P=$.Array,Y=$.Date,he=$.Error,Te=$.Function,Ve=$.Math,ke=$.Object,Bs=$.RegExp,Wf=$.String,Dt=$.TypeError,ui=P.prototype,Gf=Te.prototype,ir=ke.prototype,li=$["__core-js_shared__"],ci=Gf.toString,Re=ir.hasOwnProperty,qf=0,tu=function(){var e=/[^.]+$/.exec(li&&li.keys&&li.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),hi=ir.toString,Hf=ci.call(ke),Jf=tt._,Kf=Bs("^"+ci.call(Re).replace(bs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fi=Ua?$.Buffer:n,wn=$.Symbol,di=$.Uint8Array,nu=fi?fi.allocUnsafe:n,gi=Qa(ke.getPrototypeOf,ke),ru=ke.create,iu=ir.propertyIsEnumerable,_i=ui.splice,su=wn?wn.isConcatSpreadable:n,Cr=wn?wn.iterator:n,Dn=wn?wn.toStringTag:n,pi=function(){try{var e=Fn(ke,"defineProperty");return e({},"",{}),e}catch{}}(),Yf=$.clearTimeout!==tt.clearTimeout&&$.clearTimeout,Vf=Y&&Y.now!==tt.Date.now&&Y.now,Xf=$.setTimeout!==tt.setTimeout&&$.setTimeout,vi=Ve.ceil,mi=Ve.floor,Fs=ke.getOwnPropertySymbols,Zf=fi?fi.isBuffer:n,ou=$.isFinite,Qf=ui.join,ed=Qa(ke.keys,ke),Xe=Ve.max,st=Ve.min,td=Y.now,nd=$.parseInt,au=Ve.random,rd=ui.reverse,js=Fn($,"DataView"),Mr=Fn($,"Map"),zs=Fn($,"Promise"),sr=Fn($,"Set"),Pr=Fn($,"WeakMap"),Lr=Fn(ke,"create"),yi=Pr&&new Pr,or={},id=jn(js),sd=jn(Mr),od=jn(zs),ad=jn(sr),ud=jn(Pr),wi=wn?wn.prototype:n,Dr=wi?wi.valueOf:n,uu=wi?wi.toString:n;function v(e){if(Ne(e)&&!fe(e)&&!(e instanceof me)){if(e instanceof $t)return e;if(Re.call(e,"__wrapped__"))return ll(e)}return new $t(e)}var ar=function(){function e(){}return function(r){if(!De(r))return{};if(ru)return ru(r);e.prototype=r;var o=new e;return e.prototype=n,o}}();function bi(){}function $t(e,r){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=n}v.templateSettings={escape:bh,evaluate:xh,interpolate:va,variable:"",imports:{_:v}},v.prototype=bi.prototype,v.prototype.constructor=v,$t.prototype=ar(bi.prototype),$t.prototype.constructor=$t;function me(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=$e,this.__views__=[]}function ld(){var e=new me(this.__wrapped__);return e.__actions__=vt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=vt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=vt(this.__views__),e}function cd(){if(this.__filtered__){var e=new me(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function hd(){var e=this.__wrapped__.value(),r=this.__dir__,o=fe(e),h=r<0,g=o?e.length:0,m=T0(0,g,this.__views__),x=m.start,S=m.end,k=S-x,N=h?S:x-1,U=this.__iteratees__,F=U.length,H=0,Z=st(k,this.__takeCount__);if(!o||!h&&g==k&&Z==k)return Mu(e,this.__actions__);var ue=[];e:for(;k--&&H<Z;){N+=r;for(var ge=-1,le=e[N];++ge<F;){var pe=U[ge],ye=pe.iteratee,Ot=pe.type,gt=ye(le);if(Ot==B)le=gt;else if(!gt){if(Ot==R)continue e;break e}}ue[H++]=le}return ue}me.prototype=ar(bi.prototype),me.prototype.constructor=me;function $n(e){var r=-1,o=e==null?0:e.length;for(this.clear();++r<o;){var h=e[r];this.set(h[0],h[1])}}function fd(){this.__data__=Lr?Lr(null):{},this.size=0}function dd(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}function gd(e){var r=this.__data__;if(Lr){var o=r[e];return o===d?n:o}return Re.call(r,e)?r[e]:n}function _d(e){var r=this.__data__;return Lr?r[e]!==n:Re.call(r,e)}function pd(e,r){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=Lr&&r===n?d:r,this}$n.prototype.clear=fd,$n.prototype.delete=dd,$n.prototype.get=gd,$n.prototype.has=_d,$n.prototype.set=pd;function nn(e){var r=-1,o=e==null?0:e.length;for(this.clear();++r<o;){var h=e[r];this.set(h[0],h[1])}}function vd(){this.__data__=[],this.size=0}function md(e){var r=this.__data__,o=xi(r,e);if(o<0)return!1;var h=r.length-1;return o==h?r.pop():_i.call(r,o,1),--this.size,!0}function yd(e){var r=this.__data__,o=xi(r,e);return o<0?n:r[o][1]}function wd(e){return xi(this.__data__,e)>-1}function bd(e,r){var o=this.__data__,h=xi(o,e);return h<0?(++this.size,o.push([e,r])):o[h][1]=r,this}nn.prototype.clear=vd,nn.prototype.delete=md,nn.prototype.get=yd,nn.prototype.has=wd,nn.prototype.set=bd;function rn(e){var r=-1,o=e==null?0:e.length;for(this.clear();++r<o;){var h=e[r];this.set(h[0],h[1])}}function xd(){this.size=0,this.__data__={hash:new $n,map:new(Mr||nn),string:new $n}}function Td(e){var r=Li(this,e).delete(e);return this.size-=r?1:0,r}function Ed(e){return Li(this,e).get(e)}function Ad(e){return Li(this,e).has(e)}function Sd(e,r){var o=Li(this,e),h=o.size;return o.set(e,r),this.size+=o.size==h?0:1,this}rn.prototype.clear=xd,rn.prototype.delete=Td,rn.prototype.get=Ed,rn.prototype.has=Ad,rn.prototype.set=Sd;function Nn(e){var r=-1,o=e==null?0:e.length;for(this.__data__=new rn;++r<o;)this.add(e[r])}function Od(e){return this.__data__.set(e,d),this}function Rd(e){return this.__data__.has(e)}Nn.prototype.add=Nn.prototype.push=Od,Nn.prototype.has=Rd;function qt(e){var r=this.__data__=new nn(e);this.size=r.size}function Id(){this.__data__=new nn,this.size=0}function kd(e){var r=this.__data__,o=r.delete(e);return this.size=r.size,o}function Cd(e){return this.__data__.get(e)}function Md(e){return this.__data__.has(e)}function Pd(e,r){var o=this.__data__;if(o instanceof nn){var h=o.__data__;if(!Mr||h.length<a-1)return h.push([e,r]),this.size=++o.size,this;o=this.__data__=new rn(h)}return o.set(e,r),this.size=o.size,this}qt.prototype.clear=Id,qt.prototype.delete=kd,qt.prototype.get=Cd,qt.prototype.has=Md,qt.prototype.set=Pd;function lu(e,r){var o=fe(e),h=!o&&zn(e),g=!o&&!h&&An(e),m=!o&&!h&&!g&&hr(e),x=o||h||g||m,S=x?$s(e.length,Wf):[],k=S.length;for(var N in e)(r||Re.call(e,N))&&!(x&&(N=="length"||g&&(N=="offset"||N=="parent")||m&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||un(N,k)))&&S.push(N);return S}function cu(e){var r=e.length;return r?e[Qs(0,r-1)]:n}function Ld(e,r){return Di(vt(e),Un(r,0,e.length))}function Dd(e){return Di(vt(e))}function Ws(e,r,o){(o!==n&&!Ht(e[r],o)||o===n&&!(r in e))&&sn(e,r,o)}function $r(e,r,o){var h=e[r];(!(Re.call(e,r)&&Ht(h,o))||o===n&&!(r in e))&&sn(e,r,o)}function xi(e,r){for(var o=e.length;o--;)if(Ht(e[o][0],r))return o;return-1}function $d(e,r,o,h){return bn(e,function(g,m,x){r(h,g,o(g),x)}),h}function hu(e,r){return e&&Zt(r,et(r),e)}function Nd(e,r){return e&&Zt(r,yt(r),e)}function sn(e,r,o){r=="__proto__"&&pi?pi(e,r,{configurable:!0,enumerable:!0,value:o,writable:!0}):e[r]=o}function Gs(e,r){for(var o=-1,h=r.length,g=P(h),m=e==null;++o<h;)g[o]=m?n:Ao(e,r[o]);return g}function Un(e,r,o){return e===e&&(o!==n&&(e=e<=o?e:o),r!==n&&(e=e>=r?e:r)),e}function Nt(e,r,o,h,g,m){var x,S=r&p,k=r&w,N=r&E;if(o&&(x=g?o(e,h,g,m):o(e)),x!==n)return x;if(!De(e))return e;var U=fe(e);if(U){if(x=A0(e),!S)return vt(e,x)}else{var F=ot(e),H=F==ei||F==da;if(An(e))return Du(e,S);if(F==tn||F==Qe||H&&!g){if(x=k||H?{}:el(e),!S)return k?g0(e,Nd(x,e)):d0(e,hu(x,e))}else{if(!Ce[F])return g?e:{};x=S0(e,F,S)}}m||(m=new qt);var Z=m.get(e);if(Z)return Z;m.set(e,x),Il(e)?e.forEach(function(le){x.add(Nt(le,r,o,le,e,m))}):Ol(e)&&e.forEach(function(le,pe){x.set(pe,Nt(le,r,o,pe,e,m))});var ue=N?k?co:lo:k?yt:et,ge=U?n:ue(e);return Lt(ge||e,function(le,pe){ge&&(pe=le,le=e[pe]),$r(x,pe,Nt(le,r,o,pe,e,m))}),x}function Ud(e){var r=et(e);return function(o){return fu(o,e,r)}}function fu(e,r,o){var h=o.length;if(e==null)return!h;for(e=ke(e);h--;){var g=o[h],m=r[g],x=e[g];if(x===n&&!(g in e)||!m(x))return!1}return!0}function du(e,r,o){if(typeof e!="function")throw new Dt(l);return Wr(function(){e.apply(n,o)},r)}function Nr(e,r,o,h){var g=-1,m=si,x=!0,S=e.length,k=[],N=r.length;if(!S)return k;o&&(r=Le(r,Et(o))),h?(m=ks,x=!1):r.length>=a&&(m=kr,x=!1,r=new Nn(r));e:for(;++g<S;){var U=e[g],F=o==null?U:o(U);if(U=h||U!==0?U:0,x&&F===F){for(var H=N;H--;)if(r[H]===F)continue e;k.push(U)}else m(r,F,h)||k.push(U)}return k}var bn=Fu(Xt),gu=Fu(Hs,!0);function Bd(e,r){var o=!0;return bn(e,function(h,g,m){return o=!!r(h,g,m),o}),o}function Ti(e,r,o){for(var h=-1,g=e.length;++h<g;){var m=e[h],x=r(m);if(x!=null&&(S===n?x===x&&!St(x):o(x,S)))var S=x,k=m}return k}function Fd(e,r,o,h){var g=e.length;for(o=de(o),o<0&&(o=-o>g?0:g+o),h=h===n||h>g?g:de(h),h<0&&(h+=g),h=o>h?0:Cl(h);o<h;)e[o++]=r;return e}function _u(e,r){var o=[];return bn(e,function(h,g,m){r(h,g,m)&&o.push(h)}),o}function nt(e,r,o,h,g){var m=-1,x=e.length;for(o||(o=R0),g||(g=[]);++m<x;){var S=e[m];r>0&&o(S)?r>1?nt(S,r-1,o,h,g):mn(g,S):h||(g[g.length]=S)}return g}var qs=ju(),pu=ju(!0);function Xt(e,r){return e&&qs(e,r,et)}function Hs(e,r){return e&&pu(e,r,et)}function Ei(e,r){return vn(r,function(o){return ln(e[o])})}function Bn(e,r){r=Tn(r,e);for(var o=0,h=r.length;e!=null&&o<h;)e=e[Qt(r[o++])];return o&&o==h?e:n}function vu(e,r,o){var h=r(e);return fe(e)?h:mn(h,o(e))}function ft(e){return e==null?e===n?gh:fh:Dn&&Dn in ke(e)?x0(e):D0(e)}function Js(e,r){return e>r}function jd(e,r){return e!=null&&Re.call(e,r)}function zd(e,r){return e!=null&&r in ke(e)}function Wd(e,r,o){return e>=st(r,o)&&e<Xe(r,o)}function Ks(e,r,o){for(var h=o?ks:si,g=e[0].length,m=e.length,x=m,S=P(m),k=1/0,N=[];x--;){var U=e[x];x&&r&&(U=Le(U,Et(r))),k=st(U.length,k),S[x]=!o&&(r||g>=120&&U.length>=120)?new Nn(x&&U):n}U=e[0];var F=-1,H=S[0];e:for(;++F<g&&N.length<k;){var Z=U[F],ue=r?r(Z):Z;if(Z=o||Z!==0?Z:0,!(H?kr(H,ue):h(N,ue,o))){for(x=m;--x;){var ge=S[x];if(!(ge?kr(ge,ue):h(e[x],ue,o)))continue e}H&&H.push(ue),N.push(Z)}}return N}function Gd(e,r,o,h){return Xt(e,function(g,m,x){r(h,o(g),m,x)}),h}function Ur(e,r,o){r=Tn(r,e),e=il(e,r);var h=e==null?e:e[Qt(Bt(r))];return h==null?n:Tt(h,e,o)}function mu(e){return Ne(e)&&ft(e)==Qe}function qd(e){return Ne(e)&&ft(e)==Ir}function Hd(e){return Ne(e)&&ft(e)==pn}function Br(e,r,o,h,g){return e===r?!0:e==null||r==null||!Ne(e)&&!Ne(r)?e!==e&&r!==r:Jd(e,r,o,h,Br,g)}function Jd(e,r,o,h,g,m){var x=fe(e),S=fe(r),k=x?Mt:ot(e),N=S?Mt:ot(r);k=k==Qe?tn:k,N=N==Qe?tn:N;var U=k==tn,F=N==tn,H=k==N;if(H&&An(e)){if(!An(r))return!1;x=!0,U=!1}if(H&&!U)return m||(m=new qt),x||hr(e)?Xu(e,r,o,h,g,m):w0(e,r,k,o,h,g,m);if(!(o&A)){var Z=U&&Re.call(e,"__wrapped__"),ue=F&&Re.call(r,"__wrapped__");if(Z||ue){var ge=Z?e.value():e,le=ue?r.value():r;return m||(m=new qt),g(ge,le,o,h,m)}}return H?(m||(m=new qt),b0(e,r,o,h,g,m)):!1}function Kd(e){return Ne(e)&&ot(e)==zt}function Ys(e,r,o,h){var g=o.length,m=g,x=!h;if(e==null)return!m;for(e=ke(e);g--;){var S=o[g];if(x&&S[2]?S[1]!==e[S[0]]:!(S[0]in e))return!1}for(;++g<m;){S=o[g];var k=S[0],N=e[k],U=S[1];if(x&&S[2]){if(N===n&&!(k in e))return!1}else{var F=new qt;if(h)var H=h(N,U,k,e,r,F);if(!(H===n?Br(U,N,A|T,h,F):H))return!1}}return!0}function yu(e){if(!De(e)||k0(e))return!1;var r=ln(e)?Kf:Nh;return r.test(jn(e))}function Yd(e){return Ne(e)&&ft(e)==Sr}function Vd(e){return Ne(e)&&ot(e)==Wt}function Xd(e){return Ne(e)&&ji(e.length)&&!!Pe[ft(e)]}function wu(e){return typeof e=="function"?e:e==null?wt:typeof e=="object"?fe(e)?Tu(e[0],e[1]):xu(e):zl(e)}function Vs(e){if(!zr(e))return ed(e);var r=[];for(var o in ke(e))Re.call(e,o)&&o!="constructor"&&r.push(o);return r}function Zd(e){if(!De(e))return L0(e);var r=zr(e),o=[];for(var h in e)h=="constructor"&&(r||!Re.call(e,h))||o.push(h);return o}function Xs(e,r){return e<r}function bu(e,r){var o=-1,h=mt(e)?P(e.length):[];return bn(e,function(g,m,x){h[++o]=r(g,m,x)}),h}function xu(e){var r=fo(e);return r.length==1&&r[0][2]?nl(r[0][0],r[0][1]):function(o){return o===e||Ys(o,e,r)}}function Tu(e,r){return _o(e)&&tl(r)?nl(Qt(e),r):function(o){var h=Ao(o,e);return h===n&&h===r?So(o,e):Br(r,h,A|T)}}function Ai(e,r,o,h,g){e!==r&&qs(r,function(m,x){if(g||(g=new qt),De(m))Qd(e,r,x,o,Ai,h,g);else{var S=h?h(vo(e,x),m,x+"",e,r,g):n;S===n&&(S=m),Ws(e,x,S)}},yt)}function Qd(e,r,o,h,g,m,x){var S=vo(e,o),k=vo(r,o),N=x.get(k);if(N){Ws(e,o,N);return}var U=m?m(S,k,o+"",e,r,x):n,F=U===n;if(F){var H=fe(k),Z=!H&&An(k),ue=!H&&!Z&&hr(k);U=k,H||Z||ue?fe(S)?U=S:Be(S)?U=vt(S):Z?(F=!1,U=Du(k,!0)):ue?(F=!1,U=$u(k,!0)):U=[]:Gr(k)||zn(k)?(U=S,zn(S)?U=Ml(S):(!De(S)||ln(S))&&(U=el(k))):F=!1}F&&(x.set(k,U),g(U,k,h,m,x),x.delete(k)),Ws(e,o,U)}function Eu(e,r){var o=e.length;if(!!o)return r+=r<0?o:0,un(r,o)?e[r]:n}function Au(e,r,o){r.length?r=Le(r,function(m){return fe(m)?function(x){return Bn(x,m.length===1?m[0]:m)}:m}):r=[wt];var h=-1;r=Le(r,Et(ae()));var g=bu(e,function(m,x,S){var k=Le(r,function(N){return N(m)});return{criteria:k,index:++h,value:m}});return Sf(g,function(m,x){return f0(m,x,o)})}function e0(e,r){return Su(e,r,function(o,h){return So(e,h)})}function Su(e,r,o){for(var h=-1,g=r.length,m={};++h<g;){var x=r[h],S=Bn(e,x);o(S,x)&&Fr(m,Tn(x,e),S)}return m}function t0(e){return function(r){return Bn(r,e)}}function Zs(e,r,o,h){var g=h?Af:er,m=-1,x=r.length,S=e;for(e===r&&(r=vt(r)),o&&(S=Le(e,Et(o)));++m<x;)for(var k=0,N=r[m],U=o?o(N):N;(k=g(S,U,k,h))>-1;)S!==e&&_i.call(S,k,1),_i.call(e,k,1);return e}function Ou(e,r){for(var o=e?r.length:0,h=o-1;o--;){var g=r[o];if(o==h||g!==m){var m=g;un(g)?_i.call(e,g,1):no(e,g)}}return e}function Qs(e,r){return e+mi(au()*(r-e+1))}function n0(e,r,o,h){for(var g=-1,m=Xe(vi((r-e)/(o||1)),0),x=P(m);m--;)x[h?m:++g]=e,e+=o;return x}function eo(e,r){var o="";if(!e||r<1||r>ve)return o;do r%2&&(o+=e),r=mi(r/2),r&&(e+=e);while(r);return o}function _e(e,r){return mo(rl(e,r,wt),e+"")}function r0(e){return cu(fr(e))}function i0(e,r){var o=fr(e);return Di(o,Un(r,0,o.length))}function Fr(e,r,o,h){if(!De(e))return e;r=Tn(r,e);for(var g=-1,m=r.length,x=m-1,S=e;S!=null&&++g<m;){var k=Qt(r[g]),N=o;if(k==="__proto__"||k==="constructor"||k==="prototype")return e;if(g!=x){var U=S[k];N=h?h(U,k,S):n,N===n&&(N=De(U)?U:un(r[g+1])?[]:{})}$r(S,k,N),S=S[k]}return e}var Ru=yi?function(e,r){return yi.set(e,r),e}:wt,s0=pi?function(e,r){return pi(e,"toString",{configurable:!0,enumerable:!1,value:Ro(r),writable:!0})}:wt;function o0(e){return Di(fr(e))}function Ut(e,r,o){var h=-1,g=e.length;r<0&&(r=-r>g?0:g+r),o=o>g?g:o,o<0&&(o+=g),g=r>o?0:o-r>>>0,r>>>=0;for(var m=P(g);++h<g;)m[h]=e[h+r];return m}function a0(e,r){var o;return bn(e,function(h,g,m){return o=r(h,g,m),!o}),!!o}function Si(e,r,o){var h=0,g=e==null?h:e.length;if(typeof r=="number"&&r===r&&g<=oe){for(;h<g;){var m=h+g>>>1,x=e[m];x!==null&&!St(x)&&(o?x<=r:x<r)?h=m+1:g=m}return g}return to(e,r,wt,o)}function to(e,r,o,h){var g=0,m=e==null?0:e.length;if(m===0)return 0;r=o(r);for(var x=r!==r,S=r===null,k=St(r),N=r===n;g<m;){var U=mi((g+m)/2),F=o(e[U]),H=F!==n,Z=F===null,ue=F===F,ge=St(F);if(x)var le=h||ue;else N?le=ue&&(h||H):S?le=ue&&H&&(h||!Z):k?le=ue&&H&&!Z&&(h||!ge):Z||ge?le=!1:le=h?F<=r:F<r;le?g=U+1:m=U}return st(m,Ct)}function Iu(e,r){for(var o=-1,h=e.length,g=0,m=[];++o<h;){var x=e[o],S=r?r(x):x;if(!o||!Ht(S,k)){var k=S;m[g++]=x===0?0:x}}return m}function ku(e){return typeof e=="number"?e:St(e)?it:+e}function At(e){if(typeof e=="string")return e;if(fe(e))return Le(e,At)+"";if(St(e))return uu?uu.call(e):"";var r=e+"";return r=="0"&&1/e==-we?"-0":r}function xn(e,r,o){var h=-1,g=si,m=e.length,x=!0,S=[],k=S;if(o)x=!1,g=ks;else if(m>=a){var N=r?null:m0(e);if(N)return ai(N);x=!1,g=kr,k=new Nn}else k=r?[]:S;e:for(;++h<m;){var U=e[h],F=r?r(U):U;if(U=o||U!==0?U:0,x&&F===F){for(var H=k.length;H--;)if(k[H]===F)continue e;r&&k.push(F),S.push(U)}else g(k,F,o)||(k!==S&&k.push(F),S.push(U))}return S}function no(e,r){return r=Tn(r,e),e=il(e,r),e==null||delete e[Qt(Bt(r))]}function Cu(e,r,o,h){return Fr(e,r,o(Bn(e,r)),h)}function Oi(e,r,o,h){for(var g=e.length,m=h?g:-1;(h?m--:++m<g)&&r(e[m],m,e););return o?Ut(e,h?0:m,h?m+1:g):Ut(e,h?m+1:0,h?g:m)}function Mu(e,r){var o=e;return o instanceof me&&(o=o.value()),Cs(r,function(h,g){return g.func.apply(g.thisArg,mn([h],g.args))},o)}function ro(e,r,o){var h=e.length;if(h<2)return h?xn(e[0]):[];for(var g=-1,m=P(h);++g<h;)for(var x=e[g],S=-1;++S<h;)S!=g&&(m[g]=Nr(m[g]||x,e[S],r,o));return xn(nt(m,1),r,o)}function Pu(e,r,o){for(var h=-1,g=e.length,m=r.length,x={};++h<g;){var S=h<m?r[h]:n;o(x,e[h],S)}return x}function io(e){return Be(e)?e:[]}function so(e){return typeof e=="function"?e:wt}function Tn(e,r){return fe(e)?e:_o(e,r)?[e]:ul(Ee(e))}var u0=_e;function En(e,r,o){var h=e.length;return o=o===n?h:o,!r&&o>=h?e:Ut(e,r,o)}var Lu=Yf||function(e){return tt.clearTimeout(e)};function Du(e,r){if(r)return e.slice();var o=e.length,h=nu?nu(o):new e.constructor(o);return e.copy(h),h}function oo(e){var r=new e.constructor(e.byteLength);return new di(r).set(new di(e)),r}function l0(e,r){var o=r?oo(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.byteLength)}function c0(e){var r=new e.constructor(e.source,ma.exec(e));return r.lastIndex=e.lastIndex,r}function h0(e){return Dr?ke(Dr.call(e)):{}}function $u(e,r){var o=r?oo(e.buffer):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}function Nu(e,r){if(e!==r){var o=e!==n,h=e===null,g=e===e,m=St(e),x=r!==n,S=r===null,k=r===r,N=St(r);if(!S&&!N&&!m&&e>r||m&&x&&k&&!S&&!N||h&&x&&k||!o&&k||!g)return 1;if(!h&&!m&&!N&&e<r||N&&o&&g&&!h&&!m||S&&o&&g||!x&&g||!k)return-1}return 0}function f0(e,r,o){for(var h=-1,g=e.criteria,m=r.criteria,x=g.length,S=o.length;++h<x;){var k=Nu(g[h],m[h]);if(k){if(h>=S)return k;var N=o[h];return k*(N=="desc"?-1:1)}}return e.index-r.index}function Uu(e,r,o,h){for(var g=-1,m=e.length,x=o.length,S=-1,k=r.length,N=Xe(m-x,0),U=P(k+N),F=!h;++S<k;)U[S]=r[S];for(;++g<x;)(F||g<m)&&(U[o[g]]=e[g]);for(;N--;)U[S++]=e[g++];return U}function Bu(e,r,o,h){for(var g=-1,m=e.length,x=-1,S=o.length,k=-1,N=r.length,U=Xe(m-S,0),F=P(U+N),H=!h;++g<U;)F[g]=e[g];for(var Z=g;++k<N;)F[Z+k]=r[k];for(;++x<S;)(H||g<m)&&(F[Z+o[x]]=e[g++]);return F}function vt(e,r){var o=-1,h=e.length;for(r||(r=P(h));++o<h;)r[o]=e[o];return r}function Zt(e,r,o,h){var g=!o;o||(o={});for(var m=-1,x=r.length;++m<x;){var S=r[m],k=h?h(o[S],e[S],S,o,e):n;k===n&&(k=e[S]),g?sn(o,S,k):$r(o,S,k)}return o}function d0(e,r){return Zt(e,go(e),r)}function g0(e,r){return Zt(e,Zu(e),r)}function Ri(e,r){return function(o,h){var g=fe(o)?yf:$d,m=r?r():{};return g(o,e,ae(h,2),m)}}function ur(e){return _e(function(r,o){var h=-1,g=o.length,m=g>1?o[g-1]:n,x=g>2?o[2]:n;for(m=e.length>3&&typeof m=="function"?(g--,m):n,x&&dt(o[0],o[1],x)&&(m=g<3?n:m,g=1),r=ke(r);++h<g;){var S=o[h];S&&e(r,S,h,m)}return r})}function Fu(e,r){return function(o,h){if(o==null)return o;if(!mt(o))return e(o,h);for(var g=o.length,m=r?g:-1,x=ke(o);(r?m--:++m<g)&&h(x[m],m,x)!==!1;);return o}}function ju(e){return function(r,o,h){for(var g=-1,m=ke(r),x=h(r),S=x.length;S--;){var k=x[e?S:++g];if(o(m[k],k,m)===!1)break}return r}}function _0(e,r,o){var h=r&y,g=jr(e);function m(){var x=this&&this!==tt&&this instanceof m?g:e;return x.apply(h?o:this,arguments)}return m}function zu(e){return function(r){r=Ee(r);var o=tr(r)?Gt(r):n,h=o?o[0]:r.charAt(0),g=o?En(o,1).join(""):r.slice(1);return h[e]()+g}}function lr(e){return function(r){return Cs(Fl(Bl(r).replace(sf,"")),e,"")}}function jr(e){return function(){var r=arguments;switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3]);case 5:return new e(r[0],r[1],r[2],r[3],r[4]);case 6:return new e(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new e(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var o=ar(e.prototype),h=e.apply(o,r);return De(h)?h:o}}function p0(e,r,o){var h=jr(e);function g(){for(var m=arguments.length,x=P(m),S=m,k=cr(g);S--;)x[S]=arguments[S];var N=m<3&&x[0]!==k&&x[m-1]!==k?[]:yn(x,k);if(m-=N.length,m<o)return Ju(e,r,Ii,g.placeholder,n,x,N,n,n,o-m);var U=this&&this!==tt&&this instanceof g?h:e;return Tt(U,this,x)}return g}function Wu(e){return function(r,o,h){var g=ke(r);if(!mt(r)){var m=ae(o,3);r=et(r),o=function(S){return m(g[S],S,g)}}var x=e(r,o,h);return x>-1?g[m?r[x]:x]:n}}function Gu(e){return an(function(r){var o=r.length,h=o,g=$t.prototype.thru;for(e&&r.reverse();h--;){var m=r[h];if(typeof m!="function")throw new Dt(l);if(g&&!x&&Pi(m)=="wrapper")var x=new $t([],!0)}for(h=x?h:o;++h<o;){m=r[h];var S=Pi(m),k=S=="wrapper"?ho(m):n;k&&po(k[0])&&k[1]==(se|C|W|z)&&!k[4].length&&k[9]==1?x=x[Pi(k[0])].apply(x,k[3]):x=m.length==1&&po(m)?x[S]():x.thru(m)}return function(){var N=arguments,U=N[0];if(x&&N.length==1&&fe(U))return x.plant(U).value();for(var F=0,H=o?r[F].apply(this,N):U;++F<o;)H=r[F].call(this,H);return H}})}function Ii(e,r,o,h,g,m,x,S,k,N){var U=r&se,F=r&y,H=r&b,Z=r&(C|L),ue=r&ne,ge=H?n:jr(e);function le(){for(var pe=arguments.length,ye=P(pe),Ot=pe;Ot--;)ye[Ot]=arguments[Ot];if(Z)var gt=cr(le),Rt=Rf(ye,gt);if(h&&(ye=Uu(ye,h,g,Z)),m&&(ye=Bu(ye,m,x,Z)),pe-=Rt,Z&&pe<N){var Fe=yn(ye,gt);return Ju(e,r,Ii,le.placeholder,o,ye,Fe,S,k,N-pe)}var Jt=F?o:this,hn=H?Jt[e]:e;return pe=ye.length,S?ye=$0(ye,S):ue&&pe>1&&ye.reverse(),U&&k<pe&&(ye.length=k),this&&this!==tt&&this instanceof le&&(hn=ge||jr(hn)),hn.apply(Jt,ye)}return le}function qu(e,r){return function(o,h){return Gd(o,e,r(h),{})}}function ki(e,r){return function(o,h){var g;if(o===n&&h===n)return r;if(o!==n&&(g=o),h!==n){if(g===n)return h;typeof o=="string"||typeof h=="string"?(o=At(o),h=At(h)):(o=ku(o),h=ku(h)),g=e(o,h)}return g}}function ao(e){return an(function(r){return r=Le(r,Et(ae())),_e(function(o){var h=this;return e(r,function(g){return Tt(g,h,o)})})})}function Ci(e,r){r=r===n?" ":At(r);var o=r.length;if(o<2)return o?eo(r,e):r;var h=eo(r,vi(e/nr(r)));return tr(r)?En(Gt(h),0,e).join(""):h.slice(0,e)}function v0(e,r,o,h){var g=r&y,m=jr(e);function x(){for(var S=-1,k=arguments.length,N=-1,U=h.length,F=P(U+k),H=this&&this!==tt&&this instanceof x?m:e;++N<U;)F[N]=h[N];for(;k--;)F[N++]=arguments[++S];return Tt(H,g?o:this,F)}return x}function Hu(e){return function(r,o,h){return h&&typeof h!="number"&&dt(r,o,h)&&(o=h=n),r=cn(r),o===n?(o=r,r=0):o=cn(o),h=h===n?r<o?1:-1:cn(h),n0(r,o,h,e)}}function Mi(e){return function(r,o){return typeof r=="string"&&typeof o=="string"||(r=Ft(r),o=Ft(o)),e(r,o)}}function Ju(e,r,o,h,g,m,x,S,k,N){var U=r&C,F=U?x:n,H=U?n:x,Z=U?m:n,ue=U?n:m;r|=U?W:te,r&=~(U?te:W),r&O||(r&=~(y|b));var ge=[e,r,g,Z,F,ue,H,S,k,N],le=o.apply(n,ge);return po(e)&&sl(le,ge),le.placeholder=h,ol(le,e,r)}function uo(e){var r=Ve[e];return function(o,h){if(o=Ft(o),h=h==null?0:st(de(h),292),h&&ou(o)){var g=(Ee(o)+"e").split("e"),m=r(g[0]+"e"+(+g[1]+h));return g=(Ee(m)+"e").split("e"),+(g[0]+"e"+(+g[1]-h))}return r(o)}}var m0=sr&&1/ai(new sr([,-0]))[1]==we?function(e){return new sr(e)}:Co;function Ku(e){return function(r){var o=ot(r);return o==zt?Us(r):o==Wt?Df(r):Of(r,e(r))}}function on(e,r,o,h,g,m,x,S){var k=r&b;if(!k&&typeof e!="function")throw new Dt(l);var N=h?h.length:0;if(N||(r&=~(W|te),h=g=n),x=x===n?x:Xe(de(x),0),S=S===n?S:de(S),N-=g?g.length:0,r&te){var U=h,F=g;h=g=n}var H=k?n:ho(e),Z=[e,r,o,h,g,U,F,m,x,S];if(H&&P0(Z,H),e=Z[0],r=Z[1],o=Z[2],h=Z[3],g=Z[4],S=Z[9]=Z[9]===n?k?0:e.length:Xe(Z[9]-N,0),!S&&r&(C|L)&&(r&=~(C|L)),!r||r==y)var ue=_0(e,r,o);else r==C||r==L?ue=p0(e,r,S):(r==W||r==(y|W))&&!g.length?ue=v0(e,r,o,h):ue=Ii.apply(n,Z);var ge=H?Ru:sl;return ol(ge(ue,Z),e,r)}function Yu(e,r,o,h){return e===n||Ht(e,ir[o])&&!Re.call(h,o)?r:e}function Vu(e,r,o,h,g,m){return De(e)&&De(r)&&(m.set(r,e),Ai(e,r,n,Vu,m),m.delete(r)),e}function y0(e){return Gr(e)?n:e}function Xu(e,r,o,h,g,m){var x=o&A,S=e.length,k=r.length;if(S!=k&&!(x&&k>S))return!1;var N=m.get(e),U=m.get(r);if(N&&U)return N==r&&U==e;var F=-1,H=!0,Z=o&T?new Nn:n;for(m.set(e,r),m.set(r,e);++F<S;){var ue=e[F],ge=r[F];if(h)var le=x?h(ge,ue,F,r,e,m):h(ue,ge,F,e,r,m);if(le!==n){if(le)continue;H=!1;break}if(Z){if(!Ms(r,function(pe,ye){if(!kr(Z,ye)&&(ue===pe||g(ue,pe,o,h,m)))return Z.push(ye)})){H=!1;break}}else if(!(ue===ge||g(ue,ge,o,h,m))){H=!1;break}}return m.delete(e),m.delete(r),H}function w0(e,r,o,h,g,m,x){switch(o){case Zn:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Ir:return!(e.byteLength!=r.byteLength||!m(new di(e),new di(r)));case _n:case pn:case Ar:return Ht(+e,+r);case Pn:return e.name==r.name&&e.message==r.message;case Sr:case Or:return e==r+"";case zt:var S=Us;case Wt:var k=h&A;if(S||(S=ai),e.size!=r.size&&!k)return!1;var N=x.get(e);if(N)return N==r;h|=T,x.set(e,r);var U=Xu(S(e),S(r),h,g,m,x);return x.delete(e),U;case ti:if(Dr)return Dr.call(e)==Dr.call(r)}return!1}function b0(e,r,o,h,g,m){var x=o&A,S=lo(e),k=S.length,N=lo(r),U=N.length;if(k!=U&&!x)return!1;for(var F=k;F--;){var H=S[F];if(!(x?H in r:Re.call(r,H)))return!1}var Z=m.get(e),ue=m.get(r);if(Z&&ue)return Z==r&&ue==e;var ge=!0;m.set(e,r),m.set(r,e);for(var le=x;++F<k;){H=S[F];var pe=e[H],ye=r[H];if(h)var Ot=x?h(ye,pe,H,r,e,m):h(pe,ye,H,e,r,m);if(!(Ot===n?pe===ye||g(pe,ye,o,h,m):Ot)){ge=!1;break}le||(le=H=="constructor")}if(ge&&!le){var gt=e.constructor,Rt=r.constructor;gt!=Rt&&"constructor"in e&&"constructor"in r&&!(typeof gt=="function"&&gt instanceof gt&&typeof Rt=="function"&&Rt instanceof Rt)&&(ge=!1)}return m.delete(e),m.delete(r),ge}function an(e){return mo(rl(e,n,fl),e+"")}function lo(e){return vu(e,et,go)}function co(e){return vu(e,yt,Zu)}var ho=yi?function(e){return yi.get(e)}:Co;function Pi(e){for(var r=e.name+"",o=or[r],h=Re.call(or,r)?o.length:0;h--;){var g=o[h],m=g.func;if(m==null||m==e)return g.name}return r}function cr(e){var r=Re.call(v,"placeholder")?v:e;return r.placeholder}function ae(){var e=v.iteratee||Io;return e=e===Io?wu:e,arguments.length?e(arguments[0],arguments[1]):e}function Li(e,r){var o=e.__data__;return I0(r)?o[typeof r=="string"?"string":"hash"]:o.map}function fo(e){for(var r=et(e),o=r.length;o--;){var h=r[o],g=e[h];r[o]=[h,g,tl(g)]}return r}function Fn(e,r){var o=Mf(e,r);return yu(o)?o:n}function x0(e){var r=Re.call(e,Dn),o=e[Dn];try{e[Dn]=n;var h=!0}catch{}var g=hi.call(e);return h&&(r?e[Dn]=o:delete e[Dn]),g}var go=Fs?function(e){return e==null?[]:(e=ke(e),vn(Fs(e),function(r){return iu.call(e,r)}))}:Mo,Zu=Fs?function(e){for(var r=[];e;)mn(r,go(e)),e=gi(e);return r}:Mo,ot=ft;(js&&ot(new js(new ArrayBuffer(1)))!=Zn||Mr&&ot(new Mr)!=zt||zs&&ot(zs.resolve())!=ga||sr&&ot(new sr)!=Wt||Pr&&ot(new Pr)!=Rr)&&(ot=function(e){var r=ft(e),o=r==tn?e.constructor:n,h=o?jn(o):"";if(h)switch(h){case id:return Zn;case sd:return zt;case od:return ga;case ad:return Wt;case ud:return Rr}return r});function T0(e,r,o){for(var h=-1,g=o.length;++h<g;){var m=o[h],x=m.size;switch(m.type){case"drop":e+=x;break;case"dropRight":r-=x;break;case"take":r=st(r,e+x);break;case"takeRight":e=Xe(e,r-x);break}}return{start:e,end:r}}function E0(e){var r=e.match(Ih);return r?r[1].split(kh):[]}function Qu(e,r,o){r=Tn(r,e);for(var h=-1,g=r.length,m=!1;++h<g;){var x=Qt(r[h]);if(!(m=e!=null&&o(e,x)))break;e=e[x]}return m||++h!=g?m:(g=e==null?0:e.length,!!g&&ji(g)&&un(x,g)&&(fe(e)||zn(e)))}function A0(e){var r=e.length,o=new e.constructor(r);return r&&typeof e[0]=="string"&&Re.call(e,"index")&&(o.index=e.index,o.input=e.input),o}function el(e){return typeof e.constructor=="function"&&!zr(e)?ar(gi(e)):{}}function S0(e,r,o){var h=e.constructor;switch(r){case Ir:return oo(e);case _n:case pn:return new h(+e);case Zn:return l0(e,o);case fs:case ds:case gs:case _s:case ps:case vs:case ms:case ys:case ws:return $u(e,o);case zt:return new h;case Ar:case Or:return new h(e);case Sr:return c0(e);case Wt:return new h;case ti:return h0(e)}}function O0(e,r){var o=r.length;if(!o)return e;var h=o-1;return r[h]=(o>1?"& ":"")+r[h],r=r.join(o>2?", ":" "),e.replace(Rh,`{
/* [wrapped with `+r+`] */
`)}function R0(e){return fe(e)||zn(e)||!!(su&&e&&e[su])}function un(e,r){var o=typeof e;return r=r==null?ve:r,!!r&&(o=="number"||o!="symbol"&&Bh.test(e))&&e>-1&&e%1==0&&e<r}function dt(e,r,o){if(!De(o))return!1;var h=typeof r;return(h=="number"?mt(o)&&un(r,o.length):h=="string"&&r in o)?Ht(o[r],e):!1}function _o(e,r){if(fe(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||St(e)?!0:Eh.test(e)||!Th.test(e)||r!=null&&e in ke(r)}function I0(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function po(e){var r=Pi(e),o=v[r];if(typeof o!="function"||!(r in me.prototype))return!1;if(e===o)return!0;var h=ho(o);return!!h&&e===h[0]}function k0(e){return!!tu&&tu in e}var C0=li?ln:Po;function zr(e){var r=e&&e.constructor,o=typeof r=="function"&&r.prototype||ir;return e===o}function tl(e){return e===e&&!De(e)}function nl(e,r){return function(o){return o==null?!1:o[e]===r&&(r!==n||e in ke(o))}}function M0(e){var r=Bi(e,function(h){return o.size===f&&o.clear(),h}),o=r.cache;return r}function P0(e,r){var o=e[1],h=r[1],g=o|h,m=g<(y|b|se),x=h==se&&o==C||h==se&&o==z&&e[7].length<=r[8]||h==(se|z)&&r[7].length<=r[8]&&o==C;if(!(m||x))return e;h&y&&(e[2]=r[2],g|=o&y?0:O);var S=r[3];if(S){var k=e[3];e[3]=k?Uu(k,S,r[4]):S,e[4]=k?yn(e[3],_):r[4]}return S=r[5],S&&(k=e[5],e[5]=k?Bu(k,S,r[6]):S,e[6]=k?yn(e[5],_):r[6]),S=r[7],S&&(e[7]=S),h&se&&(e[8]=e[8]==null?r[8]:st(e[8],r[8])),e[9]==null&&(e[9]=r[9]),e[0]=r[0],e[1]=g,e}function L0(e){var r=[];if(e!=null)for(var o in ke(e))r.push(o);return r}function D0(e){return hi.call(e)}function rl(e,r,o){return r=Xe(r===n?e.length-1:r,0),function(){for(var h=arguments,g=-1,m=Xe(h.length-r,0),x=P(m);++g<m;)x[g]=h[r+g];g=-1;for(var S=P(r+1);++g<r;)S[g]=h[g];return S[r]=o(x),Tt(e,this,S)}}function il(e,r){return r.length<2?e:Bn(e,Ut(r,0,-1))}function $0(e,r){for(var o=e.length,h=st(r.length,o),g=vt(e);h--;){var m=r[h];e[h]=un(m,o)?g[m]:n}return e}function vo(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var sl=al(Ru),Wr=Xf||function(e,r){return tt.setTimeout(e,r)},mo=al(s0);function ol(e,r,o){var h=r+"";return mo(e,O0(h,N0(E0(h),o)))}function al(e){var r=0,o=0;return function(){var h=td(),g=V-(h-o);if(o=h,g>0){if(++r>=re)return arguments[0]}else r=0;return e.apply(n,arguments)}}function Di(e,r){var o=-1,h=e.length,g=h-1;for(r=r===n?h:r;++o<r;){var m=Qs(o,g),x=e[m];e[m]=e[o],e[o]=x}return e.length=r,e}var ul=M0(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Ah,function(o,h,g,m){r.push(g?m.replace(Ph,"$1"):h||o)}),r});function Qt(e){if(typeof e=="string"||St(e))return e;var r=e+"";return r=="0"&&1/e==-we?"-0":r}function jn(e){if(e!=null){try{return ci.call(e)}catch{}try{return e+""}catch{}}return""}function N0(e,r){return Lt(Ye,function(o){var h="_."+o[0];r&o[1]&&!si(e,h)&&e.push(h)}),e.sort()}function ll(e){if(e instanceof me)return e.clone();var r=new $t(e.__wrapped__,e.__chain__);return r.__actions__=vt(e.__actions__),r.__index__=e.__index__,r.__values__=e.__values__,r}function U0(e,r,o){(o?dt(e,r,o):r===n)?r=1:r=Xe(de(r),0);var h=e==null?0:e.length;if(!h||r<1)return[];for(var g=0,m=0,x=P(vi(h/r));g<h;)x[m++]=Ut(e,g,g+=r);return x}function B0(e){for(var r=-1,o=e==null?0:e.length,h=0,g=[];++r<o;){var m=e[r];m&&(g[h++]=m)}return g}function F0(){var e=arguments.length;if(!e)return[];for(var r=P(e-1),o=arguments[0],h=e;h--;)r[h-1]=arguments[h];return mn(fe(o)?vt(o):[o],nt(r,1))}var j0=_e(function(e,r){return Be(e)?Nr(e,nt(r,1,Be,!0)):[]}),z0=_e(function(e,r){var o=Bt(r);return Be(o)&&(o=n),Be(e)?Nr(e,nt(r,1,Be,!0),ae(o,2)):[]}),W0=_e(function(e,r){var o=Bt(r);return Be(o)&&(o=n),Be(e)?Nr(e,nt(r,1,Be,!0),n,o):[]});function G0(e,r,o){var h=e==null?0:e.length;return h?(r=o||r===n?1:de(r),Ut(e,r<0?0:r,h)):[]}function q0(e,r,o){var h=e==null?0:e.length;return h?(r=o||r===n?1:de(r),r=h-r,Ut(e,0,r<0?0:r)):[]}function H0(e,r){return e&&e.length?Oi(e,ae(r,3),!0,!0):[]}function J0(e,r){return e&&e.length?Oi(e,ae(r,3),!0):[]}function K0(e,r,o,h){var g=e==null?0:e.length;return g?(o&&typeof o!="number"&&dt(e,r,o)&&(o=0,h=g),Fd(e,r,o,h)):[]}function cl(e,r,o){var h=e==null?0:e.length;if(!h)return-1;var g=o==null?0:de(o);return g<0&&(g=Xe(h+g,0)),oi(e,ae(r,3),g)}function hl(e,r,o){var h=e==null?0:e.length;if(!h)return-1;var g=h-1;return o!==n&&(g=de(o),g=o<0?Xe(h+g,0):st(g,h-1)),oi(e,ae(r,3),g,!0)}function fl(e){var r=e==null?0:e.length;return r?nt(e,1):[]}function Y0(e){var r=e==null?0:e.length;return r?nt(e,we):[]}function V0(e,r){var o=e==null?0:e.length;return o?(r=r===n?1:de(r),nt(e,r)):[]}function X0(e){for(var r=-1,o=e==null?0:e.length,h={};++r<o;){var g=e[r];h[g[0]]=g[1]}return h}function dl(e){return e&&e.length?e[0]:n}function Z0(e,r,o){var h=e==null?0:e.length;if(!h)return-1;var g=o==null?0:de(o);return g<0&&(g=Xe(h+g,0)),er(e,r,g)}function Q0(e){var r=e==null?0:e.length;return r?Ut(e,0,-1):[]}var eg=_e(function(e){var r=Le(e,io);return r.length&&r[0]===e[0]?Ks(r):[]}),tg=_e(function(e){var r=Bt(e),o=Le(e,io);return r===Bt(o)?r=n:o.pop(),o.length&&o[0]===e[0]?Ks(o,ae(r,2)):[]}),ng=_e(function(e){var r=Bt(e),o=Le(e,io);return r=typeof r=="function"?r:n,r&&o.pop(),o.length&&o[0]===e[0]?Ks(o,n,r):[]});function rg(e,r){return e==null?"":Qf.call(e,r)}function Bt(e){var r=e==null?0:e.length;return r?e[r-1]:n}function ig(e,r,o){var h=e==null?0:e.length;if(!h)return-1;var g=h;return o!==n&&(g=de(o),g=g<0?Xe(h+g,0):st(g,h-1)),r===r?Nf(e,r,g):oi(e,Ja,g,!0)}function sg(e,r){return e&&e.length?Eu(e,de(r)):n}var og=_e(gl);function gl(e,r){return e&&e.length&&r&&r.length?Zs(e,r):e}function ag(e,r,o){return e&&e.length&&r&&r.length?Zs(e,r,ae(o,2)):e}function ug(e,r,o){return e&&e.length&&r&&r.length?Zs(e,r,n,o):e}var lg=an(function(e,r){var o=e==null?0:e.length,h=Gs(e,r);return Ou(e,Le(r,function(g){return un(g,o)?+g:g}).sort(Nu)),h});function cg(e,r){var o=[];if(!(e&&e.length))return o;var h=-1,g=[],m=e.length;for(r=ae(r,3);++h<m;){var x=e[h];r(x,h,e)&&(o.push(x),g.push(h))}return Ou(e,g),o}function yo(e){return e==null?e:rd.call(e)}function hg(e,r,o){var h=e==null?0:e.length;return h?(o&&typeof o!="number"&&dt(e,r,o)?(r=0,o=h):(r=r==null?0:de(r),o=o===n?h:de(o)),Ut(e,r,o)):[]}function fg(e,r){return Si(e,r)}function dg(e,r,o){return to(e,r,ae(o,2))}function gg(e,r){var o=e==null?0:e.length;if(o){var h=Si(e,r);if(h<o&&Ht(e[h],r))return h}return-1}function _g(e,r){return Si(e,r,!0)}function pg(e,r,o){return to(e,r,ae(o,2),!0)}function vg(e,r){var o=e==null?0:e.length;if(o){var h=Si(e,r,!0)-1;if(Ht(e[h],r))return h}return-1}function mg(e){return e&&e.length?Iu(e):[]}function yg(e,r){return e&&e.length?Iu(e,ae(r,2)):[]}function wg(e){var r=e==null?0:e.length;return r?Ut(e,1,r):[]}function bg(e,r,o){return e&&e.length?(r=o||r===n?1:de(r),Ut(e,0,r<0?0:r)):[]}function xg(e,r,o){var h=e==null?0:e.length;return h?(r=o||r===n?1:de(r),r=h-r,Ut(e,r<0?0:r,h)):[]}function Tg(e,r){return e&&e.length?Oi(e,ae(r,3),!1,!0):[]}function Eg(e,r){return e&&e.length?Oi(e,ae(r,3)):[]}var Ag=_e(function(e){return xn(nt(e,1,Be,!0))}),Sg=_e(function(e){var r=Bt(e);return Be(r)&&(r=n),xn(nt(e,1,Be,!0),ae(r,2))}),Og=_e(function(e){var r=Bt(e);return r=typeof r=="function"?r:n,xn(nt(e,1,Be,!0),n,r)});function Rg(e){return e&&e.length?xn(e):[]}function Ig(e,r){return e&&e.length?xn(e,ae(r,2)):[]}function kg(e,r){return r=typeof r=="function"?r:n,e&&e.length?xn(e,n,r):[]}function wo(e){if(!(e&&e.length))return[];var r=0;return e=vn(e,function(o){if(Be(o))return r=Xe(o.length,r),!0}),$s(r,function(o){return Le(e,Ps(o))})}function _l(e,r){if(!(e&&e.length))return[];var o=wo(e);return r==null?o:Le(o,function(h){return Tt(r,n,h)})}var Cg=_e(function(e,r){return Be(e)?Nr(e,r):[]}),Mg=_e(function(e){return ro(vn(e,Be))}),Pg=_e(function(e){var r=Bt(e);return Be(r)&&(r=n),ro(vn(e,Be),ae(r,2))}),Lg=_e(function(e){var r=Bt(e);return r=typeof r=="function"?r:n,ro(vn(e,Be),n,r)}),Dg=_e(wo);function $g(e,r){return Pu(e||[],r||[],$r)}function Ng(e,r){return Pu(e||[],r||[],Fr)}var Ug=_e(function(e){var r=e.length,o=r>1?e[r-1]:n;return o=typeof o=="function"?(e.pop(),o):n,_l(e,o)});function pl(e){var r=v(e);return r.__chain__=!0,r}function Bg(e,r){return r(e),e}function $i(e,r){return r(e)}var Fg=an(function(e){var r=e.length,o=r?e[0]:0,h=this.__wrapped__,g=function(m){return Gs(m,e)};return r>1||this.__actions__.length||!(h instanceof me)||!un(o)?this.thru(g):(h=h.slice(o,+o+(r?1:0)),h.__actions__.push({func:$i,args:[g],thisArg:n}),new $t(h,this.__chain__).thru(function(m){return r&&!m.length&&m.push(n),m}))});function jg(){return pl(this)}function zg(){return new $t(this.value(),this.__chain__)}function Wg(){this.__values__===n&&(this.__values__=kl(this.value()));var e=this.__index__>=this.__values__.length,r=e?n:this.__values__[this.__index__++];return{done:e,value:r}}function Gg(){return this}function qg(e){for(var r,o=this;o instanceof bi;){var h=ll(o);h.__index__=0,h.__values__=n,r?g.__wrapped__=h:r=h;var g=h;o=o.__wrapped__}return g.__wrapped__=e,r}function Hg(){var e=this.__wrapped__;if(e instanceof me){var r=e;return this.__actions__.length&&(r=new me(this)),r=r.reverse(),r.__actions__.push({func:$i,args:[yo],thisArg:n}),new $t(r,this.__chain__)}return this.thru(yo)}function Jg(){return Mu(this.__wrapped__,this.__actions__)}var Kg=Ri(function(e,r,o){Re.call(e,o)?++e[o]:sn(e,o,1)});function Yg(e,r,o){var h=fe(e)?qa:Bd;return o&&dt(e,r,o)&&(r=n),h(e,ae(r,3))}function Vg(e,r){var o=fe(e)?vn:_u;return o(e,ae(r,3))}var Xg=Wu(cl),Zg=Wu(hl);function Qg(e,r){return nt(Ni(e,r),1)}function e_(e,r){return nt(Ni(e,r),we)}function t_(e,r,o){return o=o===n?1:de(o),nt(Ni(e,r),o)}function vl(e,r){var o=fe(e)?Lt:bn;return o(e,ae(r,3))}function ml(e,r){var o=fe(e)?wf:gu;return o(e,ae(r,3))}var n_=Ri(function(e,r,o){Re.call(e,o)?e[o].push(r):sn(e,o,[r])});function r_(e,r,o,h){e=mt(e)?e:fr(e),o=o&&!h?de(o):0;var g=e.length;return o<0&&(o=Xe(g+o,0)),zi(e)?o<=g&&e.indexOf(r,o)>-1:!!g&&er(e,r,o)>-1}var i_=_e(function(e,r,o){var h=-1,g=typeof r=="function",m=mt(e)?P(e.length):[];return bn(e,function(x){m[++h]=g?Tt(r,x,o):Ur(x,r,o)}),m}),s_=Ri(function(e,r,o){sn(e,o,r)});function Ni(e,r){var o=fe(e)?Le:bu;return o(e,ae(r,3))}function o_(e,r,o,h){return e==null?[]:(fe(r)||(r=r==null?[]:[r]),o=h?n:o,fe(o)||(o=o==null?[]:[o]),Au(e,r,o))}var a_=Ri(function(e,r,o){e[o?0:1].push(r)},function(){return[[],[]]});function u_(e,r,o){var h=fe(e)?Cs:Ya,g=arguments.length<3;return h(e,ae(r,4),o,g,bn)}function l_(e,r,o){var h=fe(e)?bf:Ya,g=arguments.length<3;return h(e,ae(r,4),o,g,gu)}function c_(e,r){var o=fe(e)?vn:_u;return o(e,Fi(ae(r,3)))}function h_(e){var r=fe(e)?cu:r0;return r(e)}function f_(e,r,o){(o?dt(e,r,o):r===n)?r=1:r=de(r);var h=fe(e)?Ld:i0;return h(e,r)}function d_(e){var r=fe(e)?Dd:o0;return r(e)}function g_(e){if(e==null)return 0;if(mt(e))return zi(e)?nr(e):e.length;var r=ot(e);return r==zt||r==Wt?e.size:Vs(e).length}function __(e,r,o){var h=fe(e)?Ms:a0;return o&&dt(e,r,o)&&(r=n),h(e,ae(r,3))}var p_=_e(function(e,r){if(e==null)return[];var o=r.length;return o>1&&dt(e,r[0],r[1])?r=[]:o>2&&dt(r[0],r[1],r[2])&&(r=[r[0]]),Au(e,nt(r,1),[])}),Ui=Vf||function(){return tt.Date.now()};function v_(e,r){if(typeof r!="function")throw new Dt(l);return e=de(e),function(){if(--e<1)return r.apply(this,arguments)}}function yl(e,r,o){return r=o?n:r,r=e&&r==null?e.length:r,on(e,se,n,n,n,n,r)}function wl(e,r){var o;if(typeof r!="function")throw new Dt(l);return e=de(e),function(){return--e>0&&(o=r.apply(this,arguments)),e<=1&&(r=n),o}}var bo=_e(function(e,r,o){var h=y;if(o.length){var g=yn(o,cr(bo));h|=W}return on(e,h,r,o,g)}),bl=_e(function(e,r,o){var h=y|b;if(o.length){var g=yn(o,cr(bl));h|=W}return on(r,h,e,o,g)});function xl(e,r,o){r=o?n:r;var h=on(e,C,n,n,n,n,n,r);return h.placeholder=xl.placeholder,h}function Tl(e,r,o){r=o?n:r;var h=on(e,L,n,n,n,n,n,r);return h.placeholder=Tl.placeholder,h}function El(e,r,o){var h,g,m,x,S,k,N=0,U=!1,F=!1,H=!0;if(typeof e!="function")throw new Dt(l);r=Ft(r)||0,De(o)&&(U=!!o.leading,F="maxWait"in o,m=F?Xe(Ft(o.maxWait)||0,r):m,H="trailing"in o?!!o.trailing:H);function Z(Fe){var Jt=h,hn=g;return h=g=n,N=Fe,x=e.apply(hn,Jt),x}function ue(Fe){return N=Fe,S=Wr(pe,r),U?Z(Fe):x}function ge(Fe){var Jt=Fe-k,hn=Fe-N,Wl=r-Jt;return F?st(Wl,m-hn):Wl}function le(Fe){var Jt=Fe-k,hn=Fe-N;return k===n||Jt>=r||Jt<0||F&&hn>=m}function pe(){var Fe=Ui();if(le(Fe))return ye(Fe);S=Wr(pe,ge(Fe))}function ye(Fe){return S=n,H&&h?Z(Fe):(h=g=n,x)}function Ot(){S!==n&&Lu(S),N=0,h=k=g=S=n}function gt(){return S===n?x:ye(Ui())}function Rt(){var Fe=Ui(),Jt=le(Fe);if(h=arguments,g=this,k=Fe,Jt){if(S===n)return ue(k);if(F)return Lu(S),S=Wr(pe,r),Z(k)}return S===n&&(S=Wr(pe,r)),x}return Rt.cancel=Ot,Rt.flush=gt,Rt}var m_=_e(function(e,r){return du(e,1,r)}),y_=_e(function(e,r,o){return du(e,Ft(r)||0,o)});function w_(e){return on(e,ne)}function Bi(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new Dt(l);var o=function(){var h=arguments,g=r?r.apply(this,h):h[0],m=o.cache;if(m.has(g))return m.get(g);var x=e.apply(this,h);return o.cache=m.set(g,x)||m,x};return o.cache=new(Bi.Cache||rn),o}Bi.Cache=rn;function Fi(e){if(typeof e!="function")throw new Dt(l);return function(){var r=arguments;switch(r.length){case 0:return!e.call(this);case 1:return!e.call(this,r[0]);case 2:return!e.call(this,r[0],r[1]);case 3:return!e.call(this,r[0],r[1],r[2])}return!e.apply(this,r)}}function b_(e){return wl(2,e)}var x_=u0(function(e,r){r=r.length==1&&fe(r[0])?Le(r[0],Et(ae())):Le(nt(r,1),Et(ae()));var o=r.length;return _e(function(h){for(var g=-1,m=st(h.length,o);++g<m;)h[g]=r[g].call(this,h[g]);return Tt(e,this,h)})}),xo=_e(function(e,r){var o=yn(r,cr(xo));return on(e,W,n,r,o)}),Al=_e(function(e,r){var o=yn(r,cr(Al));return on(e,te,n,r,o)}),T_=an(function(e,r){return on(e,z,n,n,n,r)});function E_(e,r){if(typeof e!="function")throw new Dt(l);return r=r===n?r:de(r),_e(e,r)}function A_(e,r){if(typeof e!="function")throw new Dt(l);return r=r==null?0:Xe(de(r),0),_e(function(o){var h=o[r],g=En(o,0,r);return h&&mn(g,h),Tt(e,this,g)})}function S_(e,r,o){var h=!0,g=!0;if(typeof e!="function")throw new Dt(l);return De(o)&&(h="leading"in o?!!o.leading:h,g="trailing"in o?!!o.trailing:g),El(e,r,{leading:h,maxWait:r,trailing:g})}function O_(e){return yl(e,1)}function R_(e,r){return xo(so(r),e)}function I_(){if(!arguments.length)return[];var e=arguments[0];return fe(e)?e:[e]}function k_(e){return Nt(e,E)}function C_(e,r){return r=typeof r=="function"?r:n,Nt(e,E,r)}function M_(e){return Nt(e,p|E)}function P_(e,r){return r=typeof r=="function"?r:n,Nt(e,p|E,r)}function L_(e,r){return r==null||fu(e,r,et(r))}function Ht(e,r){return e===r||e!==e&&r!==r}var D_=Mi(Js),$_=Mi(function(e,r){return e>=r}),zn=mu(function(){return arguments}())?mu:function(e){return Ne(e)&&Re.call(e,"callee")&&!iu.call(e,"callee")},fe=P.isArray,N_=Ba?Et(Ba):qd;function mt(e){return e!=null&&ji(e.length)&&!ln(e)}function Be(e){return Ne(e)&&mt(e)}function U_(e){return e===!0||e===!1||Ne(e)&&ft(e)==_n}var An=Zf||Po,B_=Fa?Et(Fa):Hd;function F_(e){return Ne(e)&&e.nodeType===1&&!Gr(e)}function j_(e){if(e==null)return!0;if(mt(e)&&(fe(e)||typeof e=="string"||typeof e.splice=="function"||An(e)||hr(e)||zn(e)))return!e.length;var r=ot(e);if(r==zt||r==Wt)return!e.size;if(zr(e))return!Vs(e).length;for(var o in e)if(Re.call(e,o))return!1;return!0}function z_(e,r){return Br(e,r)}function W_(e,r,o){o=typeof o=="function"?o:n;var h=o?o(e,r):n;return h===n?Br(e,r,n,o):!!h}function To(e){if(!Ne(e))return!1;var r=ft(e);return r==Pn||r==Qr||typeof e.message=="string"&&typeof e.name=="string"&&!Gr(e)}function G_(e){return typeof e=="number"&&ou(e)}function ln(e){if(!De(e))return!1;var r=ft(e);return r==ei||r==da||r==Zr||r==dh}function Sl(e){return typeof e=="number"&&e==de(e)}function ji(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ve}function De(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}function Ne(e){return e!=null&&typeof e=="object"}var Ol=ja?Et(ja):Kd;function q_(e,r){return e===r||Ys(e,r,fo(r))}function H_(e,r,o){return o=typeof o=="function"?o:n,Ys(e,r,fo(r),o)}function J_(e){return Rl(e)&&e!=+e}function K_(e){if(C0(e))throw new he(u);return yu(e)}function Y_(e){return e===null}function V_(e){return e==null}function Rl(e){return typeof e=="number"||Ne(e)&&ft(e)==Ar}function Gr(e){if(!Ne(e)||ft(e)!=tn)return!1;var r=gi(e);if(r===null)return!0;var o=Re.call(r,"constructor")&&r.constructor;return typeof o=="function"&&o instanceof o&&ci.call(o)==Hf}var Eo=za?Et(za):Yd;function X_(e){return Sl(e)&&e>=-ve&&e<=ve}var Il=Wa?Et(Wa):Vd;function zi(e){return typeof e=="string"||!fe(e)&&Ne(e)&&ft(e)==Or}function St(e){return typeof e=="symbol"||Ne(e)&&ft(e)==ti}var hr=Ga?Et(Ga):Xd;function Z_(e){return e===n}function Q_(e){return Ne(e)&&ot(e)==Rr}function ep(e){return Ne(e)&&ft(e)==_h}var tp=Mi(Xs),np=Mi(function(e,r){return e<=r});function kl(e){if(!e)return[];if(mt(e))return zi(e)?Gt(e):vt(e);if(Cr&&e[Cr])return Lf(e[Cr]());var r=ot(e),o=r==zt?Us:r==Wt?ai:fr;return o(e)}function cn(e){if(!e)return e===0?e:0;if(e=Ft(e),e===we||e===-we){var r=e<0?-1:1;return r*ce}return e===e?e:0}function de(e){var r=cn(e),o=r%1;return r===r?o?r-o:r:0}function Cl(e){return e?Un(de(e),0,$e):0}function Ft(e){if(typeof e=="number")return e;if(St(e))return it;if(De(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=De(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Va(e);var o=$h.test(e);return o||Uh.test(e)?vf(e.slice(2),o?2:8):Dh.test(e)?it:+e}function Ml(e){return Zt(e,yt(e))}function rp(e){return e?Un(de(e),-ve,ve):e===0?e:0}function Ee(e){return e==null?"":At(e)}var ip=ur(function(e,r){if(zr(r)||mt(r)){Zt(r,et(r),e);return}for(var o in r)Re.call(r,o)&&$r(e,o,r[o])}),Pl=ur(function(e,r){Zt(r,yt(r),e)}),Wi=ur(function(e,r,o,h){Zt(r,yt(r),e,h)}),sp=ur(function(e,r,o,h){Zt(r,et(r),e,h)}),op=an(Gs);function ap(e,r){var o=ar(e);return r==null?o:hu(o,r)}var up=_e(function(e,r){e=ke(e);var o=-1,h=r.length,g=h>2?r[2]:n;for(g&&dt(r[0],r[1],g)&&(h=1);++o<h;)for(var m=r[o],x=yt(m),S=-1,k=x.length;++S<k;){var N=x[S],U=e[N];(U===n||Ht(U,ir[N])&&!Re.call(e,N))&&(e[N]=m[N])}return e}),lp=_e(function(e){return e.push(n,Vu),Tt(Ll,n,e)});function cp(e,r){return Ha(e,ae(r,3),Xt)}function hp(e,r){return Ha(e,ae(r,3),Hs)}function fp(e,r){return e==null?e:qs(e,ae(r,3),yt)}function dp(e,r){return e==null?e:pu(e,ae(r,3),yt)}function gp(e,r){return e&&Xt(e,ae(r,3))}function _p(e,r){return e&&Hs(e,ae(r,3))}function pp(e){return e==null?[]:Ei(e,et(e))}function vp(e){return e==null?[]:Ei(e,yt(e))}function Ao(e,r,o){var h=e==null?n:Bn(e,r);return h===n?o:h}function mp(e,r){return e!=null&&Qu(e,r,jd)}function So(e,r){return e!=null&&Qu(e,r,zd)}var yp=qu(function(e,r,o){r!=null&&typeof r.toString!="function"&&(r=hi.call(r)),e[r]=o},Ro(wt)),wp=qu(function(e,r,o){r!=null&&typeof r.toString!="function"&&(r=hi.call(r)),Re.call(e,r)?e[r].push(o):e[r]=[o]},ae),bp=_e(Ur);function et(e){return mt(e)?lu(e):Vs(e)}function yt(e){return mt(e)?lu(e,!0):Zd(e)}function xp(e,r){var o={};return r=ae(r,3),Xt(e,function(h,g,m){sn(o,r(h,g,m),h)}),o}function Tp(e,r){var o={};return r=ae(r,3),Xt(e,function(h,g,m){sn(o,g,r(h,g,m))}),o}var Ep=ur(function(e,r,o){Ai(e,r,o)}),Ll=ur(function(e,r,o,h){Ai(e,r,o,h)}),Ap=an(function(e,r){var o={};if(e==null)return o;var h=!1;r=Le(r,function(m){return m=Tn(m,e),h||(h=m.length>1),m}),Zt(e,co(e),o),h&&(o=Nt(o,p|w|E,y0));for(var g=r.length;g--;)no(o,r[g]);return o});function Sp(e,r){return Dl(e,Fi(ae(r)))}var Op=an(function(e,r){return e==null?{}:e0(e,r)});function Dl(e,r){if(e==null)return{};var o=Le(co(e),function(h){return[h]});return r=ae(r),Su(e,o,function(h,g){return r(h,g[0])})}function Rp(e,r,o){r=Tn(r,e);var h=-1,g=r.length;for(g||(g=1,e=n);++h<g;){var m=e==null?n:e[Qt(r[h])];m===n&&(h=g,m=o),e=ln(m)?m.call(e):m}return e}function Ip(e,r,o){return e==null?e:Fr(e,r,o)}function kp(e,r,o,h){return h=typeof h=="function"?h:n,e==null?e:Fr(e,r,o,h)}var $l=Ku(et),Nl=Ku(yt);function Cp(e,r,o){var h=fe(e),g=h||An(e)||hr(e);if(r=ae(r,4),o==null){var m=e&&e.constructor;g?o=h?new m:[]:De(e)?o=ln(m)?ar(gi(e)):{}:o={}}return(g?Lt:Xt)(e,function(x,S,k){return r(o,x,S,k)}),o}function Mp(e,r){return e==null?!0:no(e,r)}function Pp(e,r,o){return e==null?e:Cu(e,r,so(o))}function Lp(e,r,o,h){return h=typeof h=="function"?h:n,e==null?e:Cu(e,r,so(o),h)}function fr(e){return e==null?[]:Ns(e,et(e))}function Dp(e){return e==null?[]:Ns(e,yt(e))}function $p(e,r,o){return o===n&&(o=r,r=n),o!==n&&(o=Ft(o),o=o===o?o:0),r!==n&&(r=Ft(r),r=r===r?r:0),Un(Ft(e),r,o)}function Np(e,r,o){return r=cn(r),o===n?(o=r,r=0):o=cn(o),e=Ft(e),Wd(e,r,o)}function Up(e,r,o){if(o&&typeof o!="boolean"&&dt(e,r,o)&&(r=o=n),o===n&&(typeof r=="boolean"?(o=r,r=n):typeof e=="boolean"&&(o=e,e=n)),e===n&&r===n?(e=0,r=1):(e=cn(e),r===n?(r=e,e=0):r=cn(r)),e>r){var h=e;e=r,r=h}if(o||e%1||r%1){var g=au();return st(e+g*(r-e+pf("1e-"+((g+"").length-1))),r)}return Qs(e,r)}var Bp=lr(function(e,r,o){return r=r.toLowerCase(),e+(o?Ul(r):r)});function Ul(e){return Oo(Ee(e).toLowerCase())}function Bl(e){return e=Ee(e),e&&e.replace(Fh,If).replace(of,"")}function Fp(e,r,o){e=Ee(e),r=At(r);var h=e.length;o=o===n?h:Un(de(o),0,h);var g=o;return o-=r.length,o>=0&&e.slice(o,g)==r}function jp(e){return e=Ee(e),e&&wh.test(e)?e.replace(pa,kf):e}function zp(e){return e=Ee(e),e&&Sh.test(e)?e.replace(bs,"\\$&"):e}var Wp=lr(function(e,r,o){return e+(o?"-":"")+r.toLowerCase()}),Gp=lr(function(e,r,o){return e+(o?" ":"")+r.toLowerCase()}),qp=zu("toLowerCase");function Hp(e,r,o){e=Ee(e),r=de(r);var h=r?nr(e):0;if(!r||h>=r)return e;var g=(r-h)/2;return Ci(mi(g),o)+e+Ci(vi(g),o)}function Jp(e,r,o){e=Ee(e),r=de(r);var h=r?nr(e):0;return r&&h<r?e+Ci(r-h,o):e}function Kp(e,r,o){e=Ee(e),r=de(r);var h=r?nr(e):0;return r&&h<r?Ci(r-h,o)+e:e}function Yp(e,r,o){return o||r==null?r=0:r&&(r=+r),nd(Ee(e).replace(xs,""),r||0)}function Vp(e,r,o){return(o?dt(e,r,o):r===n)?r=1:r=de(r),eo(Ee(e),r)}function Xp(){var e=arguments,r=Ee(e[0]);return e.length<3?r:r.replace(e[1],e[2])}var Zp=lr(function(e,r,o){return e+(o?"_":"")+r.toLowerCase()});function Qp(e,r,o){return o&&typeof o!="number"&&dt(e,r,o)&&(r=o=n),o=o===n?$e:o>>>0,o?(e=Ee(e),e&&(typeof r=="string"||r!=null&&!Eo(r))&&(r=At(r),!r&&tr(e))?En(Gt(e),0,o):e.split(r,o)):[]}var ev=lr(function(e,r,o){return e+(o?" ":"")+Oo(r)});function tv(e,r,o){return e=Ee(e),o=o==null?0:Un(de(o),0,e.length),r=At(r),e.slice(o,o+r.length)==r}function nv(e,r,o){var h=v.templateSettings;o&&dt(e,r,o)&&(r=n),e=Ee(e),r=Wi({},r,h,Yu);var g=Wi({},r.imports,h.imports,Yu),m=et(g),x=Ns(g,m),S,k,N=0,U=r.interpolate||ni,F="__p += '",H=Bs((r.escape||ni).source+"|"+U.source+"|"+(U===va?Lh:ni).source+"|"+(r.evaluate||ni).source+"|$","g"),Z="//# sourceURL="+(Re.call(r,"sourceURL")?(r.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++hf+"]")+`
`;e.replace(H,function(le,pe,ye,Ot,gt,Rt){return ye||(ye=Ot),F+=e.slice(N,Rt).replace(jh,Cf),pe&&(S=!0,F+=`' +
__e(`+pe+`) +
'`),gt&&(k=!0,F+=`';
`+gt+`;
__p += '`),ye&&(F+=`' +
((__t = (`+ye+`)) == null ? '' : __t) +
'`),N=Rt+le.length,le}),F+=`';
`;var ue=Re.call(r,"variable")&&r.variable;if(!ue)F=`with (obj) {
`+F+`
}
`;else if(Mh.test(ue))throw new he(c);F=(k?F.replace(ph,""):F).replace(vh,"$1").replace(mh,"$1;"),F="function("+(ue||"obj")+`) {
`+(ue?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(S?", __e = _.escape":"")+(k?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+F+`return __p
}`;var ge=jl(function(){return Te(m,Z+"return "+F).apply(n,x)});if(ge.source=F,To(ge))throw ge;return ge}function rv(e){return Ee(e).toLowerCase()}function iv(e){return Ee(e).toUpperCase()}function sv(e,r,o){if(e=Ee(e),e&&(o||r===n))return Va(e);if(!e||!(r=At(r)))return e;var h=Gt(e),g=Gt(r),m=Xa(h,g),x=Za(h,g)+1;return En(h,m,x).join("")}function ov(e,r,o){if(e=Ee(e),e&&(o||r===n))return e.slice(0,eu(e)+1);if(!e||!(r=At(r)))return e;var h=Gt(e),g=Za(h,Gt(r))+1;return En(h,0,g).join("")}function av(e,r,o){if(e=Ee(e),e&&(o||r===n))return e.replace(xs,"");if(!e||!(r=At(r)))return e;var h=Gt(e),g=Xa(h,Gt(r));return En(h,g).join("")}function uv(e,r){var o=X,h=j;if(De(r)){var g="separator"in r?r.separator:g;o="length"in r?de(r.length):o,h="omission"in r?At(r.omission):h}e=Ee(e);var m=e.length;if(tr(e)){var x=Gt(e);m=x.length}if(o>=m)return e;var S=o-nr(h);if(S<1)return h;var k=x?En(x,0,S).join(""):e.slice(0,S);if(g===n)return k+h;if(x&&(S+=k.length-S),Eo(g)){if(e.slice(S).search(g)){var N,U=k;for(g.global||(g=Bs(g.source,Ee(ma.exec(g))+"g")),g.lastIndex=0;N=g.exec(U);)var F=N.index;k=k.slice(0,F===n?S:F)}}else if(e.indexOf(At(g),S)!=S){var H=k.lastIndexOf(g);H>-1&&(k=k.slice(0,H))}return k+h}function lv(e){return e=Ee(e),e&&yh.test(e)?e.replace(_a,Uf):e}var cv=lr(function(e,r,o){return e+(o?" ":"")+r.toUpperCase()}),Oo=zu("toUpperCase");function Fl(e,r,o){return e=Ee(e),r=o?n:r,r===n?Pf(e)?jf(e):Ef(e):e.match(r)||[]}var jl=_e(function(e,r){try{return Tt(e,n,r)}catch(o){return To(o)?o:new he(o)}}),hv=an(function(e,r){return Lt(r,function(o){o=Qt(o),sn(e,o,bo(e[o],e))}),e});function fv(e){var r=e==null?0:e.length,o=ae();return e=r?Le(e,function(h){if(typeof h[1]!="function")throw new Dt(l);return[o(h[0]),h[1]]}):[],_e(function(h){for(var g=-1;++g<r;){var m=e[g];if(Tt(m[0],this,h))return Tt(m[1],this,h)}})}function dv(e){return Ud(Nt(e,p))}function Ro(e){return function(){return e}}function gv(e,r){return e==null||e!==e?r:e}var _v=Gu(),pv=Gu(!0);function wt(e){return e}function Io(e){return wu(typeof e=="function"?e:Nt(e,p))}function vv(e){return xu(Nt(e,p))}function mv(e,r){return Tu(e,Nt(r,p))}var yv=_e(function(e,r){return function(o){return Ur(o,e,r)}}),wv=_e(function(e,r){return function(o){return Ur(e,o,r)}});function ko(e,r,o){var h=et(r),g=Ei(r,h);o==null&&!(De(r)&&(g.length||!h.length))&&(o=r,r=e,e=this,g=Ei(r,et(r)));var m=!(De(o)&&"chain"in o)||!!o.chain,x=ln(e);return Lt(g,function(S){var k=r[S];e[S]=k,x&&(e.prototype[S]=function(){var N=this.__chain__;if(m||N){var U=e(this.__wrapped__),F=U.__actions__=vt(this.__actions__);return F.push({func:k,args:arguments,thisArg:e}),U.__chain__=N,U}return k.apply(e,mn([this.value()],arguments))})}),e}function bv(){return tt._===this&&(tt._=Jf),this}function Co(){}function xv(e){return e=de(e),_e(function(r){return Eu(r,e)})}var Tv=ao(Le),Ev=ao(qa),Av=ao(Ms);function zl(e){return _o(e)?Ps(Qt(e)):t0(e)}function Sv(e){return function(r){return e==null?n:Bn(e,r)}}var Ov=Hu(),Rv=Hu(!0);function Mo(){return[]}function Po(){return!1}function Iv(){return{}}function kv(){return""}function Cv(){return!0}function Mv(e,r){if(e=de(e),e<1||e>ve)return[];var o=$e,h=st(e,$e);r=ae(r),e-=$e;for(var g=$s(h,r);++o<e;)r(o);return g}function Pv(e){return fe(e)?Le(e,Qt):St(e)?[e]:vt(ul(Ee(e)))}function Lv(e){var r=++qf;return Ee(e)+r}var Dv=ki(function(e,r){return e+r},0),$v=uo("ceil"),Nv=ki(function(e,r){return e/r},1),Uv=uo("floor");function Bv(e){return e&&e.length?Ti(e,wt,Js):n}function Fv(e,r){return e&&e.length?Ti(e,ae(r,2),Js):n}function jv(e){return Ka(e,wt)}function zv(e,r){return Ka(e,ae(r,2))}function Wv(e){return e&&e.length?Ti(e,wt,Xs):n}function Gv(e,r){return e&&e.length?Ti(e,ae(r,2),Xs):n}var qv=ki(function(e,r){return e*r},1),Hv=uo("round"),Jv=ki(function(e,r){return e-r},0);function Kv(e){return e&&e.length?Ds(e,wt):0}function Yv(e,r){return e&&e.length?Ds(e,ae(r,2)):0}return v.after=v_,v.ary=yl,v.assign=ip,v.assignIn=Pl,v.assignInWith=Wi,v.assignWith=sp,v.at=op,v.before=wl,v.bind=bo,v.bindAll=hv,v.bindKey=bl,v.castArray=I_,v.chain=pl,v.chunk=U0,v.compact=B0,v.concat=F0,v.cond=fv,v.conforms=dv,v.constant=Ro,v.countBy=Kg,v.create=ap,v.curry=xl,v.curryRight=Tl,v.debounce=El,v.defaults=up,v.defaultsDeep=lp,v.defer=m_,v.delay=y_,v.difference=j0,v.differenceBy=z0,v.differenceWith=W0,v.drop=G0,v.dropRight=q0,v.dropRightWhile=H0,v.dropWhile=J0,v.fill=K0,v.filter=Vg,v.flatMap=Qg,v.flatMapDeep=e_,v.flatMapDepth=t_,v.flatten=fl,v.flattenDeep=Y0,v.flattenDepth=V0,v.flip=w_,v.flow=_v,v.flowRight=pv,v.fromPairs=X0,v.functions=pp,v.functionsIn=vp,v.groupBy=n_,v.initial=Q0,v.intersection=eg,v.intersectionBy=tg,v.intersectionWith=ng,v.invert=yp,v.invertBy=wp,v.invokeMap=i_,v.iteratee=Io,v.keyBy=s_,v.keys=et,v.keysIn=yt,v.map=Ni,v.mapKeys=xp,v.mapValues=Tp,v.matches=vv,v.matchesProperty=mv,v.memoize=Bi,v.merge=Ep,v.mergeWith=Ll,v.method=yv,v.methodOf=wv,v.mixin=ko,v.negate=Fi,v.nthArg=xv,v.omit=Ap,v.omitBy=Sp,v.once=b_,v.orderBy=o_,v.over=Tv,v.overArgs=x_,v.overEvery=Ev,v.overSome=Av,v.partial=xo,v.partialRight=Al,v.partition=a_,v.pick=Op,v.pickBy=Dl,v.property=zl,v.propertyOf=Sv,v.pull=og,v.pullAll=gl,v.pullAllBy=ag,v.pullAllWith=ug,v.pullAt=lg,v.range=Ov,v.rangeRight=Rv,v.rearg=T_,v.reject=c_,v.remove=cg,v.rest=E_,v.reverse=yo,v.sampleSize=f_,v.set=Ip,v.setWith=kp,v.shuffle=d_,v.slice=hg,v.sortBy=p_,v.sortedUniq=mg,v.sortedUniqBy=yg,v.split=Qp,v.spread=A_,v.tail=wg,v.take=bg,v.takeRight=xg,v.takeRightWhile=Tg,v.takeWhile=Eg,v.tap=Bg,v.throttle=S_,v.thru=$i,v.toArray=kl,v.toPairs=$l,v.toPairsIn=Nl,v.toPath=Pv,v.toPlainObject=Ml,v.transform=Cp,v.unary=O_,v.union=Ag,v.unionBy=Sg,v.unionWith=Og,v.uniq=Rg,v.uniqBy=Ig,v.uniqWith=kg,v.unset=Mp,v.unzip=wo,v.unzipWith=_l,v.update=Pp,v.updateWith=Lp,v.values=fr,v.valuesIn=Dp,v.without=Cg,v.words=Fl,v.wrap=R_,v.xor=Mg,v.xorBy=Pg,v.xorWith=Lg,v.zip=Dg,v.zipObject=$g,v.zipObjectDeep=Ng,v.zipWith=Ug,v.entries=$l,v.entriesIn=Nl,v.extend=Pl,v.extendWith=Wi,ko(v,v),v.add=Dv,v.attempt=jl,v.camelCase=Bp,v.capitalize=Ul,v.ceil=$v,v.clamp=$p,v.clone=k_,v.cloneDeep=M_,v.cloneDeepWith=P_,v.cloneWith=C_,v.conformsTo=L_,v.deburr=Bl,v.defaultTo=gv,v.divide=Nv,v.endsWith=Fp,v.eq=Ht,v.escape=jp,v.escapeRegExp=zp,v.every=Yg,v.find=Xg,v.findIndex=cl,v.findKey=cp,v.findLast=Zg,v.findLastIndex=hl,v.findLastKey=hp,v.floor=Uv,v.forEach=vl,v.forEachRight=ml,v.forIn=fp,v.forInRight=dp,v.forOwn=gp,v.forOwnRight=_p,v.get=Ao,v.gt=D_,v.gte=$_,v.has=mp,v.hasIn=So,v.head=dl,v.identity=wt,v.includes=r_,v.indexOf=Z0,v.inRange=Np,v.invoke=bp,v.isArguments=zn,v.isArray=fe,v.isArrayBuffer=N_,v.isArrayLike=mt,v.isArrayLikeObject=Be,v.isBoolean=U_,v.isBuffer=An,v.isDate=B_,v.isElement=F_,v.isEmpty=j_,v.isEqual=z_,v.isEqualWith=W_,v.isError=To,v.isFinite=G_,v.isFunction=ln,v.isInteger=Sl,v.isLength=ji,v.isMap=Ol,v.isMatch=q_,v.isMatchWith=H_,v.isNaN=J_,v.isNative=K_,v.isNil=V_,v.isNull=Y_,v.isNumber=Rl,v.isObject=De,v.isObjectLike=Ne,v.isPlainObject=Gr,v.isRegExp=Eo,v.isSafeInteger=X_,v.isSet=Il,v.isString=zi,v.isSymbol=St,v.isTypedArray=hr,v.isUndefined=Z_,v.isWeakMap=Q_,v.isWeakSet=ep,v.join=rg,v.kebabCase=Wp,v.last=Bt,v.lastIndexOf=ig,v.lowerCase=Gp,v.lowerFirst=qp,v.lt=tp,v.lte=np,v.max=Bv,v.maxBy=Fv,v.mean=jv,v.meanBy=zv,v.min=Wv,v.minBy=Gv,v.stubArray=Mo,v.stubFalse=Po,v.stubObject=Iv,v.stubString=kv,v.stubTrue=Cv,v.multiply=qv,v.nth=sg,v.noConflict=bv,v.noop=Co,v.now=Ui,v.pad=Hp,v.padEnd=Jp,v.padStart=Kp,v.parseInt=Yp,v.random=Up,v.reduce=u_,v.reduceRight=l_,v.repeat=Vp,v.replace=Xp,v.result=Rp,v.round=Hv,v.runInContext=I,v.sample=h_,v.size=g_,v.snakeCase=Zp,v.some=__,v.sortedIndex=fg,v.sortedIndexBy=dg,v.sortedIndexOf=gg,v.sortedLastIndex=_g,v.sortedLastIndexBy=pg,v.sortedLastIndexOf=vg,v.startCase=ev,v.startsWith=tv,v.subtract=Jv,v.sum=Kv,v.sumBy=Yv,v.template=nv,v.times=Mv,v.toFinite=cn,v.toInteger=de,v.toLength=Cl,v.toLower=rv,v.toNumber=Ft,v.toSafeInteger=rp,v.toString=Ee,v.toUpper=iv,v.trim=sv,v.trimEnd=ov,v.trimStart=av,v.truncate=uv,v.unescape=lv,v.uniqueId=Lv,v.upperCase=cv,v.upperFirst=Oo,v.each=vl,v.eachRight=ml,v.first=dl,ko(v,function(){var e={};return Xt(v,function(r,o){Re.call(v.prototype,o)||(e[o]=r)}),e}(),{chain:!1}),v.VERSION=s,Lt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){v[e].placeholder=v}),Lt(["drop","take"],function(e,r){me.prototype[e]=function(o){o=o===n?1:Xe(de(o),0);var h=this.__filtered__&&!r?new me(this):this.clone();return h.__filtered__?h.__takeCount__=st(o,h.__takeCount__):h.__views__.push({size:st(o,$e),type:e+(h.__dir__<0?"Right":"")}),h},me.prototype[e+"Right"]=function(o){return this.reverse()[e](o).reverse()}}),Lt(["filter","map","takeWhile"],function(e,r){var o=r+1,h=o==R||o==Q;me.prototype[e]=function(g){var m=this.clone();return m.__iteratees__.push({iteratee:ae(g,3),type:o}),m.__filtered__=m.__filtered__||h,m}}),Lt(["head","last"],function(e,r){var o="take"+(r?"Right":"");me.prototype[e]=function(){return this[o](1).value()[0]}}),Lt(["initial","tail"],function(e,r){var o="drop"+(r?"":"Right");me.prototype[e]=function(){return this.__filtered__?new me(this):this[o](1)}}),me.prototype.compact=function(){return this.filter(wt)},me.prototype.find=function(e){return this.filter(e).head()},me.prototype.findLast=function(e){return this.reverse().find(e)},me.prototype.invokeMap=_e(function(e,r){return typeof e=="function"?new me(this):this.map(function(o){return Ur(o,e,r)})}),me.prototype.reject=function(e){return this.filter(Fi(ae(e)))},me.prototype.slice=function(e,r){e=de(e);var o=this;return o.__filtered__&&(e>0||r<0)?new me(o):(e<0?o=o.takeRight(-e):e&&(o=o.drop(e)),r!==n&&(r=de(r),o=r<0?o.dropRight(-r):o.take(r-e)),o)},me.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},me.prototype.toArray=function(){return this.take($e)},Xt(me.prototype,function(e,r){var o=/^(?:filter|find|map|reject)|While$/.test(r),h=/^(?:head|last)$/.test(r),g=v[h?"take"+(r=="last"?"Right":""):r],m=h||/^find/.test(r);!g||(v.prototype[r]=function(){var x=this.__wrapped__,S=h?[1]:arguments,k=x instanceof me,N=S[0],U=k||fe(x),F=function(pe){var ye=g.apply(v,mn([pe],S));return h&&H?ye[0]:ye};U&&o&&typeof N=="function"&&N.length!=1&&(k=U=!1);var H=this.__chain__,Z=!!this.__actions__.length,ue=m&&!H,ge=k&&!Z;if(!m&&U){x=ge?x:new me(this);var le=e.apply(x,S);return le.__actions__.push({func:$i,args:[F],thisArg:n}),new $t(le,H)}return ue&&ge?e.apply(this,S):(le=this.thru(F),ue?h?le.value()[0]:le.value():le)})}),Lt(["pop","push","shift","sort","splice","unshift"],function(e){var r=ui[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",h=/^(?:pop|shift)$/.test(e);v.prototype[e]=function(){var g=arguments;if(h&&!this.__chain__){var m=this.value();return r.apply(fe(m)?m:[],g)}return this[o](function(x){return r.apply(fe(x)?x:[],g)})}}),Xt(me.prototype,function(e,r){var o=v[r];if(o){var h=o.name+"";Re.call(or,h)||(or[h]=[]),or[h].push({name:r,func:o})}}),or[Ii(n,b).name]=[{name:"wrapper",func:n}],me.prototype.clone=ld,me.prototype.reverse=cd,me.prototype.value=hd,v.prototype.at=Fg,v.prototype.chain=jg,v.prototype.commit=zg,v.prototype.next=Wg,v.prototype.plant=qg,v.prototype.reverse=Hg,v.prototype.toJSON=v.prototype.valueOf=v.prototype.value=Jg,v.prototype.first=v.prototype.head,Cr&&(v.prototype[Cr]=Gg),v},rr=zf();Ln?((Ln.exports=rr)._=rr,Rs._=rr):tt._=rr}).call(pr)})(Zo,Zo.exports);const Xi=Zo.exports;function wc(i,t,n){const s=i.slice();s[6]=t[n];const a=s[6]===s[2];return s[7]=a,s}function bc(i){let t,n=i[6]+"",s,a,u,l;return{c(){t=J("button"),s=je(n),this.h()},l(c){t=K(c,"BUTTON",{id:!0,class:!0});var d=ee(t);s=ze(d,n),d.forEach(D),this.h()},h(){M(t,"id",a=i[6]),M(t,"class","svelte-1c3s4jy"),kt(t,"selected",i[7])},m(c,d){ie(c,t,d),q(t,s),u||(l=gn(t,"click",i[3]),u=!0)},p(c,d){d&1&&n!==(n=c[6]+"")&&Xr(s,n),d&1&&a!==(a=c[6])&&M(t,"id",a),d&5&&kt(t,"selected",c[7])},d(c){c&&D(t),u=!1,l()}}}function xc(i){let t,n,s,a,u=i[1]&&Tc();return{c(){t=J("p"),n=je("Here's how everyone is doing..."),s=Ae(),u&&u.c(),a=xt()},l(l){t=K(l,"P",{});var c=ee(t);n=ze(c,"Here's how everyone is doing..."),c.forEach(D),s=Se(l),u&&u.l(l),a=xt()},m(l,c){ie(l,t,c),q(t,n),ie(l,s,c),u&&u.m(l,c),ie(l,a,c)},p(l,c){l[1]?u||(u=Tc(),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null)},d(l){l&&D(t),l&&D(s),u&&u.d(l),l&&D(a)}}}function Tc(i){return{c:Oe,l:Oe,m:Oe,d:Oe}}function Lw(i){let t,n,s,a,u,l=i[0],c=[];for(let f=0;f<l.length;f+=1)c[f]=bc(wc(i,l,f));let d=i[2]&&xc(i);return{c(){t=J("p"),n=je("Hi, how are you doing?"),s=Ae();for(let f=0;f<c.length;f+=1)c[f].c();a=Ae(),d&&d.c(),u=xt()},l(f){t=K(f,"P",{});var _=ee(t);n=ze(_,"Hi, how are you doing?"),_.forEach(D),s=Se(f);for(let p=0;p<c.length;p+=1)c[p].l(f);a=Se(f),d&&d.l(f),u=xt()},m(f,_){ie(f,t,_),q(t,n),ie(f,s,_);for(let p=0;p<c.length;p+=1)c[p].m(f,_);ie(f,a,_),d&&d.m(f,_),ie(f,u,_)},p(f,[_]){if(_&13){l=f[0];let p;for(p=0;p<l.length;p+=1){const w=wc(f,l,p);c[p]?c[p].p(w,_):(c[p]=bc(w),c[p].c(),c[p].m(a.parentNode,a))}for(;p<c.length;p+=1)c[p].d(1);c.length=l.length}f[2]?d?d.p(f,_):(d=xc(f),d.c(),d.m(u.parentNode,u)):d&&(d.d(1),d=null)},i:Oe,o:Oe,d(f){f&&D(t),f&&D(s),Vn(c,f),f&&D(a),d&&d.d(f),f&&D(u)}}}function Dw(i,t,n){let s,a;rt(i,Zi,f=>n(4,s=f)),rt(i,Kr,f=>n(2,a=f));let{options:u}=t,l;const c=async()=>{const f=await Pw();let _=Xi.groupBy(f.filter(w=>w.deeper_words&&w.colors).reduce((w,E)=>{const A=E.deeper_words.split("|"),T=E.colors.split("|"),y=A.map((b,O)=>({name:b,color:T[O],basicWord:E.basic_word,frequency:1}));return w.length?[...w,...y]:y}),"basicWord"),p=[];Xi.forEach(_,(w,E)=>{const A=Xi.uniqBy(w,T=>T.name);p.push({name:E,children:A})}),n(1,l=p)},d=async f=>{const _=f.target.id;Xn(Kr,a=_,a);const w=await Mw({table:"emotions",data:[{basic_word:_}]});Xn(Zi,s=w[0].id,s)};return i.$$set=f=>{"options"in f&&n(0,u=f.options)},i.$$.update=()=>{i.$$.dirty&4&&a&&c(),i.$$.dirty&2&&console.log({data:l})},[u,l,a,d]}class $w extends lt{constructor(t){super(),ct(this,t,Dw,Lw,ht,{options:0})}}const uh=[{color:"#fc5132",words:[["Genius"],["Challenged","Passionate","Creative","Focused","Confident","Interested","In Awe","Inspired"],["Motivated","Empowered","Manic","In Flow","Brave","Curious","Proud","Moved"]]},{color:"#ffb316",words:[["Joy"],["Acceptance","Silly","Care","Safe","Intimate","Calm","Present","Connected"],["Kindness","Free","Love","Belonging","Tender","Grateful","Grounded","Seen"]]},{color:"#51a03a",words:[["Disgust"],["Disapproval","Tainted","Avoidance","Awful","Uncomfortable","Guilty","Embarrassed","Not Good Enough"],["Not 'Normal'","Jealous","Aversion","Nauseous","Self-conscious","Judgemental","Humiliated","Ashamed"]]},{color:"#893248",words:[["Fear"],["Insignificant","Busy","Threatened","Surprised","Uncontrollable","Worried","Insecure","Fragile"],["Imposter Syndrome","Overwhelmed","Terrified","Taken Advantage Of","Addicted","Anxious","Unsafe","Vulnerable"]]},{color:"#4862ad",words:[["Sad"],["Lost","Lonely","Unmotivated","Bored","Tired","Loss","Disappointed","Left Out"],["Purposeless","Isolated","Burnt Out","Numb","Exhausted","Heartbroken","Depressed","Hurt"]]},{color:"#aa0015",words:[["Anger"],["Tense","Aggressive","Mad","Frustrated","Armored Up","Resentful","Skeptical","Protective"],["Hateful","Violent","Furious","Irritated","Defensive","Envious","Suspiscious","Loyal"]]}];uh.map(i=>i.words.slice(1).flat()).flat().map(i=>i.toLowerCase());function Ec(i,t,n){const s=i.slice();s[5]=t[n];const a=s[0].includes(s[5]);return s[6]=a,s}function Ac(i){let t,n=i[5]+"",s,a,u;return{c(){t=J("p"),s=je(n),this.h()},l(l){t=K(l,"P",{id:!0,class:!0});var c=ee(t);s=ze(c,n),c.forEach(D),this.h()},h(){M(t,"id",i[5]),M(t,"class","svelte-ckvh5f"),kt(t,"selected",i[6])},m(l,c){ie(l,t,c),q(t,s),a||(u=gn(t,"click",i[3]),a=!0)},p(l,c){c&5&&kt(t,"selected",l[6])},d(l){l&&D(t),a=!1,u()}}}function Sc(i){let t,n;return{c(){t=J("p"),n=je("Here's how everyone is doing...")},l(s){t=K(s,"P",{});var a=ee(t);n=ze(a,"Here's how everyone is doing..."),a.forEach(D)},m(s,a){ie(s,t,a),q(t,n)},d(s){s&&D(t)}}}function Nw(i){let t,n,s,a,u,l,c,d,f,_,p,w,E=i[2],A=[];for(let y=0;y<E.length;y+=1)A[y]=Ac(Ec(i,E,y));let T=i[0].length&&Sc();return{c(){t=J("p"),n=je("Here, you try..."),s=Ae(),a=J("p"),u=je("What do you mean by "),l=J("strong"),c=je(i[1]),d=je("?"),f=Ae(),_=J("div");for(let y=0;y<A.length;y+=1)A[y].c();p=Ae(),T&&T.c(),w=xt(),this.h()},l(y){t=K(y,"P",{});var b=ee(t);n=ze(b,"Here, you try..."),b.forEach(D),s=Se(y),a=K(y,"P",{});var O=ee(a);u=ze(O,"What do you mean by "),l=K(O,"STRONG",{});var C=ee(l);c=ze(C,i[1]),C.forEach(D),d=ze(O,"?"),O.forEach(D),f=Se(y),_=K(y,"DIV",{class:!0});var L=ee(_);for(let W=0;W<A.length;W+=1)A[W].l(L);L.forEach(D),p=Se(y),T&&T.l(y),w=xt(),this.h()},h(){M(_,"class","emotions svelte-ckvh5f")},m(y,b){ie(y,t,b),q(t,n),ie(y,s,b),ie(y,a,b),q(a,u),q(a,l),q(l,c),q(a,d),ie(y,f,b),ie(y,_,b);for(let O=0;O<A.length;O+=1)A[O].m(_,null);ie(y,p,b),T&&T.m(y,b),ie(y,w,b)},p(y,[b]){if(b&2&&Xr(c,y[1]),b&13){E=y[2];let O;for(O=0;O<E.length;O+=1){const C=Ec(y,E,O);A[O]?A[O].p(C,b):(A[O]=Ac(C),A[O].c(),A[O].m(_,null))}for(;O<A.length;O+=1)A[O].d(1);A.length=E.length}y[0].length?T||(T=Sc(),T.c(),T.m(w.parentNode,w)):T&&(T.d(1),T=null)},i:Oe,o:Oe,d(y){y&&D(t),y&&D(s),y&&D(a),y&&D(f),y&&D(_),Vn(A,y),y&&D(p),T&&T.d(y),y&&D(w)}}}function Uw(i,t,n){let s,a,u;rt(i,Zi,d=>n(4,s=d)),rt(i,br,d=>n(0,a=d)),rt(i,Kr,d=>n(1,u=d));const l=uh.map(d=>Xi.sampleSize(d.words.slice(1).flat(),2)).flat().map(d=>d.toLowerCase());return[a,u,l,async d=>{let f=d.target.id;a.includes(f)?Xn(br,a=a.filter(_=>_!==f),a):Xn(br,a=[...a,f],a),await ah({table:"emotions",column:"deeper_words",value:a.join("|"),id:s})}]}class Bw extends lt{constructor(t){super(),ct(this,t,Uw,Nw,ht,{})}}function Bo(i){return .0031308>=i?12.92*i:1.055*Math.pow(i,.4166666666666667)-.055}function Fo(i){return .04045<i?Math.pow((i+.055)/1.055,2.4):i/12.92}function Fw(i,t,n){const s=.4122214708*i+.5363325363*t+.0514459929*n,a=.2119034982*i+.6806995451*t+.1073969566*n,u=.0883024619*i+.2817188376*t+.6299787005*n,l=Math.cbrt(s),c=Math.cbrt(a),d=Math.cbrt(u);return[.2104542553*l+.793617785*c-.0040720468*d,1.9779984951*l-2.428592205*c+.4505937099*d,.0259040371*l+.7827717662*c-.808675766*d]}function rs(i,t,n){const s=i+.3963377774*t+.2158037573*n,a=i-.1055613458*t-.0638541728*n,u=i-.0894841775*t-1.291485548*n,l=s*s*s,c=a*a*a,d=u*u*u;return[4.0767416621*l-3.3077115913*c+.2309699292*d,-1.2684380046*l+2.6097574011*c-.3413193965*d,-.0041960863*l-.7034186147*c+1.707614701*d]}function Oc(i){const s=1.170873786407767;return .5*(s*i-.206+Math.sqrt((s*i-.206)*(s*i-.206)+4*.03*s*i))}function Qo(i){const s=1.170873786407767;return(i*i+.206*i)/(s*(i+.03))}function jw(i,t){let n,s,a,u,l,c,d,f;-1.88170328*i-.80936493*t>1?(n=1.19086277,s=1.76576728,a=.59662641,u=.75515197,l=.56771245,c=4.0767416621,d=-3.3077115913,f=.2309699292):1.81444104*i-1.19445276*t>1?(n=.73956515,s=-.45954404,a=.08285427,u=.1254107,l=.14503204,c=-1.2684380046,d=2.6097574011,f=-.3413193965):(n=1.35733652,s=-.00915799,a=-1.1513021,u=-.50559606,l=.00692167,c=-.0041960863,d=-.7034186147,f=1.707614701);let _=n+s*i+a*t+u*i*i+l*i*t;const p=.3963377774*i+.2158037573*t,w=-.1055613458*i-.0638541728*t,E=-.0894841775*i-1.291485548*t;{const A=1+_*p,T=1+_*w,y=1+_*E,b=A*A*A,O=T*T*T,C=y*y*y,L=3*p*A*A,W=3*w*T*T,te=3*E*y*y,se=6*p*p*A,z=6*w*w*T,ne=6*E*E*y,X=c*b+d*O+f*C,j=c*L+d*W+f*te,re=c*se+d*z+f*ne;_=_-X*j/(j*j-.5*X*re)}return _}function zw(i,t){const n=jw(i,t),s=rs(1,n*i,n*t),a=Math.cbrt(1/Math.max(Math.max(s[0],s[1]),s[2])),u=a*n;return[a,u]}function lh(i,t,n=null){n||(n=zw(i,t));const s=n[0],a=n[1];return[a/s,a/(1-s)]}function ch(i,t,n){const s=Math.cos(2*Math.PI*i),a=Math.sin(2*Math.PI*i),u=lh(s,a),l=u[0],c=.5,d=u[1],f=1-c/l,_=1-t*c/(c+d-d*f*t),p=t*d*c/(c+d-d*f*t);let w=n*_,E=n*p;const A=Qo(_),T=p*A/_,y=Qo(w);E=E*y/w,w=y;const b=rs(A,s*T,a*T),O=Math.cbrt(1/Math.max(b[0],b[1],b[2],0));w=w*O,E=E*O;const C=rs(w,E*s,E*a);return[255*Bo(C[0]),255*Bo(C[1]),255*Bo(C[2])]}function hh(i,t,n){const s=Fw(Fo(i/255),Fo(t/255),Fo(n/255));let a=Math.sqrt(s[1]*s[1]+s[2]*s[2]);const u=s[1]/a,l=s[2]/a;let c=s[0];const d=.5+.5*Math.atan2(-s[2],-s[1])/Math.PI,f=lh(u,l),_=f[0],p=.5,w=f[1],E=1-p/_,A=w/(a+c*w),T=A*c,y=A*a,b=Qo(T),O=y*b/T,C=rs(b,u*O,l*O),L=Math.cbrt(1/Math.max(C[0],C[1],C[2],0));c=c/L,a=a/L,a=a*Oc(c)/c,c=Oc(c);const W=c/T,te=(p+w)*y/(w*p+w*E*y);return[d,te,W]}const be=256,dn=31,In=10,ea=30,Yi=1e-4;class G{constructor(){this.hex="#000000",this.rgb_r=0,this.rgb_g=0,this.rgb_b=0,this.xyz_x=0,this.xyz_y=0,this.xyz_z=0,this.luv_l=0,this.luv_u=0,this.luv_v=0,this.lch_l=0,this.lch_c=0,this.lch_h=0,this.hsluv_h=0,this.hsluv_s=0,this.hsluv_l=0,this.hpluv_h=0,this.hpluv_p=0,this.hpluv_l=0,this.r0s=0,this.r0i=0,this.r1s=0,this.r1i=0,this.g0s=0,this.g0i=0,this.g1s=0,this.g1i=0,this.b0s=0,this.b0i=0,this.b1s=0,this.b1i=0}static fromLinear(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055}static toLinear(t){return t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92}static yToL(t){return t<=G.epsilon?t/G.refY*G.kappa:116*Math.pow(t/G.refY,1/3)-16}static lToY(t){return t<=8?G.refY*t/G.kappa:G.refY*Math.pow((t+16)/116,3)}static rgbChannelToHex(t){const n=Math.round(t*255),s=n%16,a=(n-s)/16|0;return G.hexChars.charAt(a)+G.hexChars.charAt(s)}static hexToRgbChannel(t,n){const s=G.hexChars.indexOf(t.charAt(n)),a=G.hexChars.indexOf(t.charAt(n+1));return(s*16+a)/255}static distanceFromOriginAngle(t,n,s){const a=n/(Math.sin(s)-t*Math.cos(s));return a<0?1/0:a}static distanceFromOrigin(t,n){return Math.abs(n)/Math.sqrt(Math.pow(t,2)+1)}static min6(t,n,s,a,u,l){return Math.min(t,Math.min(n,Math.min(s,Math.min(a,Math.min(u,l)))))}rgbToHex(){this.hex="#",this.hex+=G.rgbChannelToHex(this.rgb_r),this.hex+=G.rgbChannelToHex(this.rgb_g),this.hex+=G.rgbChannelToHex(this.rgb_b)}hexToRgb(){this.hex=this.hex.toLowerCase(),this.rgb_r=G.hexToRgbChannel(this.hex,1),this.rgb_g=G.hexToRgbChannel(this.hex,3),this.rgb_b=G.hexToRgbChannel(this.hex,5)}xyzToRgb(){this.rgb_r=G.fromLinear(G.m_r0*this.xyz_x+G.m_r1*this.xyz_y+G.m_r2*this.xyz_z),this.rgb_g=G.fromLinear(G.m_g0*this.xyz_x+G.m_g1*this.xyz_y+G.m_g2*this.xyz_z),this.rgb_b=G.fromLinear(G.m_b0*this.xyz_x+G.m_b1*this.xyz_y+G.m_b2*this.xyz_z)}rgbToXyz(){const t=G.toLinear(this.rgb_r),n=G.toLinear(this.rgb_g),s=G.toLinear(this.rgb_b);this.xyz_x=.41239079926595*t+.35758433938387*n+.18048078840183*s,this.xyz_y=.21263900587151*t+.71516867876775*n+.072192315360733*s,this.xyz_z=.019330818715591*t+.11919477979462*n+.95053215224966*s}xyzToLuv(){const t=this.xyz_x+15*this.xyz_y+3*this.xyz_z;let n=4*this.xyz_x,s=9*this.xyz_y;t!==0?(n/=t,s/=t):(n=NaN,s=NaN),this.luv_l=G.yToL(this.xyz_y),this.luv_l===0?(this.luv_u=0,this.luv_v=0):(this.luv_u=13*this.luv_l*(n-G.refU),this.luv_v=13*this.luv_l*(s-G.refV))}luvToXyz(){if(this.luv_l===0){this.xyz_x=0,this.xyz_y=0,this.xyz_z=0;return}const t=this.luv_u/(13*this.luv_l)+G.refU,n=this.luv_v/(13*this.luv_l)+G.refV;this.xyz_y=G.lToY(this.luv_l),this.xyz_x=0-9*this.xyz_y*t/((t-4)*n-t*n),this.xyz_z=(9*this.xyz_y-15*n*this.xyz_y-n*this.xyz_x)/(3*n)}luvToLch(){if(this.lch_l=this.luv_l,this.lch_c=Math.sqrt(this.luv_u*this.luv_u+this.luv_v*this.luv_v),this.lch_c<1e-8)this.lch_h=0;else{const t=Math.atan2(this.luv_v,this.luv_u);this.lch_h=t*180/Math.PI,this.lch_h<0&&(this.lch_h=360+this.lch_h)}}lchToLuv(){const t=this.lch_h/180*Math.PI;this.luv_l=this.lch_l,this.luv_u=Math.cos(t)*this.lch_c,this.luv_v=Math.sin(t)*this.lch_c}calculateBoundingLines(t){const n=Math.pow(t+16,3)/1560896,s=n>G.epsilon?n:t/G.kappa,a=s*(284517*G.m_r0-94839*G.m_r2),u=s*(838422*G.m_r2+769860*G.m_r1+731718*G.m_r0),l=s*(632260*G.m_r2-126452*G.m_r1),c=s*(284517*G.m_g0-94839*G.m_g2),d=s*(838422*G.m_g2+769860*G.m_g1+731718*G.m_g0),f=s*(632260*G.m_g2-126452*G.m_g1),_=s*(284517*G.m_b0-94839*G.m_b2),p=s*(838422*G.m_b2+769860*G.m_b1+731718*G.m_b0),w=s*(632260*G.m_b2-126452*G.m_b1);this.r0s=a/l,this.r0i=u*t/l,this.r1s=a/(l+126452),this.r1i=(u-769860)*t/(l+126452),this.g0s=c/f,this.g0i=d*t/f,this.g1s=c/(f+126452),this.g1i=(d-769860)*t/(f+126452),this.b0s=_/w,this.b0i=p*t/w,this.b1s=_/(w+126452),this.b1i=(p-769860)*t/(w+126452)}calcMaxChromaHpluv(){const t=G.distanceFromOrigin(this.r0s,this.r0i),n=G.distanceFromOrigin(this.r1s,this.r1i),s=G.distanceFromOrigin(this.g0s,this.g0i),a=G.distanceFromOrigin(this.g1s,this.g1i),u=G.distanceFromOrigin(this.b0s,this.b0i),l=G.distanceFromOrigin(this.b1s,this.b1i);return G.min6(t,n,s,a,u,l)}calcMaxChromaHsluv(t){const n=t/360*Math.PI*2,s=G.distanceFromOriginAngle(this.r0s,this.r0i,n),a=G.distanceFromOriginAngle(this.r1s,this.r1i,n),u=G.distanceFromOriginAngle(this.g0s,this.g0i,n),l=G.distanceFromOriginAngle(this.g1s,this.g1i,n),c=G.distanceFromOriginAngle(this.b0s,this.b0i,n),d=G.distanceFromOriginAngle(this.b1s,this.b1i,n);return G.min6(s,a,u,l,c,d)}hsluvToLch(){if(this.hsluv_l>99.9999999)this.lch_l=100,this.lch_c=0;else if(this.hsluv_l<1e-8)this.lch_l=0,this.lch_c=0;else{this.lch_l=this.hsluv_l,this.calculateBoundingLines(this.hsluv_l);const t=this.calcMaxChromaHsluv(this.hsluv_h);this.lch_c=t/100*this.hsluv_s}this.lch_h=this.hsluv_h}lchToHsluv(){if(this.lch_l>99.9999999)this.hsluv_s=0,this.hsluv_l=100;else if(this.lch_l<1e-8)this.hsluv_s=0,this.hsluv_l=0;else{this.calculateBoundingLines(this.lch_l);const t=this.calcMaxChromaHsluv(this.lch_h);this.hsluv_s=this.lch_c/t*100,this.hsluv_l=this.lch_l}this.hsluv_h=this.lch_h}hpluvToLch(){if(this.hpluv_l>99.9999999)this.lch_l=100,this.lch_c=0;else if(this.hpluv_l<1e-8)this.lch_l=0,this.lch_c=0;else{this.lch_l=this.hpluv_l,this.calculateBoundingLines(this.hpluv_l);const t=this.calcMaxChromaHpluv();this.lch_c=t/100*this.hpluv_p}this.lch_h=this.hpluv_h}lchToHpluv(){if(this.lch_l>99.9999999)this.hpluv_p=0,this.hpluv_l=100;else if(this.lch_l<1e-8)this.hpluv_p=0,this.hpluv_l=0;else{this.calculateBoundingLines(this.lch_l);const t=this.calcMaxChromaHpluv();this.hpluv_p=this.lch_c/t*100,this.hpluv_l=this.lch_l}this.hpluv_h=this.lch_h}hsluvToRgb(){this.hsluvToLch(),this.lchToLuv(),this.luvToXyz(),this.xyzToRgb()}hpluvToRgb(){this.hpluvToLch(),this.lchToLuv(),this.luvToXyz(),this.xyzToRgb()}hsluvToHex(){this.hsluvToRgb(),this.rgbToHex()}hpluvToHex(){this.hpluvToRgb(),this.rgbToHex()}rgbToHsluv(){this.rgbToXyz(),this.xyzToLuv(),this.luvToLch(),this.lchToHpluv(),this.lchToHsluv()}rgbToHpluv(){this.rgbToXyz(),this.xyzToLuv(),this.luvToLch(),this.lchToHpluv(),this.lchToHpluv()}hexToHsluv(){this.hexToRgb(),this.rgbToHsluv()}hexToHpluv(){this.hexToRgb(),this.rgbToHpluv()}}G.hexChars="0123456789abcdef";G.refY=1;G.refU=.19783000664283;G.refV=.46831999493879;G.kappa=903.2962962;G.epsilon=.0088564516;G.m_r0=3.240969941904521;G.m_r1=-1.537383177570093;G.m_r2=-.498610760293;G.m_g0=-.96924363628087;G.m_g1=1.87596750150772;G.m_g2=.041555057407175;G.m_b0=.055630079696993;G.m_b1=-.20397695888897;G.m_b2=1.056971514242878;const Ue=Math.round((be+1)/2),Jr=1/be,Wn=new G;function Ww(i,t,n){return Wn.hsluv_h=i*360,Wn.hsluv_s=t*100,Wn.hsluv_l=n*100,Wn.hsluvToRgb(),[Wn.rgb_r*255,Wn.rgb_g*255,Wn.rgb_b*255]}function Gw(i,t){for(let c=0;c<Ue-1;c++){for(let O=0;O<Ue-1;O++){const C=3*(c*Ue+O),L=3*(c*Ue+O+1),W=3*((c+1)*Ue+O),te=3*((c+1)*Ue+O+1),se=i[C+0],z=i[L+0],ne=i[W+0],X=i[te+0],j=i[C+1],re=i[L+1],V=i[W+1],R=i[te+1],B=i[C+2],Q=i[L+2],we=i[W+2],ve=i[te+2],ce=4*(2*c*be+2*O),it=4*(2*c*be+2*O+1),$e=4*((2*c+1)*be+2*O),Ct=4*((2*c+1)*be+2*O+1);t[ce+0]=se,t[ce+1]=j,t[ce+2]=B,t[it+0]=.5*(se+z),t[it+1]=.5*(j+re),t[it+2]=.5*(B+Q),t[$e+0]=.5*(se+ne),t[$e+1]=.5*(j+V),t[$e+2]=.5*(B+we),t[Ct+0]=.25*(z+z+ne+X),t[Ct+1]=.25*(re+re+V+R),t[Ct+2]=.25*(Q+Q+we+ve)}const d=3*(c*Ue+Ue-1),f=3*((c+1)*Ue+Ue-1),_=i[d+0],p=i[d+1],w=i[d+2],E=i[f+0],A=i[f+1],T=i[f+2],y=4*(2*c*be+be-1),b=4*((2*c+1)*be+be-1);t[y+0]=_,t[y+1]=p,t[y+2]=w,t[b+0]=.5*(_+E),t[b+1]=.5*(p+A),t[b+2]=.5*(w+T)}for(let c=0;c<Ue-1;c++){const d=3*((Ue-1)*Ue+c),f=3*((Ue-1)*Ue+c+1),_=i[d+0],p=i[d+1],w=i[d+2],E=i[f+0],A=i[f+1],T=i[f+2],y=4*((be-1)*be+2*c),b=4*((be-1)*be+2*c+1);t[y+0]=_,t[y+1]=p,t[y+2]=w,t[b+0]=.5*(_+E),t[b+1]=.5*(p+A),t[b+2]=.5*(w+T)}const n=3*(Ue*Ue-1),s=4*(be*be-1),a=i[n+0],u=i[n+1],l=i[n+2];t[s+0]=a,t[s+1]=u,t[s+2]=l}function qw(i,t,n,s){const a=hh(i,t,n),u=s.data,l=new Float32Array(Ue*Ue*3);for(let c=0;c<Ue;c++)for(let d=0;d<Ue;d++){const f=ch(a[0],2*d*Jr,1-2*c*Jr),_=3*(c*Ue+d);l[_+0]=f[0],l[_+1]=f[1],l[_+2]=f[2]}for(let c=0;c<be;c++)for(let d=0;d<be;d++){const f=4*(c*be+d);u[f+3]=255}Gw(l,u)}function Hw(){const i=new Uint8ClampedArray(be*dn*4);for(let t=0;t<be;t++){const n=Math.cos(2*Math.PI*t*Jr),s=Math.sin(2*Math.PI*t*Jr),a=Ww(t*Jr,.9,.65+.2*s-.09*n);for(let u=0;u<dn;u++){const l=4*(t*dn+u);i[l+0]=a[0],i[l+1]=a[1],i[l+2]=a[2],i[l+3]=255}}return new ImageData(i,dn)}function Jw(i){let t,n,s=`${In}px`,a=`${In}px`,u,l,c=`${In}px`,d=`${be+ea}px`,f,_,p,w,E,A,T,y,b,O,C,L,W,te=`${i[3]}px`,se=`${i[4]}px`,z,ne;return{c(){t=J("div"),n=J("canvas"),u=Ae(),l=J("canvas"),f=Ae(),_=at("svg"),p=at("g"),w=at("g"),E=at("circle"),A=at("circle"),y=at("g"),b=at("g"),O=at("polygon"),C=at("polygon"),this.h()},l(X){t=K(X,"DIV",{class:!0,tabindex:!0});var j=ee(t);n=K(j,"CANVAS",{id:!0,width:!0,height:!0,class:!0}),ee(n).forEach(D),u=Se(j),l=K(j,"CANVAS",{width:!0,height:!0,class:!0}),ee(l).forEach(D),f=Se(j),_=ut(j,"svg",{width:!0,height:!0,class:!0});var re=ee(_);p=ut(re,"g",{transform:!0});var V=ee(p);w=ut(V,"g",{transform:!0});var R=ee(w);E=ut(R,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0}),ee(E).forEach(D),A=ut(R,"circle",{cx:!0,cy:!0,r:!0,fill:!0,"stroke-width":!0,stroke:!0}),ee(A).forEach(D),R.forEach(D),V.forEach(D),y=ut(re,"g",{transform:!0});var B=ee(y);b=ut(B,"g",{transform:!0});var Q=ee(b);O=ut(Q,"polygon",{points:!0,fill:!0,"stroke-width":!0,stroke:!0}),ee(O).forEach(D),C=ut(Q,"polygon",{points:!0,fill:!0,"stroke-width":!0,stroke:!0}),ee(C).forEach(D),Q.forEach(D),B.forEach(D),re.forEach(D),j.forEach(D),this.h()},h(){M(n,"id","okhsv_sv_canvas"),M(n,"width",be),M(n,"height",be),M(n,"class","svelte-172030f"),Gn(n,"top",s,!1),Gn(n,"left",a,!1),M(l,"width",dn),M(l,"height",be),M(l,"class","svelte-172030f"),Gn(l,"top",c,!1),Gn(l,"left",d,!1),M(E,"cx","0"),M(E,"cy","0"),M(E,"r","5"),M(E,"fill","none"),M(E,"stroke-width","1.75"),M(E,"stroke","#fff"),M(A,"cx","0"),M(A,"cy","0"),M(A,"r","6"),M(A,"fill","none"),M(A,"stroke-width","1.25"),M(A,"stroke","#000"),M(w,"transform",T="translate("+i[1]+","+i[0]+")"),M(p,"transform","translate("+(In+.5)+","+(In+.5)+")"),M(O,"points","-7,-4 -1,0 -7,4"),M(O,"fill","#fff"),M(O,"stroke-width","0.8"),M(O,"stroke","#000"),M(C,"points",dn+7+",-4 "+(dn+1)+",0 "+(dn+7)+",4"),M(C,"fill","#fff"),M(C,"stroke-width","0.8"),M(C,"stroke","#000"),M(b,"transform",L="translate(0,"+i[2]+")"),M(y,"transform","translate("+(be+ea)+","+(In+.5)+")"),M(_,"width",i[3]),M(_,"height",i[4]),M(_,"class","svelte-172030f"),M(t,"class",W=Gl(i[11].class)+" svelte-172030f"),M(t,"tabindex","0"),Gn(t,"width",te,!1),Gn(t,"height",se,!1)},m(X,j){ie(X,t,j),q(t,n),q(t,u),q(t,l),q(t,f),q(t,_),q(_,p),q(p,w),q(w,E),q(w,A),q(_,y),q(y,b),q(b,O),q(b,C),z||(ne=[Gi(i[9].call(null,n,i[7])),Gi(i[5].call(null,n)),Gi(i[9].call(null,l,i[8])),Gi(i[6].call(null,l)),gn(t,"keydown",i[10])],z=!0)},p(X,[j]){j&3&&T!==(T="translate("+X[1]+","+X[0]+")")&&M(w,"transform",T),j&4&&L!==(L="translate(0,"+X[2]+")")&&M(b,"transform",L),j&2048&&W!==(W=Gl(X[11].class)+" svelte-172030f")&&M(t,"class",W)},i:Oe,o:Oe,d(X){X&&D(t),z=!1,jc(ne)}}}function Rc(i){return i<0?0:i>255?255:i}function Kw(i,t,n){let s,a,u,l,{r:c=0}=t,{g:d=0}=t,{b:f=0}=t;const _=Zv(),p=be+dn+ea+In*2,w=be+In*2;let E,A,T;function y(z){E=z,A=E.getContext("2d"),T=A.getImageData(0,0,E.width,E.height),L(a,u)}function b(z){const ne=Hw();z.getContext("2d").putImageData(ne,0,0)}function O(z){return z<Yi?Yi:z>1-Yi?1-Yi:z}function C(z,ne,X){if(!E)return;const j=ch(z,ne,X);n(12,c=j[0]),n(13,d=j[1]),n(14,f=j[2]),qw(c,d,f,T),A.putImageData(T,0,0),_("change",{rgb:j,okhsv:s})}function L(z,ne){let X=O(z/be),j=O(1-ne/be);n(15,s[1]=X,s),n(15,s[2]=j,s)}function W(z,ne){let X=O(ne/be);n(15,s[0]=X,s)}function te(z,ne){function X(j){const re=z.getBoundingClientRect(),V=Rc(j.clientX-re.left),R=Rc(j.clientY-re.top);ne(V,R)}z.onpointerdown=j=>{z.setPointerCapture(j.pointerId),X(j),z.onpointermove=X,z.onpointerup=re=>{z.onpointermove=null,z.onpointerup=null}}}function se(z){z.preventDefault(),z.stopPropagation();const ne=z.shiftKey?10:1;switch(z.key){case"ArrowUp":z.altKey?W(a,Math.round(l-ne)):L(a,Math.round(u-ne));break;case"ArrowDown":z.altKey?W(a,Math.round(l+ne)):L(a,Math.round(u+ne));break;case"ArrowLeft":L(Math.round(a-ne),u);break;case"ArrowRight":L(Math.round(a+ne),u);break}}return i.$$set=z=>{n(11,t=ql(ql({},t),Hl(z))),"r"in z&&n(12,c=z.r),"g"in z&&n(13,d=z.g),"b"in z&&n(14,f=z.b)},i.$$.update=()=>{i.$$.dirty&28672&&n(15,s=hh(c,d,f)),i.$$.dirty&32768&&n(1,a=be*s[1]),i.$$.dirty&32768&&n(0,u=be*(1-s[2])),i.$$.dirty&32768&&n(2,l=Math.round(be*s[0])),i.$$.dirty&32768&&C(s[0],s[1],s[2])},t=Hl(t),[u,a,l,p,w,y,b,L,W,te,se,t,c,d,f,s]}class Yw extends lt{constructor(t){super(),ct(this,t,Kw,Jw,ht,{r:12,g:13,b:14})}}function Ic(i){let t,n,s,a;return{c(){t=J("button"),n=je("Next"),this.h()},l(u){t=K(u,"BUTTON",{class:!0});var l=ee(t);n=ze(l,"Next"),l.forEach(D),this.h()},h(){M(t,"class","svelte-pkndfp")},m(u,l){ie(u,t,l),q(t,n),s||(a=gn(t,"click",i[6]),s=!0)},p:Oe,d(u){u&&D(t),s=!1,a()}}}function Vw(i){let t,n,s,a,u,l,c,d,f,_;c=new Yw({props:{r:i[1],g:i[2],b:i[3]}}),c.$on("change",i[5]);let p=i[0].length>1&&Ic(i);return{c(){t=J("p"),n=je("You're feeling "),s=J("strong"),a=je(i[4]),u=je(" - what color is it?"),l=Ae(),qe(c.$$.fragment),d=Ae(),p&&p.c(),f=xt(),this.h()},l(w){t=K(w,"P",{});var E=ee(t);n=ze(E,"You're feeling "),s=K(E,"STRONG",{class:!0});var A=ee(s);a=ze(A,i[4]),A.forEach(D),u=ze(E," - what color is it?"),E.forEach(D),l=Se(w),He(c.$$.fragment,w),d=Se(w),p&&p.l(w),f=xt(),this.h()},h(){M(s,"class","word svelte-pkndfp")},m(w,E){ie(w,t,E),q(t,n),q(t,s),q(s,a),q(t,u),ie(w,l,E),Je(c,w,E),ie(w,d,E),p&&p.m(w,E),ie(w,f,E),_=!0},p(w,[E]){(!_||E&16)&&Xr(a,w[4]);const A={};E&2&&(A.r=w[1]),E&4&&(A.g=w[2]),E&8&&(A.b=w[3]),c.$set(A),w[0].length>1?p?p.p(w,E):(p=Ic(w),p.c(),p.m(f.parentNode,f)):p&&(p.d(1),p=null)},i(w){_||(xe(c.$$.fragment,w),_=!0)},o(w){Ie(c.$$.fragment,w),_=!1},d(w){w&&D(t),w&&D(l),Ke(c,w),w&&D(d),p&&p.d(w),w&&D(f)}}}function Xw(i,t,n){let s,a,u,l;rt(i,br,y=>n(0,a=y)),rt(i,Zi,y=>n(9,u=y)),rt(i,Qi,y=>n(10,l=y));let c=0,d,f=216,_=216,p=216;const w=y=>y.replace("rgb(","").replace(")","").split(",").map(O=>O.trim()),E=()=>{if(l[c]){const y=w(l[c]);n(1,f=y[0]),n(2,_=y[1]),n(3,p=y[2])}},A=y=>{const b=y.detail.rgb;b[0]&&b[1]&&b[2]&&(d=`rgb(${b[0]}, ${b[1]}, ${b[2]})`,Xn(Qi,l[c]=d,l))},T=async y=>{const b=l.join("|");await ah({table:"emotions",column:"colors",value:b,id:u}),c+1<a.length?n(7,c+=1):n(7,c=0),E()};return i.$$.update=()=>{i.$$.dirty&129&&n(4,s=a[c])},[a,f,_,p,s,A,T,c]}class Zw extends lt{constructor(t){super(),ct(this,t,Xw,Vw,ht,{})}}function Qw(i){let t,n,s,a,u,l,c,d;return{c(){t=J("p"),n=je(`Ok, so that's how feelings show up in my body/nervous system... how do they
	show up in yours?`),s=Ae(),a=J("p"),u=je("Where do you feel "),l=J("strong"),c=je("frustration"),d=je("?")},l(f){t=K(f,"P",{});var _=ee(t);n=ze(_,`Ok, so that's how feelings show up in my body/nervous system... how do they
	show up in yours?`),_.forEach(D),s=Se(f),a=K(f,"P",{});var p=ee(a);u=ze(p,"Where do you feel "),l=K(p,"STRONG",{});var w=ee(l);c=ze(w,"frustration"),w.forEach(D),d=ze(p,"?"),p.forEach(D)},m(f,_){ie(f,t,_),q(t,n),ie(f,s,_),ie(f,a,_),q(a,u),q(a,l),q(l,c),q(a,d)},p:Oe,i:Oe,o:Oe,d(f){f&&D(t),f&&D(s),f&&D(a)}}}class eb extends lt{constructor(t){super(),ct(this,t,null,Qw,ht,{})}}function kc(i){let t,n;return{c(){t=J("div"),n=je(i[1]),this.h()},l(s){t=K(s,"DIV",{class:!0});var a=ee(t);n=ze(a,i[1]),a.forEach(D),this.h()},h(){M(t,"class","title svelte-18g1jre")},m(s,a){ie(s,t,a),q(t,n)},p(s,a){a&2&&Xr(n,s[1])},d(s){s&&D(t)}}}function tb(i){let t,n,s,a,u,l,c=i[2]&&kc(i);return{c(){t=J("div"),n=J("img"),a=Ae(),c&&c.c(),this.h()},l(d){t=K(d,"DIV",{class:!0});var f=ee(t);n=K(f,"IMG",{src:!0,class:!0}),a=Se(f),c&&c.l(f),f.forEach(D),this.h()},h(){Mn(n.src,s=`assets/img/${i[0]}`)||M(n,"src",s),M(n,"class","svelte-18g1jre"),kt(n,"faded",i[2]),M(t,"class","card svelte-18g1jre")},m(d,f){ie(d,t,f),q(t,n),q(t,a),c&&c.m(t,null),u||(l=[gn(n,"mouseenter",i[5]),gn(n,"mouseleave",i[6]),gn(n,"click",i[3])],u=!0)},p(d,[f]){f&1&&!Mn(n.src,s=`assets/img/${d[0]}`)&&M(n,"src",s),f&4&&kt(n,"faded",d[2]),d[2]?c?c.p(d,f):(c=kc(d),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i:Oe,o:Oe,d(d){d&&D(t),c&&c.d(),u=!1,jc(l)}}}function nb(i,t,n){let{img:s}=t,{title:a}=t,{selected:u}=t,l=!1;const c=()=>{n(4,u=s)},d=()=>n(2,l=!0),f=()=>n(2,l=!1);return i.$$set=_=>{"img"in _&&n(0,s=_.img),"title"in _&&n(1,a=_.title),"selected"in _&&n(4,u=_.selected)},[s,a,l,c,u,d,f]}class _r extends lt{constructor(t){super(),ct(this,t,nb,tb,ht,{img:0,title:1,selected:4})}}function rb(i){let t,n,s,a,u,l,c,d;return{c(){t=J("div"),n=J("img"),a=Ae(),u=J("div"),l=je("x"),this.h()},l(f){t=K(f,"DIV",{class:!0});var _=ee(t);n=K(_,"IMG",{src:!0}),a=Se(_),u=K(_,"DIV",{class:!0});var p=ee(u);l=ze(p,"x"),p.forEach(D),_.forEach(D),this.h()},h(){Mn(n.src,s=i[0]?`assets/img/${i[0]}`:"")||M(n,"src",s),M(u,"class","close svelte-hu2faw"),M(t,"class","modal svelte-hu2faw"),kt(t,"visible",i[0])},m(f,_){ie(f,t,_),q(t,n),q(t,a),q(t,u),q(u,l),c||(d=gn(u,"click",i[1]),c=!0)},p(f,[_]){_&1&&!Mn(n.src,s=f[0]?`assets/img/${f[0]}`:"")&&M(n,"src",s),_&1&&kt(t,"visible",f[0])},i:Oe,o:Oe,d(f){f&&D(t),c=!1,d()}}}function ib(i,t,n){let{selected:s}=t;const a=()=>{n(0,s=void 0)};return i.$$set=u=>{"selected"in u&&n(0,s=u.selected)},[s,a]}class sb extends lt{constructor(t){super(),ct(this,t,ib,rb,ht,{selected:0})}}function ob(i){let t,n,s,a,u,l,c,d,f,_,p,w,E,A,T,y,b,O,C,L,W,te,se,z;function ne(oe){i[1](oe)}let X={img:"george_floyd_6.png",title:"George Floyd protests"};i[0]!==void 0&&(X.selected=i[0]),s=new _r({props:X}),Kt.push(()=>On(s,"selected",ne));function j(oe){i[2](oe)}let re={img:"dress.png",title:"Dress"};i[0]!==void 0&&(re.selected=i[0]),l=new _r({props:re}),Kt.push(()=>On(l,"selected",j));function V(oe){i[3](oe)}let R={img:"suit.png",title:"Suit"};i[0]!==void 0&&(R.selected=i[0]),f=new _r({props:R}),Kt.push(()=>On(f,"selected",V));function B(oe){i[4](oe)}let Q={img:"family.png",title:"Family"};i[0]!==void 0&&(Q.selected=i[0]),w=new _r({props:Q}),Kt.push(()=>On(w,"selected",B));function we(oe){i[5](oe)}let ve={img:"pronouns.png",title:"Pronouns"};i[0]!==void 0&&(ve.selected=i[0]),y=new _r({props:ve}),Kt.push(()=>On(y,"selected",we));function ce(oe){i[6](oe)}let it={img:"the_things_color.png",title:"Life audit"};i[0]!==void 0&&(it.selected=i[0]),C=new _r({props:it}),Kt.push(()=>On(C,"selected",ce));function $e(oe){i[7](oe)}let Ct={};return i[0]!==void 0&&(Ct.selected=i[0]),te=new sb({props:Ct}),Kt.push(()=>On(te,"selected",$e)),{c(){t=J("div"),n=J("div"),qe(s.$$.fragment),u=Ae(),qe(l.$$.fragment),d=Ae(),qe(f.$$.fragment),p=Ae(),qe(w.$$.fragment),A=Ae(),T=J("div"),qe(y.$$.fragment),O=Ae(),qe(C.$$.fragment),W=Ae(),qe(te.$$.fragment),this.h()},l(oe){t=K(oe,"DIV",{class:!0});var Ye=ee(t);n=K(Ye,"DIV",{class:!0});var Qe=ee(n);He(s.$$.fragment,Qe),u=Se(Qe),He(l.$$.fragment,Qe),d=Se(Qe),He(f.$$.fragment,Qe),p=Se(Qe),He(w.$$.fragment,Qe),Qe.forEach(D),A=Se(Ye),T=K(Ye,"DIV",{class:!0});var Mt=ee(T);He(y.$$.fragment,Mt),O=Se(Mt),He(C.$$.fragment,Mt),Mt.forEach(D),Ye.forEach(D),W=Se(oe),He(te.$$.fragment,oe),this.h()},h(){M(n,"class","row svelte-1xkj1d"),M(T,"class","row svelte-1xkj1d"),M(t,"class","container svelte-1xkj1d"),kt(t,"faded",i[0])},m(oe,Ye){ie(oe,t,Ye),q(t,n),Je(s,n,null),q(n,u),Je(l,n,null),q(n,d),Je(f,n,null),q(n,p),Je(w,n,null),q(t,A),q(t,T),Je(y,T,null),q(T,O),Je(C,T,null),ie(oe,W,Ye),Je(te,oe,Ye),z=!0},p(oe,[Ye]){const Qe={};!a&&Ye&1&&(a=!0,Qe.selected=oe[0],Rn(()=>a=!1)),s.$set(Qe);const Mt={};!c&&Ye&1&&(c=!0,Mt.selected=oe[0],Rn(()=>c=!1)),l.$set(Mt);const Zr={};!_&&Ye&1&&(_=!0,Zr.selected=oe[0],Rn(()=>_=!1)),f.$set(Zr);const _n={};!E&&Ye&1&&(E=!0,_n.selected=oe[0],Rn(()=>E=!1)),w.$set(_n);const pn={};!b&&Ye&1&&(b=!0,pn.selected=oe[0],Rn(()=>b=!1)),y.$set(pn);const Qr={};!L&&Ye&1&&(L=!0,Qr.selected=oe[0],Rn(()=>L=!1)),C.$set(Qr),(!z||Ye&1)&&kt(t,"faded",oe[0]);const Pn={};!se&&Ye&1&&(se=!0,Pn.selected=oe[0],Rn(()=>se=!1)),te.$set(Pn)},i(oe){z||(xe(s.$$.fragment,oe),xe(l.$$.fragment,oe),xe(f.$$.fragment,oe),xe(w.$$.fragment,oe),xe(y.$$.fragment,oe),xe(C.$$.fragment,oe),xe(te.$$.fragment,oe),z=!0)},o(oe){Ie(s.$$.fragment,oe),Ie(l.$$.fragment,oe),Ie(f.$$.fragment,oe),Ie(w.$$.fragment,oe),Ie(y.$$.fragment,oe),Ie(C.$$.fragment,oe),Ie(te.$$.fragment,oe),z=!1},d(oe){oe&&D(t),Ke(s),Ke(l),Ke(f),Ke(w),Ke(y),Ke(C),oe&&D(W),Ke(te,oe)}}}function ab(i,t,n){let s;function a(p){s=p,n(0,s)}function u(p){s=p,n(0,s)}function l(p){s=p,n(0,s)}function c(p){s=p,n(0,s)}function d(p){s=p,n(0,s)}function f(p){s=p,n(0,s)}function _(p){s=p,n(0,s)}return[s,a,u,l,c,d,f,_]}class ub extends lt{constructor(t){super(),ct(this,t,ab,ob,ht,{})}}function Cc(i,t,n){const s=i.slice();return s[4]=t[n],s}function lb(i){let t,n=i[1],s=[];for(let a=0;a<n.length;a+=1)s[a]=Mc(Cc(i,n,a));return{c(){t=J("div");for(let a=0;a<s.length;a+=1)s[a].c();this.h()},l(a){t=K(a,"DIV",{class:!0});var u=ee(t);for(let l=0;l<s.length;l+=1)s[l].l(u);u.forEach(D),this.h()},h(){M(t,"class","words svelte-h8inr6")},m(a,u){ie(a,t,u);for(let l=0;l<s.length;l+=1)s[l].m(t,null)},p(a,u){if(u&2){n=a[1];let l;for(l=0;l<n.length;l+=1){const c=Cc(a,n,l);s[l]?s[l].p(c,u):(s[l]=Mc(c),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},i:Oe,o:Oe,d(a){a&&D(t),Vn(s,a)}}}function cb(i){let t,n;return t=new ub({}),{c(){qe(t.$$.fragment)},l(s){He(t.$$.fragment,s)},m(s,a){Je(t,s,a),n=!0},p:Oe,i(s){n||(xe(t.$$.fragment,s),n=!0)},o(s){Ie(t.$$.fragment,s),n=!1},d(s){Ke(t,s)}}}function hb(i){let t,n,s;return n=new eb({}),{c(){t=J("div"),qe(n.$$.fragment),this.h()},l(a){t=K(a,"DIV",{class:!0});var u=ee(t);He(n.$$.fragment,u),u.forEach(D),this.h()},h(){M(t,"class","words svelte-h8inr6")},m(a,u){ie(a,t,u),Je(n,t,null),s=!0},p:Oe,i(a){s||(xe(n.$$.fragment,a),s=!0)},o(a){Ie(n.$$.fragment,a),s=!1},d(a){a&&D(t),Ke(n)}}}function fb(i){let t,n,s;return n=new Zw({}),{c(){t=J("div"),qe(n.$$.fragment),this.h()},l(a){t=K(a,"DIV",{class:!0});var u=ee(t);He(n.$$.fragment,u),u.forEach(D),this.h()},h(){M(t,"class","words svelte-h8inr6")},m(a,u){ie(a,t,u),Je(n,t,null),s=!0},p:Oe,i(a){s||(xe(n.$$.fragment,a),s=!0)},o(a){Ie(n.$$.fragment,a),s=!1},d(a){a&&D(t),Ke(n)}}}function db(i){let t,n,s;return n=new Bw({}),{c(){t=J("div"),qe(n.$$.fragment),this.h()},l(a){t=K(a,"DIV",{class:!0});var u=ee(t);He(n.$$.fragment,u),u.forEach(D),this.h()},h(){M(t,"class","words svelte-h8inr6")},m(a,u){ie(a,t,u),Je(n,t,null),s=!0},p:Oe,i(a){s||(xe(n.$$.fragment,a),s=!0)},o(a){Ie(n.$$.fragment,a),s=!1},d(a){a&&D(t),Ke(n)}}}function gb(i){let t,n,s;return n=new $w({props:{options:i[0].split("|")}}),{c(){t=J("div"),qe(n.$$.fragment),this.h()},l(a){t=K(a,"DIV",{class:!0});var u=ee(t);He(n.$$.fragment,u),u.forEach(D),this.h()},h(){M(t,"class","words svelte-h8inr6")},m(a,u){ie(a,t,u),Je(n,t,null),s=!0},p(a,u){const l={};u&1&&(l.options=a[0].split("|")),n.$set(l)},i(a){s||(xe(n.$$.fragment,a),s=!0)},o(a){Ie(n.$$.fragment,a),s=!1},d(a){a&&D(t),Ke(n)}}}function Mc(i){let t,n=i[4]+"";return{c(){t=J("p")},l(s){t=K(s,"P",{});var a=ee(t);a.forEach(D)},m(s,a){ie(s,t,a),t.innerHTML=n},p(s,a){a&2&&n!==(n=s[4]+"")&&(t.innerHTML=n)},d(s){s&&D(t)}}}function _b(i){let t,n,s,a;const u=[gb,db,fb,hb,cb,lb],l=[];function c(d,f){return d[2]==="survey-basic"?0:d[2]==="survey-words"?1:d[2]==="survey-color"?2:d[2]==="survey-body"?3:d[2]==="gallery"?4:5}return t=c(i),n=l[t]=u[t](i),{c(){n.c(),s=xt()},l(d){n.l(d),s=xt()},m(d,f){l[t].m(d,f),ie(d,s,f),a=!0},p(d,[f]){let _=t;t=c(d),t===_?l[t].p(d,f):(is(),Ie(l[_],1,1,()=>{l[_]=null}),ss(),n=l[t],n?n.p(d,f):(n=l[t]=u[t](d),n.c()),xe(n,1),n.m(s.parentNode,s))},i(d){a||(xe(n),a=!0)},o(d){Ie(n),a=!1},d(d){l[t].d(d),d&&D(s)}}}function pb(i,t,n){let s,a,u,{step:l}=t;return i.$$set=c=>{"step"in c&&n(3,l=c.step)},i.$$.update=()=>{i.$$.dirty&8&&n(2,{id:s,text:a,options:u}=l,s,(n(1,a),n(3,l)),(n(0,u),n(3,l)))},[u,a,s,l]}class vb extends lt{constructor(t){super(),ct(this,t,pb,_b,ht,{step:3})}}function mb(i){let t,n;const s=i[7].default,a=Qv(s,i,i[6],null);return{c(){t=J("div"),a&&a.c(),this.h()},l(u){t=K(u,"DIV",{class:!0});var l=ee(t);a&&a.l(l),l.forEach(D),this.h()},h(){M(t,"class","svelte-ciss0y")},m(u,l){ie(u,t,l),a&&a.m(t,null),i[8](t),n=!0},p(u,[l]){a&&a.p&&(!n||l&64)&&em(a,s,u,u[6],n?nm(s,u[6],l,null):tm(u[6]),null)},i(u){n||(xe(a,u),n=!0)},o(u){Ie(a,u),n=!1},d(u){u&&D(t),a&&a.d(u),i[8](null)}}}function yb(i,t,n){let{$$slots:s={},$$scope:a}=t,{root:u=null}=t,{top:l=0}=t,{bottom:c=0}=t,{increments:d=100}=t,{value:f=void 0}=t;const _=[],p=[];let w=[],E=[],A;const T=()=>{!w.length||w.forEach(b)},y=()=>{let C=0,L=0;for(let W=0;W<_.length;W++)_[W]>C&&(C=_[W],L=W);C>0?n(1,f=L):n(1,f=void 0)},b=(C,L)=>{const W=j=>{j[0].isIntersecting;const re=j[0].intersectionRatio;_[L]=re,y()},te=l?l*-1:0,se=c?c*-1:0,z=`${te}px 0px ${se}px 0px`,ne={root:u,rootMargin:z,threshold:p};E[L]&&E[L].disconnect();const X=new IntersectionObserver(W,ne);X.observe(C),E[L]=X};rm(()=>{for(let C=0;C<d+1;C++)p.push(C/d);w=A.querySelectorAll(":scope > *"),T()});function O(C){Kt[C?"unshift":"push"](()=>{A=C,n(0,A)})}return i.$$set=C=>{"root"in C&&n(2,u=C.root),"top"in C&&n(3,l=C.top),"bottom"in C&&n(4,c=C.bottom),"increments"in C&&n(5,d=C.increments),"value"in C&&n(1,f=C.value),"$$scope"in C&&n(6,a=C.$$scope)},i.$$.update=()=>{i.$$.dirty&24&&T()},[A,f,u,l,c,d,a,s,O]}class wb extends lt{constructor(t){super(),ct(this,t,yb,mb,ht,{root:2,top:3,bottom:4,increments:5,value:1})}}function Pc(i,t,n){const s=i.slice();s[15]=t[n],s[19]=n;const a=s[15].name==="source"?0:1;s[16]=a;const u=s[3][s[19]-1]?s[3][s[19]-1]:s[5]?s[5]:"";return s[17]=u,s}function Lc(i,t,n){const s=i.slice();return s[20]=t[n],s}function Dc(i){let t;return{c(){t=at("line"),this.h()},l(n){t=ut(n,"line",{stroke:!0}),ee(t).forEach(D),this.h()},h(){M(t,"stroke","darkgrey")},m(n,s){ie(n,t,s)},p:Oe,d(n){n&&D(t)}}}function $c(i){let t,n,s,a,u=i[17]+"",l,c;return{c(){t=at("g"),n=at("ellipse"),a=at("text"),l=je(u),this.h()},l(d){t=ut(d,"g",{class:!0,opacity:!0});var f=ee(t);n=ut(f,"ellipse",{class:!0,rx:!0,ry:!0,fill:!0}),ee(n).forEach(D),a=ut(f,"text",{class:!0});var _=ee(a);l=ze(_,u),_.forEach(D),f.forEach(D),this.h()},h(){M(n,"class",s=i[15].name==="source"?"source":"balloon"),M(n,"rx",ta),M(n,"ry",ta*1.2),M(n,"fill","rgb(216,216,216)"),M(a,"class","label svelte-1z006fi"),M(t,"class","node"),M(t,"opacity",c=i[16])},m(d,f){ie(d,t,f),q(t,n),q(t,a),q(a,l)},p(d,f){f&4&&s!==(s=d[15].name==="source"?"source":"balloon")&&M(n,"class",s),f&40&&u!==(u=d[17]+"")&&Xr(l,u),f&4&&c!==(c=d[16])&&M(t,"opacity",c)},d(d){d&&D(t)}}}function bb(i){let t,n,s,a,u,l,c,d,f,_,p=i[1],w=[];for(let T=0;T<p.length;T+=1)w[T]=Dc(Lc(i,p,T));let E=i[2],A=[];for(let T=0;T<E.length;T+=1)A[T]=$c(Pc(i,E,T));return{c(){t=J("img"),a=Ae(),u=at("svg"),l=at("g");for(let T=0;T<w.length;T+=1)w[T].c();c=at("g");for(let T=0;T<A.length;T+=1)A[T].c();this.h()},l(T){t=K(T,"IMG",{class:!0,src:!0}),a=Se(T),u=ut(T,"svg",{width:!0,height:!0,class:!0});var y=ee(u);l=ut(y,"g",{class:!0});var b=ee(l);for(let C=0;C<w.length;C+=1)w[C].l(b);b.forEach(D),c=ut(y,"g",{class:!0});var O=ee(c);for(let C=0;C<A.length;C+=1)A[C].l(O);O.forEach(D),y.forEach(D),this.h()},h(){M(t,"class","character svelte-1z006fi"),Mn(t.src,n="assets/img/wagon.png")||M(t,"src",n),M(l,"class","links"),M(c,"class","nodes"),M(u,"width",d=`${i[0]*100}%`),M(u,"height",400),M(u,"class","svelte-1z006fi")},m(T,y){ie(T,t,y),ie(T,a,y),ie(T,u,y),q(u,l);for(let b=0;b<w.length;b+=1)w[b].m(l,null);q(u,c);for(let b=0;b<A.length;b+=1)A[b].m(c,null);i[9](u),_=!0},p(T,[y]){if(y&2){p=T[1];let b;for(b=0;b<p.length;b+=1){const O=Lc(T,p,b);w[b]?w[b].p(O,y):(w[b]=Dc(),w[b].c(),w[b].m(l,null))}for(;b<w.length;b+=1)w[b].d(1);w.length=p.length}if(y&44){E=T[2];let b;for(b=0;b<E.length;b+=1){const O=Pc(T,E,b);A[b]?A[b].p(O,y):(A[b]=$c(O),A[b].c(),A[b].m(c,null))}for(;b<A.length;b+=1)A[b].d(1);A.length=E.length}(!_||y&1&&d!==(d=`${T[0]*100}%`))&&M(u,"width",d)},i(T){_||(zo(()=>{s||(s=mr(t,yr,{},!0)),s.run(1)}),zo(()=>{f||(f=mr(u,yr,{},!0)),f.run(1)}),_=!0)},o(T){s||(s=mr(t,yr,{},!1)),s.run(0),f||(f=mr(u,yr,{},!1)),f.run(0),_=!1},d(T){T&&D(t),T&&s&&s.end(),T&&D(a),T&&D(u),Vn(w,T),Vn(A,T),i[9](null),T&&f&&f.end()}}}const ta=20,jo=98,xb=278;function Tb(i,t,n){let s,a,u,l,c,d,f;rt(i,Qi,O=>n(8,c=O)),rt(i,br,O=>n(3,d=O)),rt(i,Kr,O=>n(5,f=O));let{scrollLeft:_}=t,{numSteps:p}=t,w;const E=async()=>{if(l){const O=a.find(C=>C.name==="source");O.fx=_+jo}},A=()=>{c.length&&Lo(w).selectAll("ellipse").data(a).attr("fill",(O,C)=>O.name==="source"?null:c[C-1]?c[C-1]:"lightgrey")},T=()=>{if(_&&l){const O=a.find(C=>C.name==="source");O.fx=_+jo,l.alpha(.5).restart()}},y=()=>{Lo(w).selectAll("line").data(u).join("line").attr("x1",O=>O.source.x).attr("y1",O=>O.source.y).attr("x2",O=>O.target.x).attr("y2",O=>O.target.y),Lo(w).selectAll("g.node").data(a).join("g.node").attr("transform",O=>`translate(${O.x}, ${O.y})`)};function b(O){Kt[O?"unshift":"push"](()=>{w=O,n(4,w)})}return i.$$set=O=>{"scrollLeft"in O&&n(6,_=O.scrollLeft),"numSteps"in O&&n(0,p=O.numSteps)},i.$$.update=()=>{i.$$.dirty&8&&n(7,s=d.length>0?d.length:1),i.$$.dirty&128&&n(2,a=[{name:"source",fx:jo,fy:xb},...ec(s).map(O=>({name:O}))]),i.$$.dirty&128&&n(1,u=ec(s).map(O=>({source:0,target:O+1}))),i.$$.dirty&128&&E(),i.$$.dirty&256&&A(),i.$$.dirty&64&&T(),i.$$.dirty&6&&(l=M1(a).force("charge",P1().strength(5)).force("collision",x1().radius(O=>ta)).force("y",L1().y(O=>O.name==="source"?500:0)).force("link",E1().links(u).distance(O=>150)).on("tick",y))},[p,u,a,d,w,f,_,s,c,b]}class Eb extends lt{constructor(t){super(),ct(this,t,Tb,bb,ht,{scrollLeft:6,numSteps:0})}}function Nc(i,t,n){const s=i.slice();return s[14]=t[n],s}function Uc(i){let t,n,s,a,u;t=new Eb({props:{scrollLeft:i[2]?i[2].scrollLeft:0,numSteps:i[1].length}});function l(d){i[11](d)}let c={$$slots:{default:[Ab]},$$scope:{ctx:i}};return i[3]!==void 0&&(c.value=i[3]),s=new wb({props:c}),Kt.push(()=>On(s,"value",l)),{c(){qe(t.$$.fragment),n=Ae(),qe(s.$$.fragment)},l(d){He(t.$$.fragment,d),n=Se(d),He(s.$$.fragment,d)},m(d,f){Je(t,d,f),ie(d,n,f),Je(s,d,f),u=!0},p(d,f){const _={};f&4&&(_.scrollLeft=d[2]?d[2].scrollLeft:0),f&2&&(_.numSteps=d[1].length),t.$set(_);const p={};f&131074&&(p.$$scope={dirty:f,ctx:d}),!a&&f&8&&(a=!0,p.value=d[3],Rn(()=>a=!1)),s.$set(p)},i(d){u||(xe(t.$$.fragment,d),xe(s.$$.fragment,d),u=!0)},o(d){Ie(t.$$.fragment,d),Ie(s.$$.fragment,d),u=!1},d(d){Ke(t,d),d&&D(n),Ke(s,d)}}}function Bc(i){let t,n;return{c(){t=J("img"),this.h()},l(s){t=K(s,"IMG",{src:!0,class:!0,style:!0}),this.h()},h(){Mn(t.src,n="assets/img/bubbles.png")||M(t,"src",n),M(t,"class","full-panel svelte-1w3bllq"),Gn(t,"position","absolute")},m(s,a){ie(s,t,a)},d(s){s&&D(t)}}}function Fc(i){let t,n,s,a,u,l,c,d,f=i[14].id==="not-okay"&&Bc();return l=new vb({props:{step:i[14]}}),{c(){t=J("div"),n=J("img"),a=Ae(),f&&f.c(),u=Ae(),qe(l.$$.fragment),c=Ae(),this.h()},l(_){t=K(_,"DIV",{class:!0});var p=ee(t);n=K(p,"IMG",{src:!0,class:!0}),a=Se(p),f&&f.l(p),u=Se(p),He(l.$$.fragment,p),c=Se(p),p.forEach(D),this.h()},h(){Mn(n.src,s="assets/img/ground.png")||M(n,"src",s),M(n,"class","full-panel svelte-1w3bllq"),M(t,"class","step svelte-1w3bllq"),kt(t,"hidden",!0)},m(_,p){ie(_,t,p),q(t,n),q(t,a),f&&f.m(t,null),q(t,u),Je(l,t,null),q(t,c),d=!0},p(_,p){_[14].id==="not-okay"?f||(f=Bc(),f.c(),f.m(t,u)):f&&(f.d(1),f=null);const w={};p&2&&(w.step=_[14]),l.$set(w)},i(_){d||(xe(l.$$.fragment,_),d=!0)},o(_){Ie(l.$$.fragment,_),d=!1},d(_){_&&D(t),f&&f.d(),Ke(l)}}}function Ab(i){let t,n,s=i[1],a=[];for(let l=0;l<s.length;l+=1)a[l]=Fc(Nc(i,s,l));const u=l=>Ie(a[l],1,1,()=>{a[l]=null});return{c(){for(let l=0;l<a.length;l+=1)a[l].c();t=xt()},l(l){for(let c=0;c<a.length;c+=1)a[c].l(l);t=xt()},m(l,c){for(let d=0;d<a.length;d+=1)a[d].m(l,c);ie(l,t,c),n=!0},p(l,c){if(c&2){s=l[1];let d;for(d=0;d<s.length;d+=1){const f=Nc(l,s,d);a[d]?(a[d].p(f,c),xe(a[d],1)):(a[d]=Fc(f),a[d].c(),xe(a[d],1),a[d].m(t.parentNode,t))}for(is(),d=s.length;d<a.length;d+=1)u(d);ss()}},i(l){if(!n){for(let c=0;c<s.length;c+=1)xe(a[c]);n=!0}},o(l){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)Ie(a[c]);n=!1},d(l){Vn(a,l),l&&D(t)}}}function Sb(i){let t,n,s,a,u,l;n=new r1({props:{scrolled:i[0],scrollMax:na}});let c=i[4]&&Uc(i);return{c(){t=J("div"),qe(n.$$.fragment),s=Ae(),c&&c.c(),this.h()},l(d){t=K(d,"DIV",{class:!0});var f=ee(t);He(n.$$.fragment,f),s=Se(f),c&&c.l(f),f.forEach(D),this.h()},h(){M(t,"class","world svelte-1w3bllq")},m(d,f){ie(d,t,f),Je(n,t,null),q(t,s),c&&c.m(t,null),i[12](t),a=!0,u||(l=gn(t,"mousewheel",im(i[5])),u=!0)},p(d,[f]){const _={};f&1&&(_.scrolled=d[0]),n.$set(_),d[4]?c?(c.p(d,f),f&16&&xe(c,1)):(c=Uc(d),c.c(),xe(c,1),c.m(t,null)):c&&(is(),Ie(c,1,1,()=>{c=null}),ss())},i(d){a||(xe(n.$$.fragment,d),xe(c),a=!0)},o(d){Ie(n.$$.fragment,d),Ie(c),a=!1},d(d){d&&D(t),Ke(n),c&&c.d(),i[12](null),u=!1,l()}}}const na=400;function Ob(i,t,n){let s,a,u,l,c,d,f,_;rt(i,Xl,b=>n(13,l=b)),rt(i,Go,b=>n(4,c=b)),rt(i,Qi,b=>n(8,d=b)),rt(i,br,b=>n(9,f=b)),rt(i,Kr,b=>n(10,_=b));let p,w,E=0;const A=b=>{const O=c&&p.scrollLeft===0&&b.deltaY<0;!c||O?(b.deltaY>0&&E<na||b.deltaY<0&&E>=0)&&n(0,E+=b.deltaY):(n(2,p.scrollLeft+=b.deltaY,p),Xn(Xl,l=p.scrollLeft,l))};function T(b){w=b,n(3,w)}function y(b){Kt[b?"unshift":"push"](()=>{p=b,n(2,p)})}return i.$$.update=()=>{i.$$.dirty&1&&Xn(Go,c=E>=na,c),i.$$.dirty&1792&&n(7,s=_?f.length<=0?"survey-words":d.length<=0?"survey-color":null:"survey-basic"),i.$$.dirty&128&&n(6,a=s?Cn.steps.findIndex(b=>b.id===s)+1:Cn.steps.length),i.$$.dirty&64&&n(1,u=Cn.steps.slice(0,a)),i.$$.dirty&2&&console.log({visibleSteps:u})},[E,u,p,w,c,A,a,s,d,f,_,T,y]}class Rb extends lt{constructor(t){super(),ct(this,t,Ob,Sb,ht,{})}}function Ib(i){let t,n;return t=new Rb({}),{c(){qe(t.$$.fragment)},l(s){He(t.$$.fragment,s)},m(s,a){Je(t,s,a),n=!0},p:Oe,i(s){n||(xe(t.$$.fragment,s),n=!0)},o(s){Ie(t.$$.fragment,s),n=!1},d(s){Ke(t,s)}}}class kb extends lt{constructor(t){super(),ct(this,t,null,Ib,ht,{})}}function Cb(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 4.2.1"),console.log("build: 2022-10-26-17:02"),console.log("--- --- --- --- --- ---")}function Mb(i){let t,n,s,a;return t=new gm({props:{title:i[1],description:i[2],url:i[3],preloadFont:i[0],keywords:i[4]}}),s=new kb({}),{c(){qe(t.$$.fragment),n=Ae(),qe(s.$$.fragment)},l(u){He(t.$$.fragment,u),n=Se(u),He(s.$$.fragment,u)},m(u,l){Je(t,u,l),ie(u,n,l),Je(s,u,l),a=!0},p:Oe,i(u){a||(xe(t.$$.fragment,u),xe(s.$$.fragment,u),a=!0)},o(u){Ie(t.$$.fragment,u),Ie(s.$$.fragment,u),a=!1},d(u){Ke(t,u),u&&D(n),Ke(s,u)}}}function Pb(i,t,n){let{data:s}=t;Cb();const a=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/national/National2Web-Regular.woff2","https://pudding.cool/assets/fonts/national/National2Web-Bold.woff2"],{title:u,description:l,url:c,keywords:d}=Cn;return Jl("copy",Cn),Jl("data",s.data),i.$$set=f=>{"data"in f&&n(5,s=f.data)},[a,u,l,c,d,s]}class Ub extends lt{constructor(t){super(),ct(this,t,Pb,Mb,ht,{data:5})}}export{Ub as default};
